!(function (e, t) {
  "object" == typeof exports && "object" == typeof module
    ? (module.exports = t())
    : "function" == typeof define && define.amd
    ? define([], t)
    : "object" == typeof exports
    ? (exports.viewerScript = t())
    : (e.viewerScript = t());
})(self, () =>
  (() => {
    var e = {
        186: (e, t) => {
          "use strict";
          (t.wn =
            t.xA =
            t.rH =
            t.Kh =
            t.ZJ =
            t.tt =
            t.DI =
            t.sV =
            t.dn =
              void 0),
            (t.AV = t.qq = void 0),
            (t.dn = "14bcded7-0066-7c35-14d7-466cb3f09103"),
            (t.sV = "140603ad-af8d-84a5-2c80-a0f60cb47351"),
            (t.DI = "13d21c63-b5ec-5912-8397-c3a5ddb27a97"),
            (t.tt = "14724f35-6794-cd1a-0244-25fd138f9242"),
            (t.ZJ = "1380b703-ce81-ff05-f115-39571d94dfcd"),
            (t.Kh = "14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9"),
            (t.rH = "b976560c-3122-4351-878f-453f337b7245"),
            (t.xA = "14dbefd2-01b4-fb61-32a7-3abd44da4908"),
            (t.wn = "14f25924-5664-31b2-9568-f9c5ed98c9b1"),
            (t.qq = "148c2287-c669-d849-d153-463c7486a694"),
            (t.AV = "1537b24e-29d1-6d8f-b8e1-d6860f2f70b9");
          var r = {};
        },
        213: (e, t, r) => {
          var n = r(174);
          (e.exports = function (e, t, r) {
            return (
              (t = n(t)) in e
                ? Object.defineProperty(e, t, {
                    value: r,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (e[t] = r),
              e
            );
          }),
            (e.exports.__esModule = !0),
            (e.exports.default = e.exports);
        },
        662: (e, t, r) => {
          var n = r(114).default;
          (e.exports = function (e, t) {
            if ("object" != n(e) || !e) return e;
            var r = e[Symbol.toPrimitive];
            if (void 0 !== r) {
              var i = r.call(e, t || "default");
              if ("object" != n(i)) return i;
              throw new TypeError(
                "@@toPrimitive must return a primitive value."
              );
            }
            return ("string" === t ? String : Number)(e);
          }),
            (e.exports.__esModule = !0),
            (e.exports.default = e.exports);
        },
        174: (e, t, r) => {
          var n = r(114).default,
            i = r(662);
          (e.exports = function (e) {
            var t = i(e, "string");
            return "symbol" == n(t) ? t : t + "";
          }),
            (e.exports.__esModule = !0),
            (e.exports.default = e.exports);
        },
        114: (e) => {
          function t(r) {
            return (
              (e.exports = t =
                "function" == typeof Symbol &&
                "symbol" == typeof Symbol.iterator
                  ? function (e) {
                      return typeof e;
                    }
                  : function (e) {
                      return e &&
                        "function" == typeof Symbol &&
                        e.constructor === Symbol &&
                        e !== Symbol.prototype
                        ? "symbol"
                        : typeof e;
                    }),
              (e.exports.__esModule = !0),
              (e.exports.default = e.exports),
              t(r)
            );
          }
          (e.exports = t),
            (e.exports.__esModule = !0),
            (e.exports.default = e.exports);
        },
      },
      t = {};
    function r(n) {
      var i = t[n];
      if (void 0 !== i) return i.exports;
      var o = (t[n] = { exports: {} });
      return e[n](o, o.exports, r), o.exports;
    }
    (r.n = (e) => {
      var t = e && e.__esModule ? () => e.default : () => e;
      return r.d(t, { a: t }), t;
    }),
      (r.d = (e, t) => {
        for (var n in t)
          r.o(t, n) &&
            !r.o(e, n) &&
            Object.defineProperty(e, n, { enumerable: !0, get: t[n] });
      }),
      (r.g = (function () {
        if ("object" == typeof globalThis) return globalThis;
        try {
          return this || new Function("return this")();
        } catch (e) {
          if ("object" == typeof window) return window;
        }
      })()),
      (r.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
      (r.r = (e) => {
        "undefined" != typeof Symbol &&
          Symbol.toStringTag &&
          Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }),
          Object.defineProperty(e, "__esModule", { value: !0 });
      }),
      (r.p =
        "https://static.parastorage.com/services/santa-members-viewer-app/8217aedcdc39c431c199e2012dafd062d2ac51986a4939355e22a9dc/");
    var n = {};
    return (
      (() => {
        "use strict";
        r.r(n),
          r.d(n, {
            createControllers: () => Xa,
            exports: () => Ka,
            initAppForPage: () => Ga,
          });
        var e = {};
        r.r(e), r.d(e, { default: () => vr });
        var t = {};
        r.r(t), r.d(t, { default: () => aa });
        var i = {};
        r.r(i), r.d(i, { default: () => ua });
        var o = {};
        r.r(o), r.d(o, { exports: () => Ia, initAppForPage: () => Sa });
        var s = "BLOCKS_WIDGET",
          a = [
            "ar",
            "arc",
            "bcc",
            "bqi",
            "ckb",
            "dv",
            "fa",
            "glk",
            "ha",
            "he",
            "khw",
            "ks",
            "ku",
            "mzn",
            "pnb",
            "ps",
            "sd",
            "ug",
            "ur",
            "yi",
          ];
        var u = function (e) {
            return e;
          },
          l = function (e) {
            var t = e.dsn,
              r = e.environment,
              n = e.release,
              i = e.withDataCallback,
              o = e.tags;
            return {
              dsn: t,
              config: {
                enabled: !0,
                release: n,
                dataCallback: i ? u : void 0,
                environment: r,
                tags: o,
              },
            };
          },
          c = function (e) {
            return e.isEnabled && e.currentLanguage
              ? e.currentLanguage
              : void 0;
          },
          d = function (e) {
            return (
              void 0 === e &&
                "undefined" != typeof window &&
                (e = window.location.search),
              new URLSearchParams(e)
            );
          },
          p = function (e, t) {
            var r = c(e.window.multilingual),
              n = e.site.language;
            if (t) {
              var i = d().get("regionalLanguage");
              i && (n = i);
            }
            return r || n || "en";
          },
          f = function (e) {
            return "backend" === e.window.rendering.env;
          },
          h = function (e) {
            return e.seo.isInSEO();
          },
          g = function (e, t, r, n) {
            return new (r || (r = Promise))(function (i, o) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  o(e);
                }
              }
              function a(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  o(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof r
                      ? t
                      : new r(function (e) {
                          e(t);
                        })).then(s, a);
              }
              u((n = n.apply(e, t || [])).next());
            });
          },
          v = function (e, t) {
            var r,
              n,
              i,
              o,
              s = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: a(0), throw: a(1), return: a(2) }),
              "function" == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function a(o) {
              return function (a) {
                return (function (o) {
                  if (r) throw new TypeError("Generator is already executing.");
                  for (; s; )
                    try {
                      if (
                        ((r = 1),
                        n &&
                          (i =
                            2 & o[0]
                              ? n.return
                              : o[0]
                              ? n.throw || ((i = n.return) && i.call(n), 0)
                              : n.next) &&
                          !(i = i.call(n, o[1])).done)
                      )
                        return i;
                      switch (((n = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return s.label++, { value: o[1], done: !1 };
                        case 5:
                          s.label++, (n = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = s.ops.pop()), s.trys.pop();
                          continue;
                        default:
                          if (
                            !((i = s.trys),
                            (i = i.length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0]))
                          ) {
                            s = 0;
                            continue;
                          }
                          if (
                            3 === o[0] &&
                            (!i || (o[1] > i[0] && o[1] < i[3]))
                          ) {
                            s.label = o[1];
                            break;
                          }
                          if (6 === o[0] && s.label < i[1]) {
                            (s.label = i[1]), (i = o);
                            break;
                          }
                          if (i && s.label < i[2]) {
                            (s.label = i[2]), s.ops.push(o);
                            break;
                          }
                          i[2] && s.ops.pop(), s.trys.pop();
                          continue;
                      }
                      o = t.call(e, s);
                    } catch (e) {
                      (o = [6, e]), (n = 0);
                    } finally {
                      r = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, a]);
              };
            }
          },
          m = function () {
            throw new Error("Translations has not been initialized yet");
          },
          b = function (e) {
            var t = e.language,
              n = e.defaultTranslations,
              i = e.prefix,
              o = void 0 === i ? "messages" : i,
              s = e.defaultLanguage,
              a = e.availableLanguages,
              u = e.localeDistPath,
              l = e.initI18n,
              c = e.basePath,
              d = this;
            (this.t = m),
              (this.all = {}),
              (this.init = function (e) {
                var t = void 0 === e ? {} : e,
                  n = t.prepopulated,
                  i = t.wait,
                  o = void 0 !== i && i,
                  s = t.useSuspense,
                  a = void 0 !== s && s;
                return g(d, void 0, void 0, function () {
                  var e,
                    t,
                    i,
                    s = this;
                  return v(this, function (u) {
                    switch (u.label) {
                      case 0:
                        if (
                          ((e = this.config),
                          (t = new Set(e.availableLanguages || [])),
                          !this._initI18n)
                        )
                          throw new Error(
                            "Can't initialize i18n without initI18n method."
                          );
                        return (
                          (this.i18n = this._initI18n({
                            locale: e.language,
                            useSuspense: a,
                            wait: o,
                            messages: n,
                            disableAutoInit: !0,
                            asyncMessagesLoader: function (n) {
                              var i;
                              return "en" === n
                                ? Promise.resolve(e.defaultTranslations)
                                : t.has(n)
                                ? fetch(
                                    ""
                                      .concat(
                                        null !== (i = s.basePath) &&
                                          void 0 !== i
                                          ? i
                                          : r.p
                                      )
                                      .concat(s.localeDistPath, "/")
                                      .concat(e.prefix, "_")
                                      .concat(n, ".json")
                                  ).then(function (t) {
                                    return t.ok
                                      ? t.json()
                                      : Promise.reject(
                                          new Error(
                                            "Can't load locale: ".concat(
                                              e.language
                                            )
                                          )
                                        );
                                  })
                                : Promise.reject(
                                    new Error(
                                      "Locale assets for ".concat(
                                        n,
                                        " are not provided"
                                      )
                                    )
                                  );
                            },
                          })),
                          [4, this.i18n.init()]
                        );
                      case 1:
                        if (
                          (u.sent(),
                          !(i = this.i18n.getResourceBundle(
                            e.language,
                            "translation"
                          )) && t.has(e.language))
                        )
                          throw new Error(
                            "Unexpected missing translations for language ".concat(
                              e.language
                            )
                          );
                        return (
                          (this.all = i || e.defaultTranslations || {}),
                          (this.t = function (e, t) {
                            return s.i18n.t(e, t);
                          }),
                          [2, this]
                        );
                    }
                  });
                });
              }),
              (this.config = {
                availableLanguages: a,
                language: t,
                defaultTranslations: n,
                prefix: o,
                defaultLanguage: s,
              }),
              (this.localeDistPath = u),
              (this._initI18n = l),
              (this.i18n = null),
              (this.basePath = c);
          },
          _ = function (e) {
            var t;
            this.entry = "viewerScript";
            var r,
              n = e.wixAPI,
              i = e.appData;
            (this.isSSR = "backend" === n.window.rendering.env),
              (this.isSEO = h(n)),
              (this.isMobile = "Mobile" === n.window.formFactor),
              (this.isEditor = "Editor" === n.window.viewMode),
              (this.isPreview = "Preview" === n.window.viewMode),
              (this.isViewer = "Site" === n.window.viewMode),
              (this.isBlocksPreview = Boolean(
                null === (t = null == i ? void 0 : i.appData) || void 0 === t
                  ? void 0
                  : t.blocksPreviewData
              )),
              (this.language = p(n, this.isEditor)),
              (this.isRTL = ((r = this.language), a.includes(r))),
              (this.multilingual = n.window.multilingual),
              (this.appDefinitionId = i.appDefinitionId);
          },
          y = function () {
            return (
              (y =
                Object.assign ||
                function (e) {
                  for (var t, r = 1, n = arguments.length; r < n; r++)
                    for (var i in (t = arguments[r]))
                      Object.prototype.hasOwnProperty.call(t, i) &&
                        (e[i] = t[i]);
                  return e;
                }),
              y.apply(this, arguments)
            );
          },
          w = function (e, t) {
            var r = {};
            return (
              e.visitorId
                ? (r.forSiteVisitors = y(y({}, e), { visitorId: e.visitorId }))
                : (r.forSiteOwner = y(y({}, e), {
                    loggedInUserId: e.loggedInUserId,
                  })),
              t && (r.overrideCriteria = t),
              r
            );
          },
          P = function (e, t, r, n) {
            return new (r || (r = Promise))(function (i, o) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  o(e);
                }
              }
              function a(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  o(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof r
                      ? t
                      : new r(function (e) {
                          e(t);
                        })).then(s, a);
              }
              u((n = n.apply(e, t || [])).next());
            });
          },
          S = function (e, t) {
            var r,
              n,
              i,
              o,
              s = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: a(0), throw: a(1), return: a(2) }),
              "function" == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function a(o) {
              return function (a) {
                return (function (o) {
                  if (r) throw new TypeError("Generator is already executing.");
                  for (; s; )
                    try {
                      if (
                        ((r = 1),
                        n &&
                          (i =
                            2 & o[0]
                              ? n.return
                              : o[0]
                              ? n.throw || ((i = n.return) && i.call(n), 0)
                              : n.next) &&
                          !(i = i.call(n, o[1])).done)
                      )
                        return i;
                      switch (((n = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return s.label++, { value: o[1], done: !1 };
                        case 5:
                          s.label++, (n = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = s.ops.pop()), s.trys.pop();
                          continue;
                        default:
                          if (
                            !((i = s.trys),
                            (i = i.length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0]))
                          ) {
                            s = 0;
                            continue;
                          }
                          if (
                            3 === o[0] &&
                            (!i || (o[1] > i[0] && o[1] < i[3]))
                          ) {
                            s.label = o[1];
                            break;
                          }
                          if (6 === o[0] && s.label < i[1]) {
                            (s.label = i[1]), (i = o);
                            break;
                          }
                          if (i && s.label < i[2]) {
                            (s.label = i[2]), s.ops.push(o);
                            break;
                          }
                          i[2] && s.ops.pop(), s.trys.pop();
                          continue;
                      }
                      o = t.call(e, s);
                    } catch (e) {
                      (o = [6, e]), (n = 0);
                    } finally {
                      r = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, a]);
              };
            }
          };
        var I,
          A,
          C = (function () {
            function e(e) {
              var t = e.httpClient;
              (this.reportError = function (e) {
                console.warn(
                  "You are trying to report an error, but didn't configure sentry in `.application.json`\n\nPlease read the docs for more information https://bo.wix.com/pages/yoshi/docs/editor-flow/structure-api/app-configuration/#applicationjson",
                  "Error: ",
                  e
                );
              }),
                (this._httpClient = t);
            }
            return (
              Object.defineProperty(e.prototype, "httpClient", {
                get: function () {
                  var e = this._httpClient;
                  return e;
                },
                enumerable: !1,
                configurable: !0,
              }),
              e
            );
          })(),
          x = (function () {
            var e = function (t, r) {
              return (
                (e =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (e, t) {
                      e.__proto__ = t;
                    }) ||
                  function (e, t) {
                    for (var r in t)
                      Object.prototype.hasOwnProperty.call(t, r) &&
                        (e[r] = t[r]);
                  }),
                e(t, r)
              );
            };
            return function (t, r) {
              if ("function" != typeof r && null !== r)
                throw new TypeError(
                  "Class extends value " +
                    String(r) +
                    " is not a constructor or null"
                );
              function n() {
                this.constructor = t;
              }
              e(t, r),
                (t.prototype =
                  null === r
                    ? Object.create(r)
                    : ((n.prototype = r.prototype), new n()));
            };
          })(),
          R = function () {
            return (
              (R =
                Object.assign ||
                function (e) {
                  for (var t, r = 1, n = arguments.length; r < n; r++)
                    for (var i in (t = arguments[r]))
                      Object.prototype.hasOwnProperty.call(t, i) &&
                        (e[i] = t[i]);
                  return e;
                }),
              R.apply(this, arguments)
            );
          },
          M = function (e, t, r, n) {
            return new (r || (r = Promise))(function (i, o) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  o(e);
                }
              }
              function a(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  o(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof r
                      ? t
                      : new r(function (e) {
                          e(t);
                        })).then(s, a);
              }
              u((n = n.apply(e, t || [])).next());
            });
          },
          O = function (e, t) {
            var r,
              n,
              i,
              o,
              s = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: a(0), throw: a(1), return: a(2) }),
              "function" == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function a(o) {
              return function (a) {
                return (function (o) {
                  if (r) throw new TypeError("Generator is already executing.");
                  for (; s; )
                    try {
                      if (
                        ((r = 1),
                        n &&
                          (i =
                            2 & o[0]
                              ? n.return
                              : o[0]
                              ? n.throw || ((i = n.return) && i.call(n), 0)
                              : n.next) &&
                          !(i = i.call(n, o[1])).done)
                      )
                        return i;
                      switch (((n = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return s.label++, { value: o[1], done: !1 };
                        case 5:
                          s.label++, (n = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = s.ops.pop()), s.trys.pop();
                          continue;
                        default:
                          if (
                            !((i = s.trys),
                            (i = i.length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0]))
                          ) {
                            s = 0;
                            continue;
                          }
                          if (
                            3 === o[0] &&
                            (!i || (o[1] > i[0] && o[1] < i[3]))
                          ) {
                            s.label = o[1];
                            break;
                          }
                          if (6 === o[0] && s.label < i[1]) {
                            (s.label = i[1]), (i = o);
                            break;
                          }
                          if (i && s.label < i[2]) {
                            (s.label = i[2]), s.ops.push(o);
                            break;
                          }
                          i[2] && s.ops.pop(), s.trys.pop();
                          continue;
                      }
                      o = t.call(e, s);
                    } catch (e) {
                      (o = [6, e]), (n = 0);
                    } finally {
                      r = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, a]);
              };
            }
          },
          E = (function (e) {
            function t(t) {
              var r,
                n,
                i = t.experimentsConfig,
                o = t.essentials,
                s = t.platformBI,
                a = t.biLoggerFactory,
                u = t.monitoring,
                c = t.sentryConfig,
                d = t.wixAPI,
                g = t.appData,
                v = t.translationsConfig,
                m = t.defaultTranslations,
                y = void 0 === m ? null : m,
                I = t.biLogger,
                A = t.projectName,
                C = t.appName,
                x = t.prepopulatedData,
                M = t.optionalDeps,
                O = M.createHttpClient,
                E = M.initI18n,
                N = M.createExperiments,
                D = t.localeDistPath,
                U = t.shouldUseEssentials,
                T = t.basePath,
                L = this;
              (L =
                e.call(this, {
                  httpClient: U
                    ? null == o
                      ? void 0
                      : o.httpClient
                    : null == O
                    ? void 0
                    : O({
                        isSSR: f(d),
                        getAppToken: function () {
                          var e, t, r;
                          return null !==
                            (r =
                              null === (t = (e = d.site).getAppToken) ||
                              void 0 === t
                                ? void 0
                                : t.call(e, g.appDefinitionId)) && void 0 !== r
                            ? r
                            : g.instance;
                        },
                      }),
                }) || this),
                (L.essentials = o),
                (L.wixAPI = d),
                (L.appName = C),
                (L.projectName = A),
                (L.prepopulatedData = x),
                (L.basePath = T),
                (L.environment = new _({ appData: g, wixAPI: d }));
              var k = p(d, L.environment.isEditor);
              if (
                ((L.localeDistPath = D),
                (L.getCurrencyFormatter = null),
                (L.formatCurrency = null),
                (L.formatAddress = null),
                L.essentials &&
                  "formatAddress" in L.essentials &&
                  (L.formatAddress = L.essentials.formatAddress),
                L.essentials &&
                  "createCurrencyFormatterWithDefaults" in L.essentials &&
                  ((L.getCurrencyFormatter =
                    L.essentials.createCurrencyFormatterWithDefaults({
                      language: k,
                    })),
                  L.getCurrencyFormatter &&
                    (L.formatCurrency = L.getCurrencyFormatter())),
                (L.translations =
                  !1 === (null == v ? void 0 : v.enabled)
                    ? null
                    : new b({
                        language: k,
                        defaultTranslations: y,
                        prefix: null == v ? void 0 : v.prefix,
                        availableLanguages:
                          null == v ? void 0 : v.availableLanguages,
                        localeDistPath: D,
                        initI18n: E,
                      })),
                (L.experiments = null),
                (L._experimentsPromise = null),
                i)
              ) {
                var j = L.environment.isViewer
                    ? {
                        siteOwnerId: null == s ? void 0 : s.ownerId,
                        visitorId: null == s ? void 0 : s.visitorId,
                      }
                    : {
                        siteOwnerId: null == s ? void 0 : s.ownerId,
                        loggedInUserId: d.user.currentUser.id,
                      },
                  B = (null == s ? void 0 : s.metaSiteId)
                    ? { entityId: null == s ? void 0 : s.metaSiteId }
                    : void 0;
                if (U)
                  L._experimentsPromise =
                    i.centralized && !(null == x ? void 0 : x.experiments)
                      ? Promise.resolve(L.essentials.experiments)
                      : (function (e, t, r, n, i, o) {
                          return P(void 0, void 0, void 0, function () {
                            var s, a;
                            return S(this, function (u) {
                              switch (u.label) {
                                case 0:
                                  return (
                                    (s = e({
                                      useNewApi: !0,
                                      requestContext: w(n, i),
                                      baseUrl: o,
                                    })),
                                    r
                                      ? (s.add(r), [2, s])
                                      : t
                                      ? ((a = t.scopes.map(function (e) {
                                          return s.load(e);
                                        })),
                                        [4, Promise.all(a)])
                                      : [2, s]
                                  );
                                case 1:
                                  return u.sent(), [2, s];
                              }
                            });
                          });
                        })(
                          L.essentials.createExperiments,
                          i,
                          null == x ? void 0 : x.experiments,
                          j,
                          B,
                          L.environment.isSSR ? "https://wix.com" : void 0
                        );
                else {
                  var F = N({
                    prepopulated: null == x ? void 0 : x.experiments,
                    experimentsConfig: i,
                    baseUrl: L.environment.isSSR ? "https://wix.com" : void 0,
                    ctx: j,
                    overrideCriteria: B,
                  });
                  L._experimentsPromise = F.init();
                }
              }
              if (null == x ? void 0 : x.biLogger)
                L.bi = null == x ? void 0 : x.biLogger;
              else if (I) {
                var V = void 0;
                U ? (V = L.essentials.biLoggerFactory()) : a && (V = a()),
                  V && (L.bi = I(V)({}));
              }
              if (
                ((L.sentry = null),
                (L.errorMonitor = null),
                null == x ? void 0 : x.sentryMonitor)
              )
                L.sentry = null == x ? void 0 : x.sentryMonitor;
              else if (null == x ? void 0 : x.errorMonitor)
                L.errorMonitor = null == x ? void 0 : x.errorMonitor;
              else if (c)
                if (
                  c.errorMonitor &&
                  (null == o ? void 0 : o.createErrorMonitor)
                )
                  L.errorMonitor = o.createErrorMonitor({
                    dsn: c.DSN,
                    environment: "Viewer:Worker",
                    appName:
                      null !== (r = L.appName) && void 0 !== r
                        ? r
                        : "santa-members-viewer-app",
                    version:
                      "8217aedcdc39c431c199e2012dafd062d2ac51986a4939355e22a9dc",
                    fullArtifactId:
                      "com.wixpress.wixcode.santa-members-viewer-app",
                    componentId: "viewer-script",
                    tags: { isSSR: f(d), isSEO: h(d) },
                  });
                else {
                  var $ = l({
                    dsn: c.DSN,
                    environment: "Viewer:Worker",
                    release: ""
                      .concat(
                        null !== (n = L.appName) && void 0 !== n
                          ? n
                          : "santa-members-viewer-app",
                        "@"
                      )
                      .concat(
                        "8217aedcdc39c431c199e2012dafd062d2ac51986a4939355e22a9dc"
                      ),
                    withDataCallback: !0,
                    tags: { isSSR: f(d), isSEO: h(d) },
                  });
                  L.sentry =
                    null == u
                      ? void 0
                      : u.createMonitor($.dsn, function (e) {
                          return R(R({}, e), $.config);
                        });
                }
              return (
                L.sentry &&
                  (L.reportError = function (e) {
                    return (
                      "string" == typeof e
                        ? L.sentry.captureMessage(e)
                        : L.sentry.captureException(e),
                      L.sentry.lastEventId()
                    );
                  }),
                L.errorMonitor &&
                  (L.reportError = function (e) {
                    return "string" == typeof e
                      ? L.errorMonitor.captureMessage(e)
                      : L.errorMonitor.captureException(e);
                  }),
                L
              );
            }
            return (
              x(t, e),
              (t.prototype.init = function () {
                var e, t;
                return M(this, void 0, void 0, function () {
                  var r;
                  return O(this, function (n) {
                    switch (n.label) {
                      case 0:
                        return (r = this), [4, this._experimentsPromise];
                      case 1:
                        return (
                          (r.experiments = n.sent()),
                          [
                            4,
                            null === (e = this.translations) || void 0 === e
                              ? void 0
                              : e.init({
                                  prepopulated:
                                    null === (t = this.prepopulatedData) ||
                                    void 0 === t
                                      ? void 0
                                      : t.translations,
                                }),
                          ]
                        );
                      case 2:
                        return n.sent(), [2];
                    }
                  });
                });
              }),
              (t.prototype.createTranslations = function (e, t, r) {
                var n,
                  i = e.translationsConfig,
                  o = e.defaultTranslations,
                  s = e.localeDistPath;
                if (!1 === (null == i ? void 0 : i.enabled)) return null;
                if (
                  s === this.localeDistPath &&
                  (null == r ? void 0 : r.basePath) === this.basePath
                )
                  return this.translations;
                var a = p(this.wixAPI, this.environment.isEditor);
                return new b({
                  language: a,
                  defaultTranslations: o,
                  availableLanguages: null == i ? void 0 : i.availableLanguages,
                  prefix: null == i ? void 0 : i.prefix,
                  localeDistPath: s,
                  initI18n: null == t ? void 0 : t.initI18n,
                  basePath:
                    null !== (n = null == r ? void 0 : r.basePath) &&
                    void 0 !== n
                      ? n
                      : this.basePath,
                });
              }),
              t
            );
          })(C),
          N = {},
          D = function (e) {
            I = e;
          },
          U = function (e) {
            A = e;
          },
          T = function () {
            return N;
          },
          L = function (e) {
            N = e;
          },
          k = function (e, t, r, n) {
            return new (r || (r = Promise))(function (i, o) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  o(e);
                }
              }
              function a(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  o(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof r
                      ? t
                      : new r(function (e) {
                          e(t);
                        })).then(s, a);
              }
              u((n = n.apply(e, t || [])).next());
            });
          },
          j = function (e, t) {
            var r,
              n,
              i,
              o,
              s = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: a(0), throw: a(1), return: a(2) }),
              "function" == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function a(o) {
              return function (a) {
                return (function (o) {
                  if (r) throw new TypeError("Generator is already executing.");
                  for (; s; )
                    try {
                      if (
                        ((r = 1),
                        n &&
                          (i =
                            2 & o[0]
                              ? n.return
                              : o[0]
                              ? n.throw || ((i = n.return) && i.call(n), 0)
                              : n.next) &&
                          !(i = i.call(n, o[1])).done)
                      )
                        return i;
                      switch (((n = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return s.label++, { value: o[1], done: !1 };
                        case 5:
                          s.label++, (n = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = s.ops.pop()), s.trys.pop();
                          continue;
                        default:
                          if (
                            !((i = s.trys),
                            (i = i.length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0]))
                          ) {
                            s = 0;
                            continue;
                          }
                          if (
                            3 === o[0] &&
                            (!i || (o[1] > i[0] && o[1] < i[3]))
                          ) {
                            s.label = o[1];
                            break;
                          }
                          if (6 === o[0] && s.label < i[1]) {
                            (s.label = i[1]), (i = o);
                            break;
                          }
                          if (i && s.label < i[2]) {
                            (s.label = i[2]), s.ops.push(o);
                            break;
                          }
                          i[2] && s.ops.pop(), s.trys.pop();
                          continue;
                      }
                      o = t.call(e, s);
                    } catch (e) {
                      (o = [6, e]), (n = 0);
                    } finally {
                      r = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, a]);
              };
            }
          },
          B = function (e) {
            return "function" == typeof e;
          };
        var F = function () {
          return (
            (F =
              Object.assign ||
              function (e) {
                for (var t, r = 1, n = arguments.length; r < n; r++)
                  for (var i in (t = arguments[r]))
                    Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
                return e;
              }),
            F.apply(this, arguments)
          );
        };
        function V(e, t) {
          var r = {};
          for (var n in e)
            Object.prototype.hasOwnProperty.call(e, n) &&
              t.indexOf(n) < 0 &&
              (r[n] = e[n]);
          if (null != e && "function" == typeof Object.getOwnPropertySymbols) {
            var i = 0;
            for (n = Object.getOwnPropertySymbols(e); i < n.length; i++)
              t.indexOf(n[i]) < 0 &&
                Object.prototype.propertyIsEnumerable.call(e, n[i]) &&
                (r[n[i]] = e[n[i]]);
          }
          return r;
        }
        Object.create;
        function $() {
          for (var e = 0, t = 0, r = arguments.length; t < r; t++)
            e += arguments[t].length;
          var n = Array(e),
            i = 0;
          for (t = 0; t < r; t++)
            for (var o = arguments[t], s = 0, a = o.length; s < a; s++, i++)
              n[i] = o[s];
          return n;
        }
        Object.create;
        "function" == typeof SuppressedError && SuppressedError;
        var W,
          K = function (e, t) {
            return e.localeCompare(t);
          };
        !(function (e) {
          (e.Number = "Number"),
            (e.Boolean = "Boolean"),
            (e.String = "String"),
            (e.Text = "Text"),
            (e.Object = "Object");
        })(W || (W = {}));
        var G = function (e, t) {
            var r = t.isMobile,
              n = t.language,
              i = void 0 === n ? "en" : n;
            return "function" == typeof e.dangerousKeyTransformationOverride
              ? e.dangerousKeyTransformationOverride(e.key, {
                  isMobile: r,
                  language: i,
                })
              : (function (e, t, r) {
                  if ("string" != typeof e)
                    throw new Error(
                      "`generateKey` expects key to be passed and be a string"
                    );
                  if (!t)
                    throw new Error(
                      "`generateKey` expects options to be passed"
                    );
                  return Object.keys(r)
                    .sort(K)
                    .reduce(function (e, n) {
                      var i = r[n] === t[n],
                        o = !t[n] && !r[n];
                      return i || o
                        ? e
                        : e +
                            "\u25b6\ufe0e" +
                            ("boolean" != typeof t[n] || r[n]
                              ? n + ":" + t[n]
                              : n);
                    }, e);
                })(e.key, { m: r, l: i }, { m: !1, l: "en" });
          },
          J = function (e) {
            return e.type === W.Text;
          },
          H = function (e, t) {
            return {
              languageAndMobile: G(e, {
                isMobile: t.isMobile,
                language: t.language,
              }),
              language: G(e, { isMobile: !1, language: t.language }),
              mobile: G(e, { isMobile: t.isMobile }),
              original: e.key,
            };
          },
          q = function (e) {
            return void 0 === e.inheritDesktop || e.inheritDesktop;
          },
          z = function (e) {
            var t = e.environmentLabel;
            return function (e) {
              throw new Error(
                "It is not possible to translate "
                  .concat(e, ". Translate function was not passed to the ")
                  .concat(t)
              );
            };
          },
          X = function () {
            var e,
              t = this;
            (this.handlers =
              (((e = {})[W.Object] = {
                serialize: function (e) {
                  return "string" == typeof e
                    ? (console.error(
                        "\u26a0\ufe0f Seems like you are calling `settings.set(param, JSON.stringify(value))`. Please, pass a plain object/array and tpa-settings will serializate it."
                      ),
                      e)
                    : JSON.stringify(e);
                },
                deserialize: function (e) {
                  return "string" != typeof e ? e : JSON.parse(e);
                },
              }),
              e)),
              (this.serialize = function (e, r) {
                return e.type === W.Object
                  ? t.handlers[W.Object].serialize(r)
                  : r;
              }),
              (this.deserialize = function (e, r) {
                return e.type === W.Object
                  ? t.handlers[W.Object].deserialize(r)
                  : r;
              });
          },
          Y = new X();
        function Z(e, t, r) {
          void 0 === r && (r = {});
          var n,
            i = J(t),
            o = H(t, {
              isMobile: r.isMobile,
              language: i ? r.language : void 0,
            }),
            s = q(t);
          return (
            i
              ? void 0 !== e[o.languageAndMobile]
                ? (n = e[o.languageAndMobile])
                : s && void 0 !== e[o.language] && (n = e[o.language])
              : void 0 !== e[o.mobile]
              ? (n = e[o.mobile])
              : s && void 0 !== e[o.original] && (n = e[o.original]),
            Y.deserialize(t, n)
          );
        }
        var Q = !1;
        function ee(e, t, r, n) {
          void 0 === r && (r = {});
          var i = V(r, []);
          void 0 === n && (n = "COMPONENT");
          var o = e;
          e.COMPONENT ||
            (Q ||
              (console.warn(
                "`getSettingsValue` or `getSettingsValues` should accept whole public data object. Probably, data was passed only for one scope."
              ),
              (Q = !0)),
            (o = { COMPONENT: e, APP: {} }));
          var s = "COMPONENT" === n && t.inheritFromAppScope,
            a = Z(o[n], t, i);
          return (
            void 0 === a && s && (a = Z(o.APP, t, i)),
            t.getDefaultValue && void 0 === a
              ? (function (e, t, r, n) {
                  var i, o;
                  void 0 === n && (n = {});
                  var s =
                    null !== (i = n.t) && void 0 !== i
                      ? i
                      : z({
                          environmentLabel:
                            null !== (o = n.environmentLabel) && void 0 !== o
                              ? o
                              : "`getSettingsValue` function",
                        });
                  return r.getDefaultValue({
                    isMobile: n.isMobile,
                    isRTL: n.isRTL,
                    isEditorX: n.isEditorX,
                    t: s,
                    presetId: n.presetId,
                    experiments: n.experiments,
                    getSettingParamValue: function (r, i) {
                      return (
                        void 0 === i && (i = {}),
                        ee(e, r, F(F(F({}, n), i), { t: s }), t)
                      );
                    },
                  });
                })(o, n, t, i)
              : a
          );
        }
        var te = (function () {
            var e = function (t, r) {
              return (
                (e =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (e, t) {
                      e.__proto__ = t;
                    }) ||
                  function (e, t) {
                    for (var r in t)
                      Object.prototype.hasOwnProperty.call(t, r) &&
                        (e[r] = t[r]);
                  }),
                e(t, r)
              );
            };
            return function (t, r) {
              if ("function" != typeof r && null !== r)
                throw new TypeError(
                  "Class extends value " +
                    String(r) +
                    " is not a constructor or null"
                );
              function n() {
                this.constructor = t;
              }
              e(t, r),
                (t.prototype =
                  null === r
                    ? Object.create(r)
                    : ((n.prototype = r.prototype), new n()));
            };
          })(),
          re = (function (e) {
            function t(t) {
              var r,
                n = this;
              (n = e.call(this, t) || this).entry = "viewerScript";
              var i,
                o = t.config,
                s = t.widgetId,
                a = t.wixAPI.location.query;
              return (
                (n.isEditorX = (function (e) {
                  var t;
                  return (
                    null !== (t = null == e ? void 0 : e.booleans.responsive) &&
                    void 0 !== t &&
                    t
                  );
                })(
                  null === (r = null == o ? void 0 : o.style) || void 0 === r
                    ? void 0
                    : r.styleParams
                )),
                (n.isADI =
                  (void 0 === (i = a) && (i = {}),
                  "onboarding" === i.dsOrigin)),
                (n.isClassicEditor = (function (e) {
                  return void 0 === e && (e = {}), "Editor1.4" === e.dsOrigin;
                })(a)),
                (n.widgetId = s),
                n
              );
            }
            return te(t, e), t;
          })(_),
          ne = function (e, t) {
            return {
              name: e.name,
              message: e.message,
              stack: e.stack,
              errorId: t,
            };
          };
        function ie(e, t) {
          var r, n, i, o;
          this.controllerConfig.wixCodeApi.window.openModal(
            "".concat(
              ((r = this.componentName || ""),
              (n = e),
              (i = this.controllerConfig.appParams.instance),
              (o = "".concat(r, "/").concat(n)),
              "https://editor.wixapps.net/render/prod/modals/"
                .concat("santa-members-viewer-app", "/")
                .concat(
                  "8217aedcdc39c431c199e2012dafd062d2ac51986a4939355e22a9dc",
                  "/"
                )
                .concat(o, "?instance=")
                .concat(i))
            ),
            t
          );
        }
        var oe = (function () {
            var e = function (t, r) {
              return (
                (e =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (e, t) {
                      e.__proto__ = t;
                    }) ||
                  function (e, t) {
                    for (var r in t)
                      Object.prototype.hasOwnProperty.call(t, r) &&
                        (e[r] = t[r]);
                  }),
                e(t, r)
              );
            };
            return function (t, r) {
              if ("function" != typeof r && null !== r)
                throw new TypeError(
                  "Class extends value " +
                    String(r) +
                    " is not a constructor or null"
                );
              function n() {
                this.constructor = t;
              }
              e(t, r),
                (t.prototype =
                  null === r
                    ? Object.create(r)
                    : ((n.prototype = r.prototype), new n()));
            };
          })(),
          se = function () {
            return (
              (se =
                Object.assign ||
                function (e) {
                  for (var t, r = 1, n = arguments.length; r < n; r++)
                    for (var i in (t = arguments[r]))
                      Object.prototype.hasOwnProperty.call(t, i) &&
                        (e[i] = t[i]);
                  return e;
                }),
              se.apply(this, arguments)
            );
          },
          ae = function (e, t, r, n) {
            return new (r || (r = Promise))(function (i, o) {
              function s(e) {
                try {
                  u(n.next(e));
                } catch (e) {
                  o(e);
                }
              }
              function a(e) {
                try {
                  u(n.throw(e));
                } catch (e) {
                  o(e);
                }
              }
              function u(e) {
                var t;
                e.done
                  ? i(e.value)
                  : ((t = e.value),
                    t instanceof r
                      ? t
                      : new r(function (e) {
                          e(t);
                        })).then(s, a);
              }
              u((n = n.apply(e, t || [])).next());
            });
          },
          ue = function (e, t) {
            var r,
              n,
              i,
              o,
              s = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: a(0), throw: a(1), return: a(2) }),
              "function" == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function a(o) {
              return function (a) {
                return (function (o) {
                  if (r) throw new TypeError("Generator is already executing.");
                  for (; s; )
                    try {
                      if (
                        ((r = 1),
                        n &&
                          (i =
                            2 & o[0]
                              ? n.return
                              : o[0]
                              ? n.throw || ((i = n.return) && i.call(n), 0)
                              : n.next) &&
                          !(i = i.call(n, o[1])).done)
                      )
                        return i;
                      switch (((n = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return s.label++, { value: o[1], done: !1 };
                        case 5:
                          s.label++, (n = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = s.ops.pop()), s.trys.pop();
                          continue;
                        default:
                          if (
                            !((i = s.trys),
                            (i = i.length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0]))
                          ) {
                            s = 0;
                            continue;
                          }
                          if (
                            3 === o[0] &&
                            (!i || (o[1] > i[0] && o[1] < i[3]))
                          ) {
                            s.label = o[1];
                            break;
                          }
                          if (6 === o[0] && s.label < i[1]) {
                            (s.label = i[1]), (i = o);
                            break;
                          }
                          if (i && s.label < i[2]) {
                            (s.label = i[2]), s.ops.push(o);
                            break;
                          }
                          i[2] && s.ops.pop(), s.trys.pop();
                          continue;
                      }
                      o = t.call(e, s);
                    } catch (e) {
                      (o = [6, e]), (n = 0);
                    } finally {
                      r = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, a]);
              };
            }
          },
          le = function (e, t, r) {
            if (r || 2 === arguments.length)
              for (var n, i = 0, o = t.length; i < o; i++)
                (!n && i in t) ||
                  (n || (n = Array.prototype.slice.call(t, 0, i)),
                  (n[i] = t[i]));
            return e.concat(n || Array.prototype.slice.call(t));
          },
          ce = (function (e) {
            function t(t) {
              var r,
                n,
                i,
                o,
                s,
                a,
                u = t.viewerScriptFlowAPI,
                d = t.controllerConfig,
                p = t.appDefinitionId,
                g = t.widgetId,
                v = t.componentId,
                m = t.componentName,
                b = t.biLogger,
                _ = t.prepopulatedData,
                y = t.translations,
                w = t.fedopsConfig,
                P = t.sentryConfig,
                S = t.shouldUseEssentials,
                I = t.multilingualDisabled,
                A = t.panoramaClient,
                C = this;
              ((C =
                e.call(this, { httpClient: u._httpClient }) ||
                this).appLoadStarted = function () {
                if (null !== C.fedops) {
                  var e = C.fedops.appLoadStarted;
                  e.call(C.fedops),
                    (C.fedops.appLoadStarted = function () {
                      for (var t = [], r = 0; r < arguments.length; r++)
                        t[r] = arguments[r];
                      console.warn(
                        "\u{1f97a} Seems like you're trying to call `fedopsLogger.appLoadStarted` and `fedopsLogger.appLoaded` in your controller.\nWe are already logging load events for SSR and CSR environments, so you can remove these calls from your project."
                      ),
                        e.call.apply(e, le([C.fedops], t, !1));
                    });
                }
              }),
                (C.essentials = d.essentials),
                (C.controllerConfig = d),
                (C.experiments = u.experiments),
                (C.bi = u.bi),
                (C.prepopulatedData = _),
                (C.componentName = m);
              var x = d.platformAPIs;
              if (
                ((C.panoramaClient =
                  null == A ? void 0 : A.createClientForComponent()),
                (C.getCurrencyFormatter = u.getCurrencyFormatter),
                (C.formatCurrency =
                  null === (r = C.getCurrencyFormatter) || void 0 === r
                    ? void 0
                    : r.call(C)),
                (C.formatAddress = u.formatAddress),
                (C.environment = new re({
                  wixAPI: d.wixCodeApi,
                  appData: d.appParams,
                  config: d.config,
                  widgetId: g,
                })),
                !u.bi && b)
              )
                if (S) {
                  var R = C.essentials.biLoggerFactory();
                  C.bi = b(R)({});
                } else
                  (null === (n = d.platformAPIs) || void 0 === n
                    ? void 0
                    : n.biLoggerFactory) &&
                    (C.bi = b(
                      null === (i = d.platformAPIs) || void 0 === i
                        ? void 0
                        : i.biLoggerFactory()
                    )({}));
              if (
                ((C.sentry = null),
                (C.errorMonitor = null),
                (null == _ ? void 0 : _.sentryMonitor) ||
                  (null == _ ? void 0 : _.errorMonitor))
              )
                (C.sentry =
                  null !== (o = null == _ ? void 0 : _.sentryMonitor) &&
                  void 0 !== o
                    ? o
                    : null),
                  (C.errorMonitor =
                    null !== (s = null == _ ? void 0 : _.errorMonitor) &&
                    void 0 !== s
                      ? s
                      : null);
              else if (P)
                if (P.errorMonitor && C.essentials.createErrorMonitor)
                  C.errorMonitor = C.essentials.createErrorMonitor({
                    dsn: P.DSN,
                    environment: "Viewer:Worker",
                    appName: "santa-members-viewer-app",
                    version:
                      "8217aedcdc39c431c199e2012dafd062d2ac51986a4939355e22a9dc",
                    fullArtifactId:
                      "com.wixpress.wixcode.santa-members-viewer-app",
                    componentId: v,
                    tags: {
                      componentId: v,
                      componentName: m,
                      isSSR: f(d.wixCodeApi),
                      isSEO: h(d.wixCodeApi),
                    },
                  });
                else {
                  var M = l({
                    dsn: P.DSN,
                    environment: "Viewer:Worker",
                    release: ""
                      .concat("santa-members-viewer-app", "@")
                      .concat(
                        "8217aedcdc39c431c199e2012dafd062d2ac51986a4939355e22a9dc"
                      ),
                    withDataCallback: !0,
                    tags: {
                      componentId: v,
                      componentName: m,
                      isSSR: f(d.wixCodeApi),
                      isSEO: h(d.wixCodeApi),
                    },
                  });
                  C.sentry =
                    null === (a = x.monitoring) || void 0 === a
                      ? void 0
                      : a.createMonitor(M.dsn, function (e) {
                          return se(se({}, e), M.config);
                        });
                }
              return (
                C.sentry &&
                  (C.reportError = function (e) {
                    return (
                      "string" == typeof e
                        ? C.sentry.captureMessage(e)
                        : C.sentry.captureException(e),
                      C.sentry.lastEventId()
                    );
                  }),
                C.errorMonitor &&
                  (C.reportError = function (e) {
                    return "string" == typeof e
                      ? C.errorMonitor.captureMessage(e)
                      : C.errorMonitor.captureException(e);
                  }),
                (C.fedops = null),
                !1 !== (null == w ? void 0 : w.enabled) &&
                  ((null == _ ? void 0 : _.fedopsLogger)
                    ? (C.fedops = null == _ ? void 0 : _.fedopsLogger)
                    : (C.fedops = S
                        ? C.essentials.fedopsLogger
                        : x.fedOpsLoggerFactory.getLoggerForWidget({
                            appId: p,
                            widgetId: g,
                            paramsOverrides: {
                              corrId: C.controllerConfig.compId,
                            },
                          })),
                  C.environment.isSSR &&
                    (C.appLoadStarted(), null == A || A.reportLoadStart()),
                  C.fedops.interactionStarted("controller-load")),
                (C.translations = y),
                (C.viewerScriptFlowAPI = u),
                (C.settings = {
                  get: function (e) {
                    var t, r, n;
                    return ee(
                      null !==
                        (r =
                          null === (t = C.controllerConfig.config) ||
                          void 0 === t
                            ? void 0
                            : t.publicData) && void 0 !== r
                        ? r
                        : {},
                      e,
                      {
                        t:
                          null === (n = C.translations) || void 0 === n
                            ? void 0
                            : n.t,
                        experiments: C.experiments,
                        isMobile: C.environment.isMobile,
                        language: I ? c(C.environment.multilingual) : void 0,
                      }
                    );
                  },
                }),
                (C.openModal = ie),
                C
              );
            }
            return (
              oe(t, e),
              (t.prototype.init = function () {
                var e, t;
                return ae(this, void 0, void 0, function () {
                  return ue(this, function (r) {
                    switch (r.label) {
                      case 0:
                        return null !==
                          (null === (e = this.translations) || void 0 === e
                            ? void 0
                            : e.i18n)
                          ? [3, 2]
                          : [
                              4,
                              this.translations.init({
                                prepopulated:
                                  null === (t = this.prepopulatedData) ||
                                  void 0 === t
                                    ? void 0
                                    : t.translations,
                                useSuspense:
                                  this.environment.isEditor ||
                                  this.environment.isADI,
                              }),
                            ];
                      case 1:
                        r.sent(), (r.label = 2);
                      case 2:
                        return (
                          null !== this.fedops &&
                            this.fedops.interactionEnded("controller-load"),
                          [2]
                        );
                    }
                  });
                });
              }),
              (t.prototype.updateControllerConfig = function (e) {
                this.controllerConfig.config = e;
              }),
              (t.prototype.handleError = function (e) {
                var t;
                this.sentry &&
                  (this.reportError(e), (t = this.sentry.lastEventId())),
                  this.errorMonitor && (t = this.reportError(e)),
                  this.controllerConfig.setProps({ _workerError: ne(e, t) });
              }),
              (t.prototype.withErrorBoundary = function (e) {
                var t = this;
                return function () {
                  for (var r = [], n = 0; n < arguments.length; n++)
                    r[n] = arguments[n];
                  try {
                    e.apply(void 0, r);
                  } catch (e) {
                    e instanceof Error && t.handleError(e);
                  }
                };
              }),
              t
            );
          })(C),
          de = {
            language: "_language",
            translations: "_translations",
            multilingual: "_multilingual",
            experiments: "_experiments",
            biMethods: "_biMethods",
            openModal: "__openModal__",
            biUtil: "_biUtil",
            mobile: "_mobile",
            isRTL: "_isRTL",
            isSSR: "_isSSR",
            isSEO: "_isSEO",
            appDefinitionId: "_appDefinitionId",
            widgetId: "_widgetId",
            fedopsLogger: "_fedopsLogger",
            sentry: "_sentry",
            errorMonitor: "_errorMonitor",
            publicData: "_publicData",
            styles: "__styles",
            enabledHOCs: "_enabledHOCs",
            onAppLoaded: "_onAppLoaded",
            onAppLoadStarted: "_onAppLoadStarted",
            error: "_workerError",
            errorMonitorWithOptions: "__errorMonitorWithOptions",
            logger: "__logger",
            transactionWithAction: "__transactionWithAction",
            shouldReportAppLoadStarted: "shouldReportAppLoadStarted",
          },
          pe = (function () {
            function e() {
              this.store = {};
            }
            return (
              (e.prototype.init = function () {}),
              (e.prototype.getProps = function () {
                return this.store;
              }),
              (e.prototype.getProp = function (e) {
                var t = this.getPrivateKey(e);
                return this.store[t];
              }),
              (e.prototype.spreadProp = function (e) {
                var t,
                  r = this.getPrivateKey(e);
                return ((t = {})[r] = this.store[r]), t;
              }),
              (e.prototype.getPrivateKey = function (t) {
                return e.PropsMap[t];
              }),
              (e.prototype.getFromExternalStore = function (e, t) {
                return t[this.getPrivateKey(e)];
              }),
              (e.prototype.setProp = function (e, t) {
                var r = this.getPrivateKey(e);
                this.store[r] = t;
              }),
              (e.prototype.isHOCEnabled = function (e) {
                return this.getProp("enabledHOCs")[e];
              }),
              (e.prototype.isFlowPropsReceived = function () {
                return !!this.getProp("enabledHOCs");
              }),
              (e.PropsMap = de),
              e
            );
          })(),
          fe = function (e) {
            return function (t) {
              var r;
              return (
                (e.controllerConfig.config.publicData = t),
                ((r = {})[pe.PropsMap.publicData] = t),
                r
              );
            };
          },
          he = function () {
            return (
              (he =
                Object.assign ||
                function (e) {
                  for (var t, r = 1, n = arguments.length; r < n; r++)
                    for (var i in (t = arguments[r]))
                      Object.prototype.hasOwnProperty.call(t, i) &&
                        (e[i] = t[i]);
                  return e;
                }),
              he.apply(this, arguments)
            );
          },
          ge = function (e) {
            return function (t) {
              var r, n, i;
              return (
                (e.controllerConfig.config.style.styleParams =
                  (void 0 ===
                    (n = e.controllerConfig.config.style.styleParams) &&
                    (n = {}),
                  void 0 === (i = t) && (i = {}),
                  he(he({}, n), {
                    colors: he(he({}, n.colors), i.colors),
                    booleans: he(he({}, n.booleans), i.booleans),
                    fonts: he(he({}, n.fonts), i.fonts),
                    numbers: he(he({}, n.numbers), i.numbers),
                  }))),
                ((r = {})[pe.PropsMap.styles] =
                  e.controllerConfig.config.style.styleParams),
                r
              );
            };
          },
          ve = function (e, t, n, i, o, s) {
            var a = s(),
              u = (function (e, t) {
                if (!e.createPanoramaClient) return null;
                var r = t.componentId,
                  n = t.sentryConfig,
                  i = t.environment;
                return e.createPanoramaClient({
                  fullArtifactId:
                    "com.wixpress.wixcode.santa-members-viewer-app",
                  artifactVersion:
                    "8217aedcdc39c431c199e2012dafd062d2ac51986a4939355e22a9dc",
                  componentId: r,
                  sentryDsn: null == n ? void 0 : n.DSN,
                  sentryEnvironment: i,
                });
              })(n.essentials, {
                componentId: t.id,
                sentryConfig: t.sentryConfig,
                environment: "Viewer:Worker",
              }),
              l = new ce({
                translations: i.createTranslations(t, e, { basePath: r.p }),
                componentId: t.id,
                componentName: t.componentName,
                viewerScriptFlowAPI: i,
                appDefinitionId: t.appDefinitionId,
                widgetId: t.id,
                translationsConfig: t.translationsConfig,
                persistentAcrossPages: t.persistentAcrossPages,
                biLogger: t.biLogger,
                fedopsConfig: t.fedopsConfig,
                sentryConfig: t.sentryConfig,
                controllerConfig: n,
                shouldUseEssentials: t.shouldUseEssentials,
                multilingualDisabled: t.multilingualDisabled,
                panoramaClient: u,
              });
            return t.method({
              controllerConfig: n,
              flowAPI: l,
              appData: a,
              dangerousPublicDataOverride: fe(l),
              dangerousStylesOverride: ge(l),
            });
          };
        let me = (function (e) {
          return (
            (e.RestrictedMemberPagePermissions =
              "specs.membersArea.EnableMemberPagePermissions"),
            (e.EnablePublicAppData = "specs.membersArea.enableAppData"),
            (e.EnableNotifications =
              "specs.membersArea.enableNotificationsOnV2"),
            e
          );
        })({});
        var be = r(186);
        const _e = [
            be.dn,
            be.tt,
            be.qq,
            be.sV,
            "14ebe801-d78a-daa9-c9e5-0286a891e46f",
            "14dbef06-cc42-5583-32a7-3abd44da4908",
            be.AV,
            "476dc2dd-e16e-43b0-a0aa-1a486c78fbe2",
          ],
          ye = "b976560c-3122-4351-878f-453f337b7245",
          we = "14f25924-5664-31b2-9568-f9c5ed98c9b1",
          Pe = "{userName}",
          Se =
            /^[0-9a-f]{8}-[0-9a-f]{4}-[0-5][0-9a-f]{3}-[089ab][0-9a-f]{3}-[0-9a-f]{12}$/i,
          Ie = "initialData";
        let Ae = (function (e) {
          return (
            (e.MissingMemberId = "Error: please provide site member ID"),
            (e.RouteNotFound = "Error: route not found by provided widgetId:"),
            (e.MissingMembersAreaPage =
              "Error: missing members area page - failed to find prefix"),
            (e.MissingMembersAreaSettingsPage =
              "Error: missing members area settings page - failed to find prefix"),
            (e.CannotNavigateToMemberNoPublicPage =
              "Error: cannot navigate to member, no public page"),
            (e.MissingRoutes = "Error: members area viewer has no routes"),
            (e.NotInitializedWixCodeApi =
              "Error: wixCodeApi not properly initialized"),
            (e.CannotFindPageToNavigateTo =
              "Error: cannot find page to navigate to by provided widgetId and appDefinitionId. Check if correct widgetId or appDefId is passed."),
            (e.SectionUrlNotFound = "Error: section URL was not found"),
            e
          );
        })({});
        const Ce = "members-menu-initial-items",
          xe = "login-dropdown-menu-initial-items",
          Re = "@members_login",
          Me = "@members_menu",
          Oe = "@members-login-bar",
          Ee = "@members-menu";
        let Ne = (function (e) {
          return (e.Profile = "Profile"), (e.Settings = "Settings"), e;
        })({});
        function De(e) {
          if (!e || !e[0]) return [];
          return Object.keys(e[0]).includes("isVisible")
            ? (function (e) {
                return e.map((e) => ({
                  link: e.link,
                  isVisibleInMenuBar: e.isVisible,
                  isVisibleInMobileMenuBar: e.isVisibleMobile,
                  visibleForRoles: e.visibleForRoles,
                }));
              })(e)
            : (function (e) {
                return e.map((e) => ({
                  link: e.l,
                  isVisibleInMenuBar: !e.hmb,
                  isVisibleInMobileMenuBar: !e.hmmb,
                  visibleForRoles: e.vfr || [],
                }));
              })(e);
        }
        const Ue = (e) => e.split("#");
        const Te = "_",
          Le = /{(.*)}/,
          ke = new RegExp(`\\.(${["wix.com", "editorx.com"].join("|")})$`),
          je = new RegExp(
            `\\.(${["42.wixprod.net", "uw2-edt-1.wixprod.net"].join("|")})$`
          ),
          Be = new RegExp(".*\\.dev.wix-code.com$");
        function Fe(e) {
          const t = (function (e, t) {
            const r = t[e] || t[Te];
            if (
              !r &&
              (function (e) {
                return !!e.match(/\._base_domain_$/);
              })(e)
            )
              return t[Ve];
            return r;
          })(
            (function (e) {
              return e.replace("create.editorx.com", "editor.editorx.com");
            })(e.host)
              .replace(ke, "._base_domain_")
              .replace(je, "._api_base_domain_")
              .replace(Be, "*.dev.wix-code.com"),
            e.domainToMappings
          );
          var r, n;
          return (function (e, t) {
            const r =
              null == t ? void 0 : t.find((t) => e.startsWith(t.destPath));
            if (!r) return e;
            return r.srcPath + e.slice(r.destPath.length);
          })(
            ((r = e.protoPath),
            (n = e.data || {}),
            r
              .split("/")
              .map((e) =>
                (function (e, t) {
                  const r = e.match(Le) || [],
                    n = r[1];
                  if (n) {
                    const i = e.replace(r[0], "");
                    return (function (e, t, r, n) {
                      let i = e;
                      for (const e of t.split(".")) {
                        if (!i) return r;
                        i = i[e];
                      }
                      return `${i}${n}`;
                    })(t, n, e, i);
                  }
                  return e;
                })(e, n)
              )
              .join("/")),
            t
          );
        }
        const Ve = "www._base_domain_";
        function $e(e, t = "") {
          const r = {};
          return (
            Object.entries(e).forEach(([e, n]) => {
              const i = null !== n && "object" == typeof n && !Array.isArray(n),
                o = (function (e, t) {
                  return `${e}${e ? "." : ""}${t}`;
                })(t, e);
              if (i) {
                const e = $e(n, o);
                Object.assign(r, e);
              } else r[o] = n;
            }),
            r
          );
        }
        function We(e) {
          const t = $e(e);
          return Object.entries(t).reduce(
            (e, [t, r]) => (
              (Array.isArray(r) ? r : [r]).forEach((r) => {
                null != r && e.append(t, r);
              }),
              e
            ),
            new URLSearchParams()
          );
        }
        var Ke;
        function Ge(e, t = {}, r) {
          return function (n = {}, i) {
            return "string" == typeof n ? n : o(e, n);
            function o(e, t) {
              const r = {};
              return [null, void 0].includes(t)
                ? t
                : (Object.entries(t).forEach(([t, n]) => {
                    var i, o, u;
                    const l = e[t],
                      { schemaName: c, schemaType: d } = (function (e = "") {
                        const [t, r] = Ue(e);
                        return r
                          ? { schemaName: r, schemaType: t }
                          : { schemaName: t };
                      })(l),
                      p = "Map" === d;
                    let f;
                    (f = (
                      null !==
                        (u =
                          null ===
                            (o =
                              null === (i = a(c)) || void 0 === i
                                ? void 0
                                : i.checkRepetable) || void 0 === o
                            ? void 0
                            : o.call(i, n)) && void 0 !== u
                        ? u
                        : Array.isArray(n)
                    )
                      ? n.map((e) => s(e, c))
                      : p
                      ? (function (e, t) {
                          return Object.entries(e).reduce(
                            (e, [r, n]) => ((e[r] = s(n, t)), e),
                            {}
                          );
                        })(n, c)
                      : s(n, c)),
                      (r[t] = f);
                  }),
                  r);
            }
            function s(e, r) {
              if (!r) return e;
              const n = t[r];
              if (a(r)) return a(r).transform(e);
              if (n) return o(n, e);
              throw new Error(`${r} is neither schema nor serializable type`);
            }
            function a(e) {
              var t;
              return null === (t = r[e]) || void 0 === t ? void 0 : t[i];
            }
          };
        }
        !(function (e) {
          (e[(e.TO_JSON = 0)] = "TO_JSON"),
            (e[(e.FROM_JSON = 1)] = "FROM_JSON");
        })(Ke || (Ke = {}));
        const Je = {
            types: ["google.protobuf.Timestamp"],
            [Ke.TO_JSON]: {
              transform: (e) => (null == e ? void 0 : e.toISOString()),
            },
            [Ke.FROM_JSON]: { transform: (e) => (e ? new Date(e) : void 0) },
          },
          He = {
            types: ["google.protobuf.FieldMask"],
            [Ke.TO_JSON]: {
              transform: (e) => e.join(","),
              checkRepetable: (e) => e.some((e) => Array.isArray(e)),
            },
            [Ke.FROM_JSON]: {
              transform: (e) => ("object" == typeof e ? e.paths : e.split(",")),
            },
          },
          qe = {
            types: ["google.protobuf.BytesValue", "BYTES"],
            [Ke.TO_JSON]: {
              transform: (e) => {
                const t = e.reduce((e, t) => e + String.fromCharCode(t), "");
                return btoa(t);
              },
            },
            [Ke.FROM_JSON]: {
              transform: (e) =>
                Uint8Array.from(atob(e), (e) => e.charCodeAt(0)),
            },
          },
          ze = {
            types: ["google.protobuf.Duration"],
            [Ke.TO_JSON]: {
              transform: ({ seconds: e = "0", nanos: t = 0 }) => {
                let r = "";
                return (
                  0 !== t && (r = `.${t.toString().padStart(9, "0")}`),
                  `${e}${r}s`
                );
              },
            },
            [Ke.FROM_JSON]: {
              transform: (e) => {
                const [t, r] = e.substring(0, e.length - 1).split(".");
                return { seconds: t, nanos: Xe(r) };
              },
            },
          };
        function Xe(e) {
          let t = 0;
          if (void 0 !== e) {
            const r = 3 - e.length / 3;
            t = parseInt(e, 10) * Math.pow(1e3, r);
          }
          return t;
        }
        const Ye = {
          types: [
            "FLOAT",
            "DOUBLE",
            "google.protobuf.FloatValue",
            "google.protobuf.DoubleValue",
          ],
          [Ke.TO_JSON]: { transform: (e) => (isFinite(e) ? e : e.toString()) },
          [Ke.FROM_JSON]: {
            transform: (e) =>
              "NaN" === e
                ? NaN
                : "Infinity" === e
                ? 1 / 0
                : "-Infinity" === e
                ? -1 / 0
                : e,
          },
        };
        const Ze = [...[Je, He, qe, ze, Ye]].reduce((e, t) => {
          const r = t.types.reduce(
            (e, r) => Object.assign(Object.assign({}, e), { [r]: t }),
            {}
          );
          return Object.assign(Object.assign({}, e), r);
        }, {});
        function Qe(e, t = {}) {
          const r = Ge(e, t, Ze);
          return {
            fromJSON(e) {
              const t =
                (function (e) {
                  try {
                    return JSON.parse(e);
                  } catch (e) {}
                })(e) || e;
              return r(t, Ke.FROM_JSON);
            },
            toJSON: (e) => r(e, Ke.TO_JSON),
          };
        }
        var et = {},
          tt = {};
        function rt(e) {
          return Fe(
            Object.assign(e, {
              domainToMappings: {
                "api._api_base_domain_": [
                  { srcPath: "/members/v1/roles", destPath: "" },
                ],
                _: [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "www._base_domain_": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "members.wixapps.net": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "www.wixapis.com": [
                  { srcPath: "/members/v1/roles", destPath: "/v1/roles" },
                ],
                "editor._base_domain_": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "blocks._base_domain_": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "create.editorx": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "*.dev.wix-code.com": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
                "manage._base_domain_": [
                  { srcPath: "/_api/members/v1/roles", destPath: "/v1/roles" },
                ],
              },
            })
          );
        }
        function nt(e) {
          var t = Qe(et, {}),
            r = t.toJSON,
            n = t.fromJSON,
            i = Qe(tt, {}).fromJSON;
          function o(t) {
            var n = t.host,
              o = r(e);
            return {
              entityFqdn: "wix.members.v1.role",
              method: "GET",
              methodFqn:
                "com.wixpress.members.memberroles.MemberRoles.GetRoles",
              url: rt({
                protoPath: "/v1/roles/members/{memberId}",
                data: o,
                host: n,
              }),
              params: We(o),
              transformResponse: i,
            };
          }
          return (o.fromReq = n), (o.__isAmbassador = !0), o;
        }
        let it, ot, st;
        const at = (e, t) => () => {
          try {
            !(function (e) {
              try {
                st && ot.interactionStarted(e);
              } catch (e) {
                const t = "Failed to start fedops interaction, reason: " + e;
                it && it.captureException(t);
              }
            })(e);
            const r = t();
            return (
              (function (e) {
                try {
                  st && ot.interactionEnded(e);
                } catch (e) {
                  const t = "Failed to end fedops interaction, reason: " + e;
                  it && it.captureException(t);
                }
              })(e),
              r
            );
          } catch (e) {
            throw (
              (console.error(e), it && it.captureException(e.toString()), e)
            );
          }
        };
        function ut(e, t) {
          var r;
          void 0 === t && (t = {}),
            null != (r = it) &&
              r.captureMessage &&
              it.captureMessage(e, { level: "error", ...t });
        }
        let lt;
        function ct() {
          return lt;
        }
        class dt {
          constructor(e) {
            this.httpClient = e;
          }
          async get(e) {
            try {
              return (await this.httpClient.get(e)).data;
            } catch (e) {
              return console.log("error fetching data", e.message), {};
            }
          }
          async post(e, t) {
            try {
              return (await this.httpClient.post(e, t)).data;
            } catch (e) {
              return console.log("error posting data", e.message), {};
            }
          }
        }
        var pt = {},
          ft = {};
        function ht(e) {
          return Fe(
            Object.assign(e, {
              domainToMappings: {
                "api._api_base_domain_": [
                  { srcPath: "/activity-counters-api", destPath: "" },
                ],
                "www.wixapis.com": [
                  {
                    srcPath: "/members/v1/activity-counters",
                    destPath: "/v1/activity-counters",
                  },
                ],
                _: [
                  {
                    srcPath: "/_api/members/v1/activity-counters",
                    destPath: "/v1/activity-counters",
                  },
                ],
                "manage._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/activity-counters",
                    destPath: "/v1/activity-counters",
                  },
                ],
                "www._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/activity-counters",
                    destPath: "/v1/activity-counters",
                  },
                ],
                "*.dev.wix-code.com": [
                  {
                    srcPath: "/_api/members/v1/activity-counters",
                    destPath: "/v1/activity-counters",
                  },
                ],
                "editor._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/activity-counters",
                    destPath: "/v1/activity-counters",
                  },
                ],
                "blocks._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/activity-counters",
                    destPath: "/v1/activity-counters",
                  },
                ],
                "create.editorx": [
                  {
                    srcPath: "/_api/members/v1/activity-counters",
                    destPath: "/v1/activity-counters",
                  },
                ],
              },
            })
          );
        }
        function gt(e) {
          var t = Qe(pt, {}),
            r = t.toJSON,
            n = t.fromJSON,
            i = Qe(ft, {}).fromJSON;
          function o(t) {
            var n = t.host,
              o = r(e);
            return {
              entityFqdn: "wix.members.v1.activity_counter",
              method: "GET",
              methodFqn:
                "com.wixpress.members.activitycounters.ActivityCounters.GetActivityCounters",
              url: ht({
                protoPath: "/v1/activity-counters/{memberId}",
                data: o,
                host: n,
              }),
              params: We(o),
              transformResponse: i,
            };
          }
          return (o.fromReq = n), (o.__isAmbassador = !0), o;
        }
        var vt,
          mt,
          bt,
          _t,
          yt,
          wt = {},
          Pt = {};
        function St(e) {
          return Fe(
            Object.assign(e, {
              domainToMappings: {
                "api._api_base_domain_": [
                  { srcPath: "/notifications-feed-api-proxy", destPath: "" },
                ],
                "apps._base_domain_": [
                  {
                    srcPath: "/_api/ping/feed",
                    destPath: "/api/v1/feed/notifications",
                  },
                ],
                "editor._base_domain_": [
                  {
                    srcPath: "/_api/ping/feed",
                    destPath: "/api/v1/feed/notifications",
                  },
                ],
                "blocks._base_domain_": [
                  {
                    srcPath: "/_api/ping/feed",
                    destPath: "/api/v1/feed/notifications",
                  },
                ],
                "create.editorx": [
                  {
                    srcPath: "/_api/ping/feed",
                    destPath: "/api/v1/feed/notifications",
                  },
                ],
                "gapps._base_domain_": [
                  {
                    srcPath: "/_api/ping/feed",
                    destPath: "/api/v1/feed/notifications",
                  },
                ],
                "manage._base_domain_": [
                  {
                    srcPath: "/_api/ping/feed",
                    destPath: "/api/v1/feed/notifications",
                  },
                  {
                    srcPath: "/_api/ping/notifications-feed/v1/feed",
                    destPath: "/v1/feed",
                  },
                  {
                    srcPath: "/_api/ping/notifications-feed/api/v1/feed",
                    destPath: "/api/v1/feed",
                  },
                ],
                "www._base_domain_": [
                  {
                    srcPath: "/_api/ping/feed",
                    destPath: "/api/v1/feed/notifications",
                  },
                  {
                    srcPath: "/_api/ping/notifications-feed/v1/feed",
                    destPath: "/v1/feed",
                  },
                  {
                    srcPath: "/_api/ping/notifications-feed/api/v1/feed",
                    destPath: "/api/v1/feed",
                  },
                ],
                _: [
                  {
                    srcPath: "/_api/ping/feed",
                    destPath: "/api/v1/feed/notifications",
                  },
                ],
              },
            })
          );
        }
        async function It(e) {
          let { metaSiteId: t, flowAPI: r, memberId: n, wixCodeApi: i } = e;
          const o =
            null == i.site.getAppToken ? void 0 : i.site.getAppToken(be.Kh);
          if (!o) return null;
          try {
            var s;
            const e = await r.httpClient.request(
                (function (e) {
                  var t = Qe(wt, {}),
                    r = t.toJSON,
                    n = t.fromJSON,
                    i = Qe(Pt, {}).fromJSON;
                  function o(t) {
                    var n = t.host,
                      o = r(e);
                    return {
                      entityFqdn: "wix.ping.feed.v1.notification",
                      method: "POST",
                      methodFqn:
                        "com.wixpress.ping.feed.api.FeedService.GetNumberOfUnseenNotifications",
                      url: St({
                        protoPath:
                          "/api/v1/feed/notifications/unseen-notifications",
                        data: o,
                        host: n,
                      }),
                      data: o,
                      transformResponse: i,
                    };
                  }
                  return (o.fromReq = n), (o.__isAmbassador = !0), o;
                })({
                  shouldCancelMergeContactInMobile: !1,
                  recipient: { contact: { metaSiteId: t, contactId: n } },
                  feedFilter: { channel: _t.WEB },
                  specialMigrationSpecs: [yt.HideChatNotifications],
                }),
                { signedInstance: o }
              ),
              i = null == e || null == (s = e.data) ? void 0 : s.numberOfUnseen;
            return i
              ? {
                  memberId: n,
                  appId: we,
                  counters: [
                    { key: "notificationsCount", public: !1, count: i },
                  ],
                }
              : null;
          } catch (e) {
            var a;
            return null == (a = r.errorMonitor) || a.captureException(e), null;
          }
        }
        !(function (e) {
          (e.UNSEEN = "UNSEEN"),
            (e.SEEN_BUT_UNREAD = "SEEN_BUT_UNREAD"),
            (e.READ = "READ"),
            (e.RESOLVED = "RESOLVED"),
            (e.DISMISSED = "DISMISSED"),
            (e.DELETED = "DELETED");
        })(vt || (vt = {})),
          (function (e) {
            (e.REGULAR = "REGULAR"),
              (e.ALERT_WARNING = "ALERT_WARNING"),
              (e.ALERT_INFO = "ALERT_INFO");
          })(mt || (mt = {})),
          (function (e) {
            (e.UrlIcon = "UrlIcon"),
              (e.AppIcon = "AppIcon"),
              (e.PersonAvatar = "PersonAvatar");
          })(bt || (bt = {})),
          (function (e) {
            (e.UNKOWN = "UNKOWN"), (e.WEB = "WEB"), (e.MOBILE = "MOBILE");
          })(_t || (_t = {})),
          (function (e) {
            e.HideChatNotifications = "HideChatNotifications";
          })(yt || (yt = {}));
        const At = "current-user-slug",
          Ct = "current-user-id";
        function xt(e, t, r) {
          let n, i, o;
          return {
            getCurrentUser: function () {
              return i ?? {};
            },
            setCurrentUser: async function (t, r) {
              const n = await (function (t, r) {
                const n = ct(),
                  i = n.getItem(At),
                  o = n.getItem(Ct);
                if (i && o === t.id) return i;
                (o && o === t.id) || n.setItem(Ct, t.id);
                if (!t.loggedIn || "Site" !== e.window.viewMode) return t.id;
                return (async function (e) {
                  var t;
                  const r = new dt(e),
                    n = await r.get("/_api/members/v1/members/my");
                  return null == (t = n.member) || null == (t = t.profile)
                    ? void 0
                    : t.slug;
                })(r)
                  .then((e) => {
                    const r = e || t.id;
                    return n.setItem(At, r), r;
                  })
                  .catch(() =>
                    ut("Error while fetching current user slug", {
                      userDataId: t.id,
                    })
                  );
              })(t, r);
              i = { id: t.id, loggedIn: t.loggedIn, slug: n };
            },
            getViewedUser: function () {
              return n ?? {};
            },
            setViewedUser: function (e) {
              e && (n = e);
            },
            fetchRoles: async function (e, t, r) {
              var n, i;
              const [o, s] = await Promise.all([
                e ? r.request(nt({ memberId: e })).catch(() => {}) : void 0,
                t ? r.request(nt({ memberId: t })).catch(() => {}) : void 0,
              ]);
              return {
                ...(o && {
                  [e]:
                    (null == o || null == (n = o.data) || null == (n = n.roles)
                      ? void 0
                      : n.map((e) => {
                          var t;
                          return null == (t = e.roleKey)
                            ? void 0
                            : t.toLocaleLowerCase();
                        })) || [],
                }),
                ...(s && {
                  [t]:
                    (null == s || null == (i = s.data) || null == (i = i.roles)
                      ? void 0
                      : i.map((e) => {
                          var t;
                          return null == (t = e.roleKey)
                            ? void 0
                            : t.toLocaleLowerCase();
                        })) || [],
                }),
              };
            },
            getRoles: function () {
              return o ?? {};
            },
            setRoles: function (e) {
              o = e;
            },
            fetchMenuCounters: function (n) {
              return n && !1 !== n.loggedIn
                ? new Promise((i, o) => {
                    const s = n && n.id;
                    s
                      ? (async function (e) {
                          let {
                            memberId: t,
                            loggedIn: r,
                            biService: n,
                            flowAPI: i,
                            wixCodeApi: o,
                          } = e;
                          try {
                            var s, a;
                            const [e, u] = await Promise.all([
                                i.httpClient.request(gt({ memberId: t })),
                                r
                                  ? It({
                                      metaSiteId:
                                        null == n || null == (s = n.bi)
                                          ? void 0
                                          : s.metaSiteId,
                                      memberId: t,
                                      flowAPI: i,
                                      wixCodeApi: o,
                                    })
                                  : null,
                              ]),
                              l =
                                (null == e || null == (a = e.data)
                                  ? void 0
                                  : a.activityCounters) || [];
                            return (
                              u && l.push(u),
                              l.map((e) => {
                                var t;
                                return {
                                  appDefId: e.appId,
                                  numbers:
                                    null == (t = e.counters)
                                      ? void 0
                                      : t.reduce(
                                          (e, t) => (
                                            (e[t.key] = {
                                              public: t.public,
                                              count: t.count,
                                            }),
                                            e
                                          ),
                                          {}
                                        ),
                                };
                              })
                            );
                          } catch (e) {
                            var u;
                            return (
                              null == (u = i.errorMonitor) ||
                                u.captureException(e),
                              []
                            );
                          }
                        })({
                          memberId: s,
                          loggedIn: !!n.loggedIn,
                          biService: t,
                          flowAPI: r,
                          wixCodeApi: e,
                        }).then((e) => i({ apps: e }))
                      : o(new Error("No user to get menu counters by"));
                  })
                : Promise.resolve({ apps: [] });
            },
            replaceUserPatternWithSlug: function (e, t) {
              return e.replace(Pe, t.slug).replace(encodeURI(Pe), t.slug);
            },
          };
        }
        const Rt = (e) =>
          Object.keys(e)
            .map((t) => `${t}=${e[t]}`)
            .join("&");
        const Mt = (() => {
          let e,
            t = null,
            r = null,
            n = [],
            i = [],
            o = null;
          return {
            getFlowAPI: () => t,
            setFlowAPI: (e) => (t = e),
            getWixCodeAPI: () => r,
            setWixCodeAPI: (e) => (r = e),
            getRoutes: () => n,
            setRoutes: (e) => (n = e),
            getSettingsRoutes: () => i,
            setSettingsRoutes: (e) => (i = e),
            getGlobalControllerConfig: () => o,
            setGlobalControllerConfig: (e) => (o = e),
            getMembersLoginWidgets: () => e || [],
            setMembersLoginWidgets: (t) => (e = t),
          };
        })();
        function Ot(e) {
          let {
              menuItem: t,
              publicRouterConfig: r = {},
              privateRouterConfig: n = {},
              viewedUser: i,
              shouldLog: o = !0,
            } = e,
            s = t.link;
          i &&
            0 === s.indexOf(`/${i.slug}/`) &&
            (s = s.replace(`/${i.slug}/`, `/${Pe}/`));
          const a = s.split("/"),
            u = a.indexOf(Pe),
            l =
              u > -1
                ? "/" + a.splice(u, a.length).join("/")
                : "/" + a[a.length - 1],
            c = r.patterns || {},
            d = n.patterns || {},
            p = c[l] || d[l];
          if (!p && o) {
            const e = { menuItemLink: t.link },
              o = {
                menuItem: t,
                publicRouterConfig: r,
                privateRouterConfig: n,
                viewedUser: i,
              };
            (f =
              "Could not find the pattern for menu item in router configs - probably an invalid (or custom) menu item"),
              void 0 ===
                (h = { tags: e, extra: { data: JSON.stringify(o) } }) &&
                (h = {}),
              null != (g = it) &&
                g.captureMessage &&
                it.captureMessage(f, { level: "info", ...h });
          }
          var f, h, g;
          return p;
        }
        function Et(e) {
          let { menuItems: t, publicRouterPrefix: r } = e;
          const n = t.filter(
            (e) => !!e.link || (e.items && e.items.length > 0)
          );
          return (
            n.forEach((e) => {
              if (e.link && 0 === e.link.indexOf(`undefined/${Pe}`)) {
                const t = e.link.split("/");
                e.link = `/${r}/${Pe}/${t[2]}`;
              }
            }),
            n.forEach((e) => {
              if (!e.link) return;
              if (4 === e.link.split("/").length && -1 === e.link.indexOf(Pe)) {
                const t = e.link.split("/");
                "https:" !== t[0] &&
                  "http:" !== t[0] &&
                  (e.link = `/${t[1]}/${Pe}/${t[3]}`);
              }
            }),
            n
          );
        }
        function Nt(e) {
          let { slug: t, options: r, wixCodeApi: n } = e;
          const [i] = (function (e) {
              let { location: t } = e;
              const { prefix: r, path: n, query: i } = t,
                o = Object.keys(i).length > 0 ? `?${Rt(i)}` : "";
              return `/${r}/${n.join("/")}${o}`;
            })(n).split("?"),
            o = (function (e, t) {
              if (!t) return e;
              const [, ...r] = e.split("/");
              return r[1].match(Se) ? ((r[1] = t), `/${r.join("/")}`) : e;
            })(i, t),
            s = r.find((e) => {
              let { link: t } = e;
              return t === o;
            });
          return s ? s.value : null;
        }
        function Dt(e) {
          let { menu: t, options: r, viewedUser: n, wixCodeApi: i } = e;
          if (!!t.autoNavigation) return;
          const o = (n || {}).slug;
          (t.value = Nt({ slug: o, options: r, wixCodeApi: i })),
            (function (e) {
              let { menu: t, options: r, wixCodeApi: n } = e;
              null == t.onChange ||
                t.onChange((e) => {
                  let { target: i } = e;
                  const o = i.value,
                    s = (
                      r.find((e) => {
                        let { value: t } = e;
                        return t === o;
                      }) || {}
                    ).link;
                  var a;
                  s
                    ? n.location.to(s)
                    : ut("Menu navigation request ignored: ", {
                        menu: t,
                        target: i,
                        options: r,
                        newLink: s,
                        api: !(null == n || null == (a = n.location) || !a.to),
                      });
                });
            })({ menu: t, options: r, wixCodeApi: i });
        }
        function Ut(e) {
          let {
            menuItems: t,
            parsedRoutersConfigs: r,
            userRoles: n,
            viewedUser: i,
            appsCounters: o,
          } = e;
          const s = null == r ? void 0 : r.find((e) => "public" === e.type),
            a = null == r ? void 0 : r.find((e) => "private" === e.type),
            u = (function (e) {
              let {
                menuItems: t,
                publicRouterConfig: r,
                privateRouterConfig: n,
                userRoles: i = [],
                viewedUser: o,
              } = e;
              return t.filter((e) => {
                if (!e.link) return !0;
                const t = Ot({
                  menuItem: e,
                  publicRouterConfig: r,
                  privateRouterConfig: n,
                  viewedUser: o,
                });
                if (
                  !t ||
                  !t.appData ||
                  !t.appData.visibleForRoles ||
                  0 === t.appData.visibleForRoles.length
                )
                  return !0;
                const { visibleForRoles: s = [] } = t.appData;
                return !!s.some((e) => i.indexOf(e) > -1);
              });
            })({
              menuItems: t,
              publicRouterConfig: s,
              privateRouterConfig: a,
              userRoles: n,
              viewedUser: i,
            }),
            l = (function (e) {
              var t;
              let {
                menuItems: r,
                appsCounters: n,
                publicRouterConfig: i,
                privateRouterConfig: o,
                viewedUser: s,
              } = e;
              return (
                r.forEach((e) => {
                  e.displayCount = null;
                }),
                null != n && null != (t = n.apps) && t.length
                  ? (n.apps.forEach((e) => {
                      r.forEach((t) => {
                        if (!t.link) return;
                        const r = Ot({
                          menuItem: t,
                          publicRouterConfig: i,
                          privateRouterConfig: o,
                          viewedUser: s,
                        });
                        if (r && r.appData.appDefinitionId === e.appDefId) {
                          const n = r.appData.numbers && r.appData.numbers.key,
                            i = e.numbers && n && e.numbers[n];
                          i && (t.displayCount = i.count);
                        }
                      });
                    }),
                    r)
                  : r
              );
            })({
              menuItems: u,
              appsCounters: o,
              publicRouterConfig: s,
              privateRouterConfig: a,
              viewedUser: i,
            });
          return (function (e) {
            let { menuItems: t, viewedUser: r } = e;
            return t.map(
              (e) => (
                e.link &&
                  e.link.indexOf(Pe) > -1 &&
                  (e.link = e.link.replace(Pe, r.slug)),
                e
              )
            );
          })({ menuItems: l, viewedUser: i });
        }
        function Tt(e) {
          let {
            menuItems: t,
            parsedRoutersConfigs: r,
            viewedUser: n,
            permittedPagesMap: i,
            experiments: o,
          } = e;
          if (o && o.enabled(me.RestrictedMemberPagePermissions)) {
            const e = null == r ? void 0 : r.find((e) => "public" === e.type),
              o = null == r ? void 0 : r.find((e) => "private" === e.type);
            return t.filter((t) => {
              const r = Ot({
                menuItem: t,
                publicRouterConfig: e,
                privateRouterConfig: o,
                viewedUser: n,
              });
              return !r || (i[r.page] ?? !0);
            });
          }
          return t;
        }
        function Lt(e) {
          let {
            menuItems: t,
            parsedRoutersConfigs: r = [],
            viewedUserRoles: n,
            viewedUser: i,
            currentUser: o,
            appsCounters: s,
            parsedConfigItems: a,
            publicRouterPrefix: u,
            permittedPagesMap: l,
            experiments: c,
          } = e;
          const d = !i.id && o ? o : i,
            p = (function (e) {
              let { menuItems: t, parsedConfigItems: r } = e;
              if (r)
                return t.filter((e) => {
                  const t = r.find((t) => t.link === e.link),
                    { isVisibleInMenuBar: n } = t || {};
                  return "boolean" != typeof n || n;
                });
            })({
              menuItems: Et({ menuItems: t, publicRouterPrefix: u }),
              parsedConfigItems: a,
            }),
            f = (function (e) {
              let {
                menuItems: t,
                currentUser: r,
                viewedUser: n,
                parsedRoutersConfigs: i = [],
              } = e;
              if (!n.id) return t;
              if (r && r.id === n.id) return t;
              const o = i.find((e) => "private" === e.type);
              return t.filter(
                (e) =>
                  !e.link ||
                  !Ot({
                    menuItem: e,
                    viewedUser: n,
                    privateRouterConfig: o,
                    shouldLog: !1,
                  })
              );
            })({
              menuItems: p || [],
              currentUser: o,
              viewedUser: i,
              parsedRoutersConfigs: r,
            }),
            h = Ut({
              menuItems: Tt({
                menuItems: f,
                parsedRoutersConfigs: r,
                permittedPagesMap: l,
                viewedUser: i,
                experiments: c,
              }),
              parsedRoutersConfigs: r,
              userRoles: n,
              viewedUser: d,
              appsCounters: s,
            });
          return (
            h.forEach((e) => {
              e.items &&
                e.items.length > 0 &&
                (e.items = Lt({
                  menuItems: e.items,
                  parsedRoutersConfigs: r,
                  viewedUserRoles: n,
                  viewedUser: i,
                  currentUser: o,
                  appsCounters: s,
                  parsedConfigItems: a,
                  publicRouterPrefix: u,
                }));
            }),
            (function (e) {
              let { menuItems: t } = e;
              return t.filter(
                (e) => !!e.link || (e.items && e.items.length > 0)
              );
            })({ menuItems: h })
          );
        }
        function kt(e) {
          let {
            menuItems: t,
            parsedRoutersConfigs: r,
            userRoles: n,
            viewedUser: i,
            appsCounters: o,
            publicRouterPrefix: s,
            permittedPagesMap: a,
            experiments: u,
          } = e;
          return Ut({
            menuItems: Tt({
              menuItems: Et({ menuItems: t, publicRouterPrefix: s }),
              parsedRoutersConfigs: r,
              permittedPagesMap: a,
              viewedUser: i,
              experiments: u,
            }),
            parsedRoutersConfigs: r,
            userRoles: n,
            viewedUser: i,
            appsCounters: o,
          });
        }
        function jt(e) {
          let {
            menu: t,
            parsedRoutersConfigs: r,
            currentUserRoles: n,
            currentUser: i,
            appsCounters: o,
            memoryStorage: s,
            publicRouterPrefix: a,
            permittedPagesMap: u,
            experiments: l,
            isMobile: c,
          } = e;
          const d = Boolean(
              (null == t ? void 0 : t.accountNavBar) &&
                t.accountNavBar.navBarItems &&
                t.accountNavBar.menuItems &&
                c
            ),
            p = d ? t.accountNavBar.navBarItems : t.navBarItems || [],
            f = d
              ? null == t
                ? void 0
                : t.accountNavBar.menuItems
              : t.menuItems || [],
            h = `${xe}-${t.id}`;
          let g = JSON.parse(s.getItem(h));
          if (!g) {
            const e = JSON.stringify(f);
            s.setItem(h, e), (g = f);
          }
          const v = kt({
              menuItems: p,
              parsedRoutersConfigs: r,
              userRoles: n,
              viewedUser: i,
              appsCounters: o,
              publicRouterPrefix: a,
              permittedPagesMap: u,
              experiments: l,
            }),
            m = kt({
              menuItems: g,
              parsedRoutersConfigs: r,
              userRoles: n,
              viewedUser: i,
              appsCounters: o,
              publicRouterPrefix: a,
              permittedPagesMap: u,
              experiments: l,
            });
          d
            ? ((t.accountNavBar.navBarItems = v),
              (t.accountNavBar.menuItems = m))
            : ((t.navBarItems = v), (t.menuItems = m));
        }
        const Bt = (e) => {
          let {
            menu: t,
            parsedRoutersConfigs: r,
            viewedUser: n,
            flowAPI: i,
          } = e;
          return t.onItemClick((e) => {
            var t;
            let { item: o } = e;
            const s = (function (e) {
                let { item: t, viewedUser: r, parsedRoutersConfigs: n } = e;
                const i = t.link.replace(`/${r.slug}/`, `/${Pe}/`),
                  o = null == n ? void 0 : n.find((e) => "public" === e.type),
                  s = null == n ? void 0 : n.find((e) => "private" === e.type),
                  a = i.split("/"),
                  u = a.indexOf(Pe),
                  l =
                    u > -1
                      ? "/" + a.splice(u, a.length).join("/")
                      : "/" + a[a.length - 1],
                  c = (null == o ? void 0 : o.patterns) || {},
                  d = (null == s ? void 0 : s.patterns) || {};
                return c[l] || d[l];
              })({ item: o, parsedRoutersConfigs: r, viewedUser: n }),
              { appDefinitionId: a, appPageId: u } = s.appData;
            null == (t = i.bi) ||
              t.report({
                evid: 866,
                src: 69,
                endpoint: "members-app-uou",
                params: {
                  pageName: u,
                  component: "ma-navigation",
                  originAppId: a,
                  action: "menu-item-click",
                },
              });
          });
        };
        function Ft(e) {
          let {
            wixCodeApi: t,
            menu: r,
            parsedRoutersConfigs: n,
            viewedUserRoles: i,
            currentUser: o,
            viewedUser: s,
            appsCounters: a,
            parsedConfigItems: u,
            memoryStorage: l,
            publicRouterPrefix: c,
            permittedPagesMap: d,
            experiments: p,
            isMobile: f,
            flowAPI: h,
          } = e;
          const g = f && void 0 !== r.options && void 0 === r.items,
            v = g ? r.options || [] : r.items || [],
            m = `${Ce}-${r.id}`;
          let b = JSON.parse(l.getItem(m));
          if (!b) {
            const e = JSON.stringify(v);
            l.setItem(m, e), (b = v);
          }
          const _ = Lt({
            menuItems: b,
            parsedRoutersConfigs: n,
            viewedUserRoles: i,
            currentUser: o,
            viewedUser: s,
            appsCounters: a,
            parsedConfigItems: u,
            publicRouterPrefix: c,
            permittedPagesMap: d,
            experiments: p,
          });
          Bt({ menu: r, parsedRoutersConfigs: n, flowAPI: h, viewedUser: s }),
            g
              ? ((r.options = _),
                Dt({ menu: r, options: _, viewedUser: s, wixCodeApi: t }))
              : (r.items = _);
        }
        function Vt(e) {
          let {
            $w: t,
            wixCodeApi: r,
            parsedRoutersConfigs: n = [],
            viewedUserRoles: i = [],
            currentUser: o,
            viewedUser: s,
            appsCounters: a,
            parsedConfigItems: u,
            memoryStorage: l,
            publicRouterPrefix: c,
            permittedPagesMap: d = {},
            experiments: p,
            isMobile: f,
            flowAPI: h,
          } = e;
          const g = t(Me),
            v = t(Ee);
          g.forEach((e) =>
            Ft({
              wixCodeApi: r,
              menu: e,
              parsedRoutersConfigs: n,
              viewedUserRoles: i,
              currentUser: o,
              viewedUser: s,
              appsCounters: a,
              parsedConfigItems: u,
              memoryStorage: l,
              publicRouterPrefix: c,
              permittedPagesMap: d,
              experiments: p,
              isMobile: f,
              flowAPI: h,
            })
          ),
            v.forEach((e) =>
              Ft({
                wixCodeApi: r,
                menu: e,
                parsedRoutersConfigs: n,
                viewedUserRoles: i,
                currentUser: o,
                viewedUser: s,
                appsCounters: a,
                parsedConfigItems: u,
                memoryStorage: l,
                publicRouterPrefix: c,
                permittedPagesMap: d,
                experiments: p,
                isMobile: f,
                flowAPI: h,
              })
            );
        }
        var $t = r(213),
          Wt = r.n($t);
        class Kt {
          constructor(e, t) {
            (this.httpClient = e),
              (this.experiments = t),
              Wt()(
                this,
                "adminGroupId",
                "00000000-0000-0000-0000-000000000001"
              ),
              Wt()(this, "restrictedPagesContext", "Pages"),
              Wt()(
                this,
                "permittedPagesExperiment",
                me.RestrictedMemberPagePermissions
              );
          }
          async getPermittedPagesMap(e, t) {
            const r = Object.values(e);
            if (!this.shouldFetchPermittedPages(r, t)) return {};
            const n = await this.fetchRestrictedPagesPermission();
            if (!this.hasRestrictedPages(n, r))
              return this.getPermittedPagesMapFallback(Object.keys(e), !0);
            const i = this.getNonRestrictedPages(n, r),
              o = this.getRestrictedMemberPages(n, r),
              s = await this.checkPermissionsForRestrictedPages(n.id, o);
            return this.toPermittedPagesMap(e, i, s);
          }
          toPermittedPagesMap(e, t, r) {
            return Object.entries(e).reduce((e, n) => {
              let [i, o] = n;
              return t.includes(o) ? { ...e, [i]: !0 } : { ...e, [i]: r[o] };
            }, {});
          }
          getRestrictedMemberPages(e, t) {
            return e.resourceIds.filter((e) => t.includes(e));
          }
          getNonRestrictedPages(e, t) {
            return t.filter((t) => !e.resourceIds.includes(t));
          }
          getPermittedPagesMapFallback(e, t) {
            return e.reduce((e, r) => ({ ...e, [r]: t }), {});
          }
          async checkPermissionsForRestrictedPages(e, t) {
            var r;
            const n = `/_api/members-groups-web/v1/permissions/${e}`,
              i = { params: { resourceId: t } },
              o = this.getPermittedPagesMapFallback(t, !1);
            return (
              (await (null == (r = this.httpClient)
                ? void 0
                : r
                    .get(n, i)
                    .then((e) => {
                      let { data: t } = e;
                      return t.isPermitted;
                    })
                    .catch(() => null))) ?? o
            );
          }
          async fetchRestrictedPagesPermission() {
            var e;
            const t = `/_api/members-groups-web/v1/groups/${this.adminGroupId}/permissions`,
              r = await (null == (e = this.httpClient)
                ? void 0
                : e
                    .get(t)
                    .then((e) => {
                      let { data: t } = e;
                      return t.permissions;
                    })
                    .catch(() => null));
            return (
              (null == r
                ? void 0
                : r.find((e) => {
                    let { context: t } = e;
                    return this.restrictedPagesContext === t;
                  })) ?? null
            );
          }
          hasRestrictedPages(e, t) {
            return (
              !(null == e || !e.resourceIds.length) &&
              t.some((t) => e.resourceIds.includes(t))
            );
          }
          shouldFetchPermittedPages(e, t) {
            var r;
            return (
              ((null == (r = this.experiments)
                ? void 0
                : r.enabled(this.permittedPagesExperiment)) ??
                !1) &&
              e.length > 0 &&
              "Site" === t
            );
          }
        }
        const Gt = (e) => {
          const t = {};
          return (
            e.forEach((e) => {
              Object.entries(e.pages ?? {}).forEach((e) => {
                let [r, n] = e;
                t[r] = n;
              });
            }),
            t
          );
        };
        function Jt(e) {
          const t = e.find((e) => "public" === JSON.parse(e.config).type);
          if (!t) return;
          const r = JSON.parse(t.config),
            n = t.prefix,
            i = Object.keys(r.patterns ?? {}),
            o = i.find((e) => !0 === r.patterns[e].socialHome);
          if (o)
            return { routerPrefix: n, patternKey: o, pageData: r.patterns[o] };
          if (i.length > 0) {
            const e = i[0];
            return { routerPrefix: n, patternKey: e, pageData: r.patterns[e] };
          }
        }
        const Ht = () => {};
        class qt {
          constructor(e) {
            let {
              appRouters: t,
              routerReturnedData: r,
              wixCodeApi: n,
              cacheService: i,
              flowAPI: o,
            } = e;
            Wt()(this, "wixLocation", void 0),
              Wt()(this, "wixSite", void 0),
              Wt()(this, "isMobile", void 0),
              Wt()(this, "appRouters", void 0),
              Wt()(this, "routerReturnedData", void 0),
              Wt()(this, "wixCodeApi", void 0),
              Wt()(this, "cacheService", void 0),
              Wt()(this, "flowAPI", void 0),
              (this.wixLocation = n.location),
              (this.wixSite = n.site),
              (this.isMobile = "Mobile" === n.window.formFactor),
              (this.appRouters = t),
              (this.routerReturnedData = r),
              (this.wixCodeApi = n),
              (this.cacheService = i),
              (this.flowAPI = o);
          }
          async matchRoute(e) {
            let {
              appDefinitionId: t,
              sectionId: r,
              onSuccess: n = Ht,
              onError: i = Ht,
            } = e;
            (t && r) ||
              i("Error: please provide app ID and section ID for navigation");
            let o = !1;
            if (
              (this.appRouters.forEach((e) => {
                if (o) return;
                const i = JSON.parse(e.config);
                return (
                  i.patterns &&
                  Object.keys(i.patterns).forEach((s) => {
                    if (o) return;
                    const a = i.patterns[s];
                    a.appData &&
                      a.appData.appDefinitionId === t &&
                      a.appData.appPageId === r &&
                      ((o = !0), n(e.prefix, s));
                  })
                );
              }),
              !o)
            ) {
              const e = ((await this.wixSite.getSiteStructure()).pages || [])
                .filter((e) => e.applicationId === t && !e.prefix)
                .pop();
              return e
                ? ((o = !0), n("", e.url))
                : i(`Error: can not resolve route for app ${t} and page ${r}`);
            }
          }
          getRoute(e, t) {
            return this.appRouters.find((r) => {
              const n = JSON.parse(r.config);
              return (
                !!n.patterns &&
                Object.entries(n.patterns).some((r) => {
                  var n, i;
                  let [, o] = r;
                  return (
                    (null == (n = o.appData) ? void 0 : n.appDefinitionId) ===
                      e &&
                    (null == (i = o.appData) ? void 0 : i.appPageId) === t
                  );
                })
              );
            });
          }
          getRouterOptions(e) {
            const t = (e.appRouters || []).map((e) => ({
                ...e,
                config: JSON.parse(e.config),
              })),
              r = t.map((e) => e.config);
            return {
              publicRouterPrefix: t.find((e) => "public" === e.config.type)
                .prefix,
              parsedRoutersConfigs: r,
              parsedRouters: t,
            };
          }
          getMenuRenderOptions(e) {
            let {
              config: t,
              userService: r,
              appsCounters: n,
              enablePreview: i,
              flowAPI: o,
            } = e;
            const { $w: s, appParams: a } = t,
              {
                parsedRoutersConfigs: u,
                publicRouterPrefix: l,
                parsedRouters: c,
              } = this.getRouterOptions(a),
              d = r.getViewedUser();
            return {
              $w: s,
              wixCodeApi: this.wixCodeApi,
              publicRouterPrefix: l,
              parsedRoutersConfigs: u,
              appsCounters: n,
              memoryStorage: ct(),
              parsedConfigItems: De(t.config),
              currentUser: r.getCurrentUser(),
              viewedUser: i
                ? { ...d, id: "00000000-0000-0000-0000-000000000000" }
                : d,
              viewedUserRoles: r.getRoles()[d.id] || [],
              isMobile: this.isMobile,
              experiments: t.essentials.experiments,
              flowAPI: o,
              parsedRouters: c,
            };
          }
          static hasSocialApp(e) {
            const { applicationId: t } = e;
            return _e.indexOf(t) > -1;
          }
          async hasSocialPages(e, t) {
            if (!this.appRouters)
              throw (
                (t && t("App routers not initialised"),
                new Error("App routers not initialised"))
              );
            const r = this.appRouters.filter((e) => {
                const t = JSON.parse(e.config);
                return (
                  "public" === t.type &&
                  t.patterns &&
                  Object.keys(t.patterns).length > 0
                );
              }),
              { pages: n } = await this.wixSite.getSiteStructure(),
              i = n.filter(qt.hasSocialApp);
            return (
              e && e(r.length > 0 || i.length > 0), r.length > 0 || i.length > 0
            );
          }
          async getViewedUser(e, t) {
            var r;
            const n =
              null == (r = this.routerReturnedData)
                ? void 0
                : r.memberData.memberContactId;
            if (n) return e && e(n), n;
            throw (
              (t && t("Error getting viewed user"),
              new Error("Error getting viewed user"))
            );
          }
          async navigateToSection(e, t) {
            let {
              appDefinitionId: r,
              sectionId: n,
              tpaInnerRoute: i = "",
              memberId: o = "",
            } = e;
            await this.matchRoute({
              appDefinitionId: r,
              sectionId: n,
              onSuccess: (e, t) => {
                var r, n;
                e && 0 !== e.indexOf("/") && (e = `/${e}`),
                  i && "/" !== i.charAt(0) && (i = "/" + i),
                  null == (r = (n = this.wixLocation).to) ||
                    r.call(n, `${e}${o ? t.replace(Pe, o) : t}${i}`);
              },
              onError: (e) => {
                throw (t && t(e), new Error(e));
              },
            });
          }
          async getSectionUrl(e, t) {
            let {
              appDefinitionId: r,
              sectionId: n,
              memberId: i = "",
              memberSlug: o,
            } = e;
            return new Promise((e, s) => {
              const a = o || i;
              this.matchRoute({
                appDefinitionId: r,
                sectionId: n,
                onSuccess: (r, n) => {
                  r && 0 === r.indexOf("/") && (r = r.substring(1)),
                    r || 0 !== n.indexOf("/") || (n = n.substring(1));
                  let i = this.wixLocation.baseUrl;
                  "/" !== i.slice(-1) && (i += "/");
                  const o = Object.keys(this.wixLocation.query)
                    .map((e) => `${e}=${this.wixLocation.query[e]}`)
                    .join("&");
                  t &&
                    t(`${i}${r}${a ? n.replace(Pe, a) : n}${o ? "?" + o : ""}`),
                    e(`${i}${r}${a ? n.replace(Pe, a) : n}${o ? "?" + o : ""}`);
                },
                onError: () => {
                  t && t(this.wixLocation.url), s(this.wixLocation.url);
                },
              });
            });
          }
          async getNavigatableRoles(e) {
            const t = Jt(this.appRouters);
            if (t) {
              var r;
              return {
                navigatableMembersRoles:
                  (null == (r = t.pageData.appData)
                    ? void 0
                    : r.visibleForRoles) ?? [],
                isNavigationAllowed: !0,
              };
            }
            return { navigatableMembersRoles: [], isNavigationAllowed: !1 };
          }
          async navigateToMember(e, t) {
            let { memberId: r, memberSlug: n } = e;
            const i = n || r;
            if (!r)
              throw (
                (t && t("Error: please provide site member ID"),
                new Error("Error: please provide site member ID"))
              );
            const o = Jt(this.appRouters);
            if (o) {
              var s, a;
              const e = `/${o.routerPrefix}${o.patternKey.replace(Pe, i)}`;
              null == (s = (a = this.wixLocation).to) || s.call(a, e);
            }
          }
          async getMemberPagePrefix(e, t, r) {
            let { type: n = "public" } = e;
            if (!this.appRouters)
              throw (
                (r && r(`Can not get prefix for type ${n} - no routers`),
                new Error(`Can not get prefix for type ${n} - no routers`))
              );
            const i = this.appRouters
              .filter((e) => JSON.parse(e.config).type === n)
              .pop();
            if (!i)
              throw (
                (r && r(`Can not get prefix for type ${n}`),
                new Error(`Can not get prefix for type ${n}`))
              );
            return (
              t && t({ type: n, prefix: i.prefix }),
              { type: n, prefix: i.prefix }
            );
          }
          updateCounterForNotificationApp(e, t) {
            return {
              ...e,
              apps:
                null != e && e.apps
                  ? e.apps.map((e) => {
                      var r;
                      return e.appDefId === we
                        ? {
                            ...e,
                            numbers: {
                              ...e.numbers,
                              notificationsCount: {
                                ...(null == (r = e.numbers)
                                  ? void 0
                                  : r.notificationsCount),
                                count: t ?? 0,
                              },
                            },
                          }
                        : e;
                    })
                  : [],
            };
          }
          async setNotificationCount(e) {
            var t;
            let { config: r, userService: n, displayCount: i } = e;
            const o =
                null == (t = this.wixCodeApi) ||
                null == (t = t.site) ||
                null == t.getAppToken
                  ? void 0
                  : t.getAppToken(r.appParams.appDefinitionId),
              s = n.getCurrentUser(),
              a = n.getViewedUser(),
              u = this.updateCounterForNotificationApp(
                this.cacheService.getNumbers(o, s.id),
                i
              );
            this.cacheService.setNumbers(o, s.id, u);
            const l = this.getMenuRenderOptions({
                config: r,
                userService: n,
                appsCounters: u,
                enablePreview: !1,
                flowAPI: this.flowAPI,
              }),
              {
                publicRouterPrefix: c,
                parsedRouters: d,
                parsedRoutersConfigs: p,
                parsedConfigItems: f,
                viewedUserRoles: h,
              } = l,
              g = {
                counters: {
                  currentUserCounters: u,
                  viewedUserCounters:
                    this.cacheService.getNumbers(o, a.id) ?? void 0,
                },
                permittedPagesMap: {},
                parsedRouters: d,
                parsedRoutersConfigs: p,
                parsedConfigItems: f,
                currentUserRoles: n.getRoles()[s.id],
                viewedUserRoles: h,
                publicRouterPrefix: c,
              };
            return at("renderMembersMenuItems", () => ar(r, g, this.flowAPI))();
          }
          async enterPublicProfilePreviewMode(e) {
            var t;
            let { config: r, userService: n } = e;
            const { appParams: i } = r,
              o = n.getViewedUser(),
              s =
                null == (t = this.wixCodeApi) ||
                null == (t = t.site) ||
                null == t.getAppToken
                  ? void 0
                  : t.getAppToken(i.appDefinitionId),
              a = this.cacheService.hasNumbers(s, o.id)
                ? this.cacheService.getNumbers(s, o.id)
                : n.fetchMenuCounters(o),
              u = this.getMenuRenderOptions({
                config: r,
                userService: n,
                appsCounters: a,
                enablePreview: !0,
                flowAPI: this.flowAPI,
              });
            return at("renderMembersMenuItems", () => Vt(u))();
          }
          leavePublicProfilePreviewMode(e) {
            var t;
            let { config: r, userService: n } = e;
            const { appParams: i } = r,
              o = n.getViewedUser(),
              s =
                null == (t = this.wixCodeApi) ||
                null == (t = t.site) ||
                null == t.getAppToken
                  ? void 0
                  : t.getAppToken(i.appDefinitionId),
              a = this.cacheService.hasNumbers(s, o.id)
                ? this.cacheService.getNumbers(s, o.id)
                : n.fetchMenuCounters(o),
              u = this.getMenuRenderOptions({
                config: r,
                userService: n,
                appsCounters: a,
                enablePreview: !1,
                flowAPI: this.flowAPI,
              });
            return at("renderMembersMenuItems", () => Vt(u))();
          }
          clearMenus(e) {
            let { config: t } = e;
            return (function (e) {
              const t = e(Me),
                r = e(Ee);
              t.forEach((e) => {
                e.items = [];
              }),
                r.forEach((e) => {
                  e.items = [];
                });
            })(null == t ? void 0 : t.$w);
          }
          getIsMembersAreaSeoEnabled(e) {
            let { config: t } = e;
            const r = null == t ? void 0 : t.config.isMembersAreaSeoEnabled;
            return Promise.resolve(r);
          }
          isAppSectionInstalled(e) {
            let { appDefinitionId: t, sectionId: r } = e;
            return !!this.getRoute(t, r);
          }
        }
        class zt {
          constructor(e) {
            this.storage = e;
          }
          hasCurrentUser(e) {
            const t = this.getCurrentUserCacheKey(e);
            return this.hasItemInStorage(t);
          }
          getCurrentUser(e) {
            const t = this.getCurrentUserCacheKey(e);
            return this.getItemFromStorage(t);
          }
          setCurrentUser(e, t) {
            const r = this.getCurrentUserCacheKey(e);
            return this.setItemToStorage(r, t);
          }
          hasViewedUser(e, t) {
            const r = this.getViewedUserCacheKey(e, t);
            return this.hasItemInStorage(r);
          }
          getViewedUser(e, t) {
            const r = this.getViewedUserCacheKey(e, t);
            return this.getItemFromStorage(r);
          }
          setViewedUser(e, t, r) {
            const n = this.getViewedUserCacheKey(e, t);
            return this.setItemToStorage(n, r);
          }
          hasRoles(e, t) {
            const r = this.getRolesCacheKey(e, t);
            return this.hasItemInStorage(r);
          }
          getRoles(e, t) {
            const r = this.getRolesCacheKey(e, t);
            return this.getItemFromStorage(r);
          }
          setRoles(e, t, r) {
            const n = this.getRolesCacheKey(e, t);
            return this.setItemToStorage(n, r);
          }
          hasNumbers(e, t) {
            const r = this.getNumbersCacheKey(e, t);
            return this.hasItemInStorage(r);
          }
          getNumbers(e, t) {
            const r = this.getNumbersCacheKey(e, t);
            return this.getItemFromStorage(r);
          }
          setNumbers(e, t, r) {
            const n = this.getNumbersCacheKey(e, t);
            return this.setItemToStorage(n, r);
          }
          hasItemInStorage(e) {
            return !!this.storage.getItem(e);
          }
          getItemFromStorage(e) {
            const t = this.storage.getItem(e);
            return t ? JSON.parse(t) : null;
          }
          setItemToStorage(e, t) {
            return this.storage.setItem(e, JSON.stringify(t));
          }
          getCurrentUserCacheKey(e) {
            return `cu-${e}`;
          }
          getViewedUserCacheKey(e, t) {
            return `vu-${t}-${e}`;
          }
          getRolesCacheKey(e, t) {
            return t ? `roles-${t}-${e}` : `roles-${e}`;
          }
          getNumbersCacheKey(e, t) {
            return `numbers-${t}-${e}`;
          }
        }
        let Xt, Yt, Zt, Qt, er, tr;
        const rr = async (e, t, r, n, i) => {
            let {
                appDefinitionId: o,
                routerReturnedData: s,
                appRouters: a = [],
              } = e,
              { storage: u } = t;
            var l, c;
            if (
              ((Qt = xt(r, i, n)),
              (tr = ((e) => new zt(e.memory))(u)),
              (l = n.httpClient),
              (c = n.experiments),
              (er = new Kt(l, c)),
              (Zt = new qt({
                appRouters: a,
                routerReturnedData: s,
                wixCodeApi: r,
                cacheService: tr,
                flowAPI: n,
              })),
              (function (e) {
                lt = e;
              })(u.memory),
              await Qt.setCurrentUser(r.user.currentUser, n.httpClient),
              !s)
            )
              return Promise.resolve();
            const d =
                null == r.site.getAppToken ? void 0 : r.site.getAppToken(o),
              p = (s.memberData && s.memberData.slugs) || [],
              f = (s.memberData && s.memberData.memberContactId) || s.userId,
              h = p.find((e) => e.primary),
              g = { id: f, slug: (h && h.name) || f };
            Qt.setViewedUser(g),
              Qt.setRoles(s.roles || {}),
              s.roles && tr.setRoles(d, f, s.roles);
          },
          nr = async (e, t) => {
            if (t)
              return {
                currentUserCounters: void 0,
                viewedUserCounters: void 0,
              };
            const r = Qt.getCurrentUser(),
              n = Qt.getViewedUser(),
              i = async (t) => {
                if (tr.hasNumbers(e, t.id)) return tr.getNumbers(e, t.id);
                const r = await Qt.fetchMenuCounters(t);
                return tr.setNumbers(e, t.id, r), r;
              },
              o = n.id === r.id,
              s = i(r),
              a = o ? s : n.id ? i(n) : Promise.resolve({ apps: [] }),
              [u, l] = await Promise.all([s, a]);
            return { currentUserCounters: u, viewedUserCounters: l };
          },
          ir = async (e, t) => {
            const r = Qt.getCurrentUser(),
              n = Qt.getViewedUser();
            if (tr.hasRoles(e, null == n ? void 0 : n.id))
              return tr.getRoles(e, null == n ? void 0 : n.id);
            const i = await Qt.fetchRoles(n.id, r.id, t);
            return tr.setRoles(e, null == n ? void 0 : n.id, i), i;
          };
        function or(e, t, r) {
          const { wixCodeApi: n, $w: i } = e,
            o = Qt.getViewedUser(),
            s = Qt.getCurrentUser(),
            a = "Mobile" === n.window.formFactor,
            u = ct(),
            {
              permittedPagesMap: l,
              parsedRoutersConfigs: c,
              viewedUserRoles: d,
              parsedConfigItems: p,
              counters: { viewedUserCounters: f },
              publicRouterPrefix: h,
            } = t;
          at("renderMembersMenuItems", () =>
            Vt({
              $w: i,
              wixCodeApi: n,
              parsedRoutersConfigs: c,
              viewedUserRoles: d,
              viewedUser: o,
              currentUser: s,
              appsCounters: f,
              parsedConfigItems: p,
              memoryStorage: u,
              publicRouterPrefix: h,
              permittedPagesMap: l,
              experiments: r.experiments,
              isMobile: a,
              flowAPI: r,
            })
          )();
        }
        function sr(e, t) {
          const {
              $w: r,
              essentials: { experiments: n },
              wixCodeApi: i,
            } = e,
            o = Qt.getCurrentUser(),
            s = "Mobile" === i.window.formFactor,
            a = ct(),
            {
              permittedPagesMap: u,
              parsedRoutersConfigs: l,
              counters: { currentUserCounters: c },
              publicRouterPrefix: d,
              currentUserRoles: p,
            } = t;
          at("renderLoginMenuItems", () =>
            (function (e) {
              let {
                $w: t,
                parsedRoutersConfigs: r = [],
                currentUserRoles: n,
                currentUser: i,
                appsCounters: o,
                memoryStorage: s,
                publicRouterPrefix: a,
                permittedPagesMap: u = {},
                experiments: l,
                isMobile: c,
              } = e;
              if (i.loggedIn) {
                const e = t(Re),
                  d = t(Oe);
                e.forEach((e) =>
                  jt({
                    menu: e,
                    parsedRoutersConfigs: r,
                    currentUserRoles: n,
                    currentUser: i,
                    appsCounters: o,
                    memoryStorage: s,
                    publicRouterPrefix: a,
                    permittedPagesMap: u,
                    experiments: l,
                    isMobile: c,
                  })
                ),
                  d.forEach((e) =>
                    jt({
                      menu: e,
                      parsedRoutersConfigs: r,
                      currentUserRoles: n,
                      currentUser: i,
                      appsCounters: o,
                      memoryStorage: s,
                      publicRouterPrefix: a,
                      permittedPagesMap: u,
                      experiments: l,
                      isMobile: c,
                    })
                  ),
                  Mt.setMembersLoginWidgets([
                    ...Mt.getMembersLoginWidgets(),
                    ...e,
                    ...d,
                  ]);
              }
            })({
              $w: r,
              parsedRoutersConfigs: l,
              currentUserRoles: p,
              currentUser: o,
              appsCounters: c,
              memoryStorage: a,
              publicRouterPrefix: d,
              permittedPagesMap: u,
              experiments: n,
              isMobile: s,
              wixCodeApi: i,
            })
          )();
        }
        function ar(e, t, r) {
          sr(e, t), or(e, t, r);
        }
        const ur = (e) => {
            Xt = e;
          },
          lr = (e, t) => Qt.setCurrentUser(e, t),
          cr = (e, t, r) => {
            const n = ((e, t) => {
                const { prefix: r, path: n } = e.location,
                  i = t.find((e) => {
                    let {
                      config: { type: t },
                    } = e;
                    return "public" === t;
                  });
                if ((null == i ? void 0 : i.prefix) === r) {
                  const [, ...e] = n;
                  return `/${r}/${Pe}/${e.join("/")}`;
                }
                return `/${r}/${n.join("/")}`;
              })(t, r),
              i = (e) => {
                if (e.onChange) {
                  var t;
                  const r =
                    null == (t = e.options)
                      ? void 0
                      : t.find((e) => {
                          let { link: t } = e;
                          return t === n;
                        });
                  e.value = (null == r ? void 0 : r.value) ?? e.value;
                }
              };
            e(Me).forEach(i), e(Ee).forEach(i);
          },
          dr = async (e) => {
            let { controllerConfig: t, appData: r, flowAPI: n } = e;
            const { wixCodeApi: i, $w: o } = t,
              s = t,
              a = !!o(Re).length,
              u = !!o(Oe).length,
              l = !!o(Me).length,
              c = !!o(Ee).length,
              d = a || u || l || c;
            if (
              (((e) => {
                Yt = e;
              })(s),
              !d)
            )
              return {
                async pageReady() {
                  await (null == r ? void 0 : r.initApplication());
                },
              };
            const p = "Editor" === i.window.viewMode;
            return (
              ur(s),
              {
                async pageReady() {
                  const e = await (null == r ? void 0 : r.initApplication());
                  i.user.onLogin((t) =>
                    at("onLogin", () =>
                      lr(t, n.httpClient).then(() => ar(s, e, n))
                    )()
                  ),
                    p
                      ? n.environment.isMobile && cr(o, i, e.parsedRouters)
                      : ar(s, e, n);
                },
              }
            );
          },
          pr = async (e) => {
            let { controllerConfig: t } = e;
            const r = t;
            return Mt.setGlobalControllerConfig(r), { async pageReady() {} };
          },
          fr = async (e) => {
            let { controllerConfig: t } = e;
            const r = t;
            return Mt.setGlobalControllerConfig(r), { async pageReady() {} };
          },
          hr = async (e) =>
            !!(await (null == e
              ? void 0
              : e.site.isAppSectionInstalled({
                  sectionId: "member_page",
                  appDefinitionId: be.rH,
                }))),
          gr = async (e) =>
            !!e &&
            e.site.isAppSectionInstalled({
              sectionId: "member_settings_page",
              appDefinitionId: be.rH,
            }),
          vr = async (e) =>
            (
              await (async (e) => {
                const [t, r] = await Promise.all([
                  gr(e.controllerConfig.wixCodeApi),
                  hr(e.controllerConfig.wixCodeApi),
                ]);
                return t ? fr : r ? pr : dr;
              })(e.flowAPI)
            )(e);
        function mr(e) {
          for (
            var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), n = 1;
            n < t;
            n++
          )
            r[n - 1] = arguments[n];
          throw new Error(
            "number" == typeof e
              ? "[MobX] minified error nr: " +
                e +
                (r.length ? " " + r.map(String).join(",") : "") +
                ". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts"
              : "[MobX] " + e
          );
        }
        var br = {};
        function _r() {
          return "undefined" != typeof globalThis
            ? globalThis
            : "undefined" != typeof window
            ? window
            : void 0 !== r.g
            ? r.g
            : "undefined" != typeof self
            ? self
            : br;
        }
        var yr = Object.assign,
          wr = Object.getOwnPropertyDescriptor,
          Pr = Object.defineProperty,
          Sr = Object.prototype,
          Ir = [];
        Object.freeze(Ir);
        var Ar = {};
        Object.freeze(Ar);
        var Cr = "undefined" != typeof Proxy,
          xr = Object.toString();
        function Rr() {
          Cr || mr("Proxy not available");
        }
        function Mr(e) {
          var t = !1;
          return function () {
            if (!t) return (t = !0), e.apply(this, arguments);
          };
        }
        var Or = function () {};
        function Er(e) {
          return "function" == typeof e;
        }
        function Nr(e) {
          switch (typeof e) {
            case "string":
            case "symbol":
            case "number":
              return !0;
          }
          return !1;
        }
        function Dr(e) {
          return null !== e && "object" == typeof e;
        }
        function Ur(e) {
          if (!Dr(e)) return !1;
          var t = Object.getPrototypeOf(e);
          if (null == t) return !0;
          var r = Object.hasOwnProperty.call(t, "constructor") && t.constructor;
          return "function" == typeof r && r.toString() === xr;
        }
        function Tr(e) {
          var t = null == e ? void 0 : e.constructor;
          return (
            !!t &&
            ("GeneratorFunction" === t.name ||
              "GeneratorFunction" === t.displayName)
          );
        }
        function Lr(e, t, r) {
          Pr(e, t, {
            enumerable: !1,
            writable: !0,
            configurable: !0,
            value: r,
          });
        }
        function kr(e, t, r) {
          Pr(e, t, {
            enumerable: !1,
            writable: !1,
            configurable: !0,
            value: r,
          });
        }
        function jr(e, t) {
          var r = "isMobX" + e;
          return (
            (t.prototype[r] = !0),
            function (e) {
              return Dr(e) && !0 === e[r];
            }
          );
        }
        function Br(e) {
          return e instanceof Map;
        }
        function Fr(e) {
          return e instanceof Set;
        }
        var Vr = void 0 !== Object.getOwnPropertySymbols;
        var $r =
          "undefined" != typeof Reflect && Reflect.ownKeys
            ? Reflect.ownKeys
            : Vr
            ? function (e) {
                return Object.getOwnPropertyNames(e).concat(
                  Object.getOwnPropertySymbols(e)
                );
              }
            : Object.getOwnPropertyNames;
        function Wr(e) {
          return null === e ? null : "object" == typeof e ? "" + e : e;
        }
        function Kr(e, t) {
          return Sr.hasOwnProperty.call(e, t);
        }
        var Gr =
          Object.getOwnPropertyDescriptors ||
          function (e) {
            var t = {};
            return (
              $r(e).forEach(function (r) {
                t[r] = wr(e, r);
              }),
              t
            );
          };
        function Jr(e, t) {
          for (var r = 0; r < t.length; r++) {
            var n = t[r];
            (n.enumerable = n.enumerable || !1),
              (n.configurable = !0),
              "value" in n && (n.writable = !0),
              Object.defineProperty(
                e,
                ((i = n.key),
                (o = void 0),
                "symbol" ==
                typeof (o = (function (e, t) {
                  if ("object" != typeof e || null === e) return e;
                  var r = e[Symbol.toPrimitive];
                  if (void 0 !== r) {
                    var n = r.call(e, t || "default");
                    if ("object" != typeof n) return n;
                    throw new TypeError(
                      "@@toPrimitive must return a primitive value."
                    );
                  }
                  return ("string" === t ? String : Number)(e);
                })(i, "string"))
                  ? o
                  : String(o)),
                n
              );
          }
          var i, o;
        }
        function Hr(e, t, r) {
          return (
            t && Jr(e.prototype, t),
            r && Jr(e, r),
            Object.defineProperty(e, "prototype", { writable: !1 }),
            e
          );
        }
        function qr() {
          return (
            (qr = Object.assign
              ? Object.assign.bind()
              : function (e) {
                  for (var t = 1; t < arguments.length; t++) {
                    var r = arguments[t];
                    for (var n in r)
                      Object.prototype.hasOwnProperty.call(r, n) &&
                        (e[n] = r[n]);
                  }
                  return e;
                }),
            qr.apply(this, arguments)
          );
        }
        function zr(e, t) {
          (e.prototype = Object.create(t.prototype)),
            (e.prototype.constructor = e),
            Xr(e, t);
        }
        function Xr(e, t) {
          return (
            (Xr = Object.setPrototypeOf
              ? Object.setPrototypeOf.bind()
              : function (e, t) {
                  return (e.__proto__ = t), e;
                }),
            Xr(e, t)
          );
        }
        function Yr(e) {
          if (void 0 === e)
            throw new ReferenceError(
              "this hasn't been initialised - super() hasn't been called"
            );
          return e;
        }
        function Zr(e, t) {
          (null == t || t > e.length) && (t = e.length);
          for (var r = 0, n = new Array(t); r < t; r++) n[r] = e[r];
          return n;
        }
        function Qr(e, t) {
          var r =
            ("undefined" != typeof Symbol && e[Symbol.iterator]) ||
            e["@@iterator"];
          if (r) return (r = r.call(e)).next.bind(r);
          if (
            Array.isArray(e) ||
            (r = (function (e, t) {
              if (e) {
                if ("string" == typeof e) return Zr(e, t);
                var r = Object.prototype.toString.call(e).slice(8, -1);
                return (
                  "Object" === r && e.constructor && (r = e.constructor.name),
                  "Map" === r || "Set" === r
                    ? Array.from(e)
                    : "Arguments" === r ||
                      /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)
                    ? Zr(e, t)
                    : void 0
                );
              }
            })(e)) ||
            (t && e && "number" == typeof e.length)
          ) {
            r && (e = r);
            var n = 0;
            return function () {
              return n >= e.length ? { done: !0 } : { done: !1, value: e[n++] };
            };
          }
          throw new TypeError(
            "Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method."
          );
        }
        var en = Symbol("mobx-stored-annotations");
        function tn(e) {
          return Object.assign(function (t, r) {
            if (nn(r)) return e.decorate_20223_(t, r);
            rn(t, r, e);
          }, e);
        }
        function rn(e, t, r) {
          Kr(e, en) || Lr(e, en, qr({}, e[en])),
            (function (e) {
              return e.annotationType_ === pn;
            })(r) || (e[en][t] = r);
        }
        function nn(e) {
          return "object" == typeof e && "string" == typeof e.kind;
        }
        var on = Symbol("mobx administration"),
          sn = (function () {
            function e(e) {
              void 0 === e && (e = "Atom"),
                (this.name_ = void 0),
                (this.isPendingUnobservation_ = !1),
                (this.isBeingObserved_ = !1),
                (this.observers_ = new Set()),
                (this.diffValue_ = 0),
                (this.lastAccessedBy_ = 0),
                (this.lowestObserverState_ = di.NOT_TRACKING_),
                (this.onBOL = void 0),
                (this.onBUOL = void 0),
                (this.name_ = e);
            }
            var t = e.prototype;
            return (
              (t.onBO = function () {
                this.onBOL &&
                  this.onBOL.forEach(function (e) {
                    return e();
                  });
              }),
              (t.onBUO = function () {
                this.onBUOL &&
                  this.onBUOL.forEach(function (e) {
                    return e();
                  });
              }),
              (t.reportObserved = function () {
                return Li(this);
              }),
              (t.reportChanged = function () {
                Ui(), ki(this), Ti();
              }),
              (t.toString = function () {
                return this.name_;
              }),
              e
            );
          })(),
          an = jr("Atom", sn);
        function un(e, t, r) {
          void 0 === t && (t = Or), void 0 === r && (r = Or);
          var n,
            i = new sn(e);
          return t !== Or && ao(io, i, t, n), r !== Or && so(i, r), i;
        }
        var ln = {
          identity: function (e, t) {
            return e === t;
          },
          structural: function (e, t) {
            return Cs(e, t);
          },
          default: function (e, t) {
            return Object.is
              ? Object.is(e, t)
              : e === t
              ? 0 !== e || 1 / e == 1 / t
              : e != e && t != t;
          },
          shallow: function (e, t) {
            return Cs(e, t, 1);
          },
        };
        function cn(e, t, r) {
          return yo(e)
            ? e
            : Array.isArray(e)
            ? qn.array(e, { name: r })
            : Ur(e)
            ? qn.object(e, void 0, { name: r })
            : Br(e)
            ? qn.map(e, { name: r })
            : Fr(e)
            ? qn.set(e, { name: r })
            : "function" != typeof e || eo(e) || bo(e)
            ? e
            : Tr(e)
            ? vo(e)
            : Qi(r, e);
        }
        function dn(e) {
          return e;
        }
        var pn = "override";
        function fn(e, t) {
          return {
            annotationType_: e,
            options_: t,
            make_: hn,
            extend_: gn,
            decorate_20223_: vn,
          };
        }
        function hn(e, t, r, n) {
          var i;
          if (null != (i = this.options_) && i.bound)
            return null === this.extend_(e, t, r, !1) ? 0 : 1;
          if (n === e.target_)
            return null === this.extend_(e, t, r, !1) ? 0 : 2;
          if (eo(r.value)) return 1;
          var o = mn(e, this, t, r, !1);
          return Pr(n, t, o), 2;
        }
        function gn(e, t, r, n) {
          var i = mn(e, this, t, r);
          return e.defineProperty_(t, i, n);
        }
        function vn(e, t) {
          var r = t.kind,
            n = t.name,
            i = t.addInitializer,
            o = this;
          if ("field" != r) {
            var s, a, u, l, c, d;
            if ("method" == r)
              return (
                eo(e) ||
                  ((a = e),
                  (e = ii(
                    null != (u = null == (l = o.options_) ? void 0 : l.name)
                      ? u
                      : n.toString(),
                    a,
                    null !=
                      (c = null == (d = o.options_) ? void 0 : d.autoAction) &&
                      c
                  ))),
                null != (s = this.options_) &&
                  s.bound &&
                  i(function () {
                    var e = this,
                      t = e[n].bind(e);
                    (t.isMobxAction = !0), (e[n] = t);
                  }),
                e
              );
            mr(
              "Cannot apply '" +
                o.annotationType_ +
                "' to '" +
                String(n) +
                "' (kind: " +
                r +
                "):\n'" +
                o.annotationType_ +
                "' can only be used on properties with a function value."
            );
          } else
            i(function () {
              rn(this, n, o);
            });
        }
        function mn(e, t, r, n, i) {
          var o, s, a, u, l, c, d, p;
          void 0 === i && (i = Oi.safeDescriptors),
            (p = n),
            t.annotationType_,
            p.value;
          var f,
            h = n.value;
          null != (o = t.options_) &&
            o.bound &&
            (h = h.bind(null != (f = e.proxy_) ? f : e.target_));
          return {
            value: ii(
              null != (s = null == (a = t.options_) ? void 0 : a.name)
                ? s
                : r.toString(),
              h,
              null != (u = null == (l = t.options_) ? void 0 : l.autoAction) &&
                u,
              null != (c = t.options_) && c.bound
                ? null != (d = e.proxy_)
                  ? d
                  : e.target_
                : void 0
            ),
            configurable: !i || e.isPlainObject_,
            enumerable: !1,
            writable: !i,
          };
        }
        function bn(e, t) {
          return {
            annotationType_: e,
            options_: t,
            make_: _n,
            extend_: yn,
            decorate_20223_: wn,
          };
        }
        function _n(e, t, r, n) {
          var i;
          if (n === e.target_)
            return null === this.extend_(e, t, r, !1) ? 0 : 2;
          if (
            null != (i = this.options_) &&
            i.bound &&
            (!Kr(e.target_, t) || !bo(e.target_[t])) &&
            null === this.extend_(e, t, r, !1)
          )
            return 0;
          if (bo(r.value)) return 1;
          var o = Pn(e, this, t, r, !1, !1);
          return Pr(n, t, o), 2;
        }
        function yn(e, t, r, n) {
          var i,
            o = Pn(
              e,
              this,
              t,
              r,
              null == (i = this.options_) ? void 0 : i.bound
            );
          return e.defineProperty_(t, o, n);
        }
        function wn(e, t) {
          var r;
          var n = t.name,
            i = t.addInitializer;
          return (
            bo(e) || (e = vo(e)),
            null != (r = this.options_) &&
              r.bound &&
              i(function () {
                var e = this,
                  t = e[n].bind(e);
                (t.isMobXFlow = !0), (e[n] = t);
              }),
            e
          );
        }
        function Pn(e, t, r, n, i, o) {
          var s;
          void 0 === o && (o = Oi.safeDescriptors),
            (s = n),
            t.annotationType_,
            s.value;
          var a,
            u = n.value;
          (bo(u) || (u = vo(u)), i) &&
            ((u = u.bind(null != (a = e.proxy_) ? a : e.target_)).isMobXFlow =
              !0);
          return {
            value: u,
            configurable: !o || e.isPlainObject_,
            enumerable: !1,
            writable: !o,
          };
        }
        function Sn(e, t) {
          return {
            annotationType_: e,
            options_: t,
            make_: In,
            extend_: An,
            decorate_20223_: Cn,
          };
        }
        function In(e, t, r) {
          return null === this.extend_(e, t, r, !1) ? 0 : 1;
        }
        function An(e, t, r, n) {
          return (
            (function (e, t, r, n) {
              t.annotationType_, n.get;
              0;
            })(0, this, 0, r),
            e.defineComputedProperty_(
              t,
              qr({}, this.options_, { get: r.get, set: r.set }),
              n
            )
          );
        }
        function Cn(e, t) {
          var r = this,
            n = t.name;
          return (
            (0, t.addInitializer)(function () {
              var t = is(this)[on],
                i = qr({}, r.options_, { get: e, context: this });
              i.name || (i.name = "ObservableObject." + n.toString()),
                t.values_.set(n, new fi(i));
            }),
            function () {
              return this[on].getObservablePropValue_(n);
            }
          );
        }
        function xn(e, t) {
          return {
            annotationType_: e,
            options_: t,
            make_: Rn,
            extend_: Mn,
            decorate_20223_: On,
          };
        }
        function Rn(e, t, r) {
          return null === this.extend_(e, t, r, !1) ? 0 : 1;
        }
        function Mn(e, t, r, n) {
          var i, o;
          return (
            (function (e, t, r, n) {
              t.annotationType_;
              0;
            })(0, this),
            e.defineObservableProperty_(
              t,
              r.value,
              null != (i = null == (o = this.options_) ? void 0 : o.enhancer)
                ? i
                : cn,
              n
            )
          );
        }
        function On(e, t) {
          var r = this,
            n = t.kind,
            i = t.name,
            o = new WeakSet();
          function s(e, t) {
            var n,
              s,
              a = is(e)[on],
              u = new ci(
                t,
                null != (n = null == (s = r.options_) ? void 0 : s.enhancer)
                  ? n
                  : cn,
                "ObservableObject." + i.toString(),
                !1
              );
            a.values_.set(i, u), o.add(e);
          }
          if ("accessor" == n)
            return {
              get: function () {
                return (
                  o.has(this) || s(this, e.get.call(this)),
                  this[on].getObservablePropValue_(i)
                );
              },
              set: function (e) {
                return (
                  o.has(this) || s(this, e),
                  this[on].setObservablePropValue_(i, e)
                );
              },
              init: function (e) {
                return o.has(this) || s(this, e), e;
              },
            };
        }
        var En = "true",
          Nn = Dn();
        function Dn(e) {
          return {
            annotationType_: En,
            options_: e,
            make_: Un,
            extend_: Tn,
            decorate_20223_: Ln,
          };
        }
        function Un(e, t, r, n) {
          var i, o, s, a;
          if (r.get) return Zn.make_(e, t, r, n);
          if (r.set) {
            var u = ii(t.toString(), r.set);
            return n === e.target_
              ? null ===
                e.defineProperty_(t, {
                  configurable: !Oi.safeDescriptors || e.isPlainObject_,
                  set: u,
                })
                ? 0
                : 2
              : (Pr(n, t, { configurable: !0, set: u }), 2);
          }
          if (n !== e.target_ && "function" == typeof r.value)
            return Tr(r.value)
              ? (null != (a = this.options_) && a.autoBind
                  ? vo.bound
                  : vo
                ).make_(e, t, r, n)
              : (null != (s = this.options_) && s.autoBind
                  ? Qi.bound
                  : Qi
                ).make_(e, t, r, n);
          var l,
            c =
              !1 === (null == (i = this.options_) ? void 0 : i.deep)
                ? qn.ref
                : qn;
          "function" == typeof r.value &&
            null != (o = this.options_) &&
            o.autoBind &&
            (r.value = r.value.bind(null != (l = e.proxy_) ? l : e.target_));
          return c.make_(e, t, r, n);
        }
        function Tn(e, t, r, n) {
          var i, o, s;
          if (r.get) return Zn.extend_(e, t, r, n);
          if (r.set)
            return e.defineProperty_(
              t,
              {
                configurable: !Oi.safeDescriptors || e.isPlainObject_,
                set: ii(t.toString(), r.set),
              },
              n
            );
          "function" == typeof r.value &&
            null != (i = this.options_) &&
            i.autoBind &&
            (r.value = r.value.bind(null != (s = e.proxy_) ? s : e.target_));
          return (
            !1 === (null == (o = this.options_) ? void 0 : o.deep) ? qn.ref : qn
          ).extend_(e, t, r, n);
        }
        function Ln(e, t) {
          mr("'" + this.annotationType_ + "' cannot be used as a decorator");
        }
        var kn = {
          deep: !0,
          name: void 0,
          defaultDecorator: void 0,
          proxy: !0,
        };
        function jn(e) {
          return e || kn;
        }
        Object.freeze(kn);
        var Bn = xn("observable"),
          Fn = xn("observable.ref", { enhancer: dn }),
          Vn = xn("observable.shallow", {
            enhancer: function (e, t, r) {
              return null == e || as(e) || Ko(e) || Yo(e) || es(e)
                ? e
                : Array.isArray(e)
                ? qn.array(e, { name: r, deep: !1 })
                : Ur(e)
                ? qn.object(e, void 0, { name: r, deep: !1 })
                : Br(e)
                ? qn.map(e, { name: r, deep: !1 })
                : Fr(e)
                ? qn.set(e, { name: r, deep: !1 })
                : void 0;
            },
          }),
          $n = xn("observable.struct", {
            enhancer: function (e, t) {
              return Cs(e, t) ? t : e;
            },
          }),
          Wn = tn(Bn);
        function Kn(e) {
          return !0 === e.deep
            ? cn
            : !1 === e.deep
            ? dn
            : (t = e.defaultDecorator) &&
              null != (r = null == (n = t.options_) ? void 0 : n.enhancer)
            ? r
            : cn;
          var t, r, n;
        }
        function Gn(e, t, r) {
          return nn(t)
            ? Bn.decorate_20223_(e, t)
            : Nr(t)
            ? void rn(e, t, Bn)
            : yo(e)
            ? e
            : Ur(e)
            ? qn.object(e, t, r)
            : Array.isArray(e)
            ? qn.array(e, t)
            : Br(e)
            ? qn.map(e, t)
            : Fr(e)
            ? qn.set(e, t)
            : "object" == typeof e && null !== e
            ? e
            : qn.box(e, t);
        }
        yr(Gn, Wn);
        var Jn,
          Hn,
          qn = yr(Gn, {
            box: function (e, t) {
              var r = jn(t);
              return new ci(e, Kn(r), r.name, !0, r.equals);
            },
            array: function (e, t) {
              var r = jn(t);
              return (!1 === Oi.useProxies || !1 === r.proxy ? ys : To)(
                e,
                Kn(r),
                r.name
              );
            },
            map: function (e, t) {
              var r = jn(t);
              return new Xo(e, Kn(r), r.name);
            },
            set: function (e, t) {
              var r = jn(t);
              return new Qo(e, Kn(r), r.name);
            },
            object: function (e, t, r) {
              return Is(function () {
                return co(
                  !1 === Oi.useProxies || !1 === (null == r ? void 0 : r.proxy)
                    ? is({}, r)
                    : (function (e, t) {
                        var r, n;
                        return (
                          Rr(),
                          (e = is(e, t)),
                          null != (n = (r = e[on]).proxy_)
                            ? n
                            : (r.proxy_ = new Proxy(e, So))
                        );
                      })({}, r),
                  e,
                  t
                );
              });
            },
            ref: tn(Fn),
            shallow: tn(Vn),
            deep: Wn,
            struct: tn($n),
          }),
          zn = "computed",
          Xn = Sn(zn),
          Yn = Sn("computed.struct", { equals: ln.structural }),
          Zn = function (e, t) {
            if (nn(t)) return Xn.decorate_20223_(e, t);
            if (Nr(t)) return rn(e, t, Xn);
            if (Ur(e)) return tn(Sn(zn, e));
            var r = Ur(t) ? t : {};
            return (r.get = e), r.name || (r.name = e.name || ""), new fi(r);
          };
        Object.assign(Zn, Xn), (Zn.struct = tn(Yn));
        var Qn,
          ei = 0,
          ti = 1,
          ri =
            null !=
              (Jn =
                null == (Hn = wr(function () {}, "name"))
                  ? void 0
                  : Hn.configurable) && Jn,
          ni = {
            value: "action",
            configurable: !0,
            writable: !1,
            enumerable: !1,
          };
        function ii(e, t, r, n) {
          function i() {
            return oi(e, r, t, n || this, arguments);
          }
          return (
            void 0 === r && (r = !1),
            (i.isMobxAction = !0),
            (i.toString = function () {
              return t.toString();
            }),
            ri && ((ni.value = e), Pr(i, "name", ni)),
            i
          );
        }
        function oi(e, t, r, n, i) {
          var o = (function (e, t, r, n) {
            var i = !1,
              o = 0;
            0;
            var s = Oi.trackingDerivation,
              a = !t || !s;
            Ui();
            var u = Oi.allowStateChanges;
            a && (Pi(), (u = ai(!0)));
            var l = Ii(!0),
              c = {
                runAsAction_: a,
                prevDerivation_: s,
                prevAllowStateChanges_: u,
                prevAllowStateReads_: l,
                notifySpy_: i,
                startTime_: o,
                actionId_: ti++,
                parentActionId_: ei,
              };
            return (ei = c.actionId_), c;
          })(0, t);
          try {
            return r.apply(n, i);
          } catch (e) {
            throw ((o.error_ = e), e);
          } finally {
            !(function (e) {
              ei !== e.actionId_ && mr(30);
              (ei = e.parentActionId_),
                void 0 !== e.error_ && (Oi.suppressReactionErrors = !0);
              ui(e.prevAllowStateChanges_),
                Ai(e.prevAllowStateReads_),
                Ti(),
                e.runAsAction_ && Si(e.prevDerivation_);
              0;
              Oi.suppressReactionErrors = !1;
            })(o);
          }
        }
        function si(e, t) {
          var r = ai(e);
          try {
            return t();
          } finally {
            ui(r);
          }
        }
        function ai(e) {
          var t = Oi.allowStateChanges;
          return (Oi.allowStateChanges = e), t;
        }
        function ui(e) {
          Oi.allowStateChanges = e;
        }
        Qn = Symbol.toPrimitive;
        var li,
          ci = (function (e) {
            function t(t, r, n, i, o) {
              var s;
              return (
                void 0 === n && (n = "ObservableValue"),
                void 0 === i && (i = !0),
                void 0 === o && (o = ln.default),
                ((s = e.call(this, n) || this).enhancer = void 0),
                (s.name_ = void 0),
                (s.equals = void 0),
                (s.hasUnreportedChange_ = !1),
                (s.interceptors_ = void 0),
                (s.changeListeners_ = void 0),
                (s.value_ = void 0),
                (s.dehancer = void 0),
                (s.enhancer = r),
                (s.name_ = n),
                (s.equals = o),
                (s.value_ = r(t, void 0, n)),
                s
              );
            }
            zr(t, e);
            var r = t.prototype;
            return (
              (r.dehanceValue = function (e) {
                return void 0 !== this.dehancer ? this.dehancer(e) : e;
              }),
              (r.set = function (e) {
                this.value_;
                if ((e = this.prepareNewValue_(e)) !== Oi.UNCHANGED) {
                  0, this.setNewValue_(e);
                }
              }),
              (r.prepareNewValue_ = function (e) {
                if ((bi(this), Io(this))) {
                  var t = Co(this, { object: this, type: No, newValue: e });
                  if (!t) return Oi.UNCHANGED;
                  e = t.newValue;
                }
                return (
                  (e = this.enhancer(e, this.value_, this.name_)),
                  this.equals(this.value_, e) ? Oi.UNCHANGED : e
                );
              }),
              (r.setNewValue_ = function (e) {
                var t = this.value_;
                (this.value_ = e),
                  this.reportChanged(),
                  xo(this) &&
                    Mo(this, {
                      type: No,
                      object: this,
                      newValue: e,
                      oldValue: t,
                    });
              }),
              (r.get = function () {
                return this.reportObserved(), this.dehanceValue(this.value_);
              }),
              (r.intercept_ = function (e) {
                return Ao(this, e);
              }),
              (r.observe_ = function (e, t) {
                return (
                  t &&
                    e({
                      observableKind: "value",
                      debugObjectName: this.name_,
                      object: this,
                      type: No,
                      newValue: this.value_,
                      oldValue: void 0,
                    }),
                  Ro(this, e)
                );
              }),
              (r.raw = function () {
                return this.value_;
              }),
              (r.toJSON = function () {
                return this.get();
              }),
              (r.toString = function () {
                return this.name_ + "[" + this.value_ + "]";
              }),
              (r.valueOf = function () {
                return Wr(this.get());
              }),
              (r[Qn] = function () {
                return this.valueOf();
              }),
              t
            );
          })(sn);
        li = Symbol.toPrimitive;
        var di,
          pi,
          fi = (function () {
            function e(e) {
              (this.dependenciesState_ = di.NOT_TRACKING_),
                (this.observing_ = []),
                (this.newObserving_ = null),
                (this.isBeingObserved_ = !1),
                (this.isPendingUnobservation_ = !1),
                (this.observers_ = new Set()),
                (this.diffValue_ = 0),
                (this.runId_ = 0),
                (this.lastAccessedBy_ = 0),
                (this.lowestObserverState_ = di.UP_TO_DATE_),
                (this.unboundDepsCount_ = 0),
                (this.value_ = new gi(null)),
                (this.name_ = void 0),
                (this.triggeredBy_ = void 0),
                (this.isComputing_ = !1),
                (this.isRunningSetter_ = !1),
                (this.derivation = void 0),
                (this.setter_ = void 0),
                (this.isTracing_ = pi.NONE),
                (this.scope_ = void 0),
                (this.equals_ = void 0),
                (this.requiresReaction_ = void 0),
                (this.keepAlive_ = void 0),
                (this.onBOL = void 0),
                (this.onBUOL = void 0),
                e.get || mr(31),
                (this.derivation = e.get),
                (this.name_ = e.name || "ComputedValue"),
                e.set && (this.setter_ = ii("ComputedValue-setter", e.set)),
                (this.equals_ =
                  e.equals ||
                  (e.compareStructural || e.struct
                    ? ln.structural
                    : ln.default)),
                (this.scope_ = e.context),
                (this.requiresReaction_ = e.requiresReaction),
                (this.keepAlive_ = !!e.keepAlive);
            }
            var t = e.prototype;
            return (
              (t.onBecomeStale_ = function () {
                !(function (e) {
                  if (e.lowestObserverState_ !== di.UP_TO_DATE_) return;
                  (e.lowestObserverState_ = di.POSSIBLY_STALE_),
                    e.observers_.forEach(function (e) {
                      e.dependenciesState_ === di.UP_TO_DATE_ &&
                        ((e.dependenciesState_ = di.POSSIBLY_STALE_),
                        e.onBecomeStale_());
                    });
                })(this);
              }),
              (t.onBO = function () {
                this.onBOL &&
                  this.onBOL.forEach(function (e) {
                    return e();
                  });
              }),
              (t.onBUO = function () {
                this.onBUOL &&
                  this.onBUOL.forEach(function (e) {
                    return e();
                  });
              }),
              (t.get = function () {
                if (
                  (this.isComputing_ && mr(32, this.name_, this.derivation),
                  0 !== Oi.inBatch ||
                    0 !== this.observers_.size ||
                    this.keepAlive_)
                ) {
                  if ((Li(this), mi(this))) {
                    var e = Oi.trackingContext;
                    this.keepAlive_ && !e && (Oi.trackingContext = this),
                      this.trackAndCompute() &&
                        (function (e) {
                          if (e.lowestObserverState_ === di.STALE_) return;
                          (e.lowestObserverState_ = di.STALE_),
                            e.observers_.forEach(function (t) {
                              t.dependenciesState_ === di.POSSIBLY_STALE_
                                ? (t.dependenciesState_ = di.STALE_)
                                : t.dependenciesState_ === di.UP_TO_DATE_ &&
                                  (e.lowestObserverState_ = di.UP_TO_DATE_);
                            });
                        })(this),
                      (Oi.trackingContext = e);
                  }
                } else
                  mi(this) &&
                    (this.warnAboutUntrackedRead_(),
                    Ui(),
                    (this.value_ = this.computeValue_(!1)),
                    Ti());
                var t = this.value_;
                if (vi(t)) throw t.cause;
                return t;
              }),
              (t.set = function (e) {
                if (this.setter_) {
                  this.isRunningSetter_ && mr(33, this.name_),
                    (this.isRunningSetter_ = !0);
                  try {
                    this.setter_.call(this.scope_, e);
                  } finally {
                    this.isRunningSetter_ = !1;
                  }
                } else mr(34, this.name_);
              }),
              (t.trackAndCompute = function () {
                var e = this.value_,
                  t = this.dependenciesState_ === di.NOT_TRACKING_,
                  r = this.computeValue_(!0),
                  n = t || vi(e) || vi(r) || !this.equals_(e, r);
                return n && (this.value_ = r), n;
              }),
              (t.computeValue_ = function (e) {
                this.isComputing_ = !0;
                var t,
                  r = ai(!1);
                if (e) t = _i(this, this.derivation, this.scope_);
                else if (!0 === Oi.disableErrorBoundaries)
                  t = this.derivation.call(this.scope_);
                else
                  try {
                    t = this.derivation.call(this.scope_);
                  } catch (e) {
                    t = new gi(e);
                  }
                return ui(r), (this.isComputing_ = !1), t;
              }),
              (t.suspend_ = function () {
                this.keepAlive_ || (yi(this), (this.value_ = void 0));
              }),
              (t.observe_ = function (e, t) {
                var r = this,
                  n = !0,
                  i = void 0;
                return to(function () {
                  var o = r.get();
                  if (!n || t) {
                    var s = Pi();
                    e({
                      observableKind: "computed",
                      debugObjectName: r.name_,
                      type: No,
                      object: r,
                      newValue: o,
                      oldValue: i,
                    }),
                      Si(s);
                  }
                  (n = !1), (i = o);
                });
              }),
              (t.warnAboutUntrackedRead_ = function () {}),
              (t.toString = function () {
                return this.name_ + "[" + this.derivation.toString() + "]";
              }),
              (t.valueOf = function () {
                return Wr(this.get());
              }),
              (t[li] = function () {
                return this.valueOf();
              }),
              e
            );
          })(),
          hi = jr("ComputedValue", fi);
        !(function (e) {
          (e[(e.NOT_TRACKING_ = -1)] = "NOT_TRACKING_"),
            (e[(e.UP_TO_DATE_ = 0)] = "UP_TO_DATE_"),
            (e[(e.POSSIBLY_STALE_ = 1)] = "POSSIBLY_STALE_"),
            (e[(e.STALE_ = 2)] = "STALE_");
        })(di || (di = {})),
          (function (e) {
            (e[(e.NONE = 0)] = "NONE"),
              (e[(e.LOG = 1)] = "LOG"),
              (e[(e.BREAK = 2)] = "BREAK");
          })(pi || (pi = {}));
        var gi = function (e) {
          (this.cause = void 0), (this.cause = e);
        };
        function vi(e) {
          return e instanceof gi;
        }
        function mi(e) {
          switch (e.dependenciesState_) {
            case di.UP_TO_DATE_:
              return !1;
            case di.NOT_TRACKING_:
            case di.STALE_:
              return !0;
            case di.POSSIBLY_STALE_:
              for (
                var t = Ii(!0), r = Pi(), n = e.observing_, i = n.length, o = 0;
                o < i;
                o++
              ) {
                var s = n[o];
                if (hi(s)) {
                  if (Oi.disableErrorBoundaries) s.get();
                  else
                    try {
                      s.get();
                    } catch (e) {
                      return Si(r), Ai(t), !0;
                    }
                  if (e.dependenciesState_ === di.STALE_)
                    return Si(r), Ai(t), !0;
                }
              }
              return Ci(e), Si(r), Ai(t), !1;
          }
        }
        function bi(e) {}
        function _i(e, t, r) {
          var n = Ii(!0);
          Ci(e),
            (e.newObserving_ = new Array(e.observing_.length + 100)),
            (e.unboundDepsCount_ = 0),
            (e.runId_ = ++Oi.runId);
          var i,
            o = Oi.trackingDerivation;
          if (
            ((Oi.trackingDerivation = e),
            Oi.inBatch++,
            !0 === Oi.disableErrorBoundaries)
          )
            i = t.call(r);
          else
            try {
              i = t.call(r);
            } catch (e) {
              i = new gi(e);
            }
          return (
            Oi.inBatch--,
            (Oi.trackingDerivation = o),
            (function (e) {
              for (
                var t = e.observing_,
                  r = (e.observing_ = e.newObserving_),
                  n = di.UP_TO_DATE_,
                  i = 0,
                  o = e.unboundDepsCount_,
                  s = 0;
                s < o;
                s++
              ) {
                var a = r[s];
                0 === a.diffValue_ &&
                  ((a.diffValue_ = 1), i !== s && (r[i] = a), i++),
                  a.dependenciesState_ > n && (n = a.dependenciesState_);
              }
              (r.length = i), (e.newObserving_ = null), (o = t.length);
              for (; o--; ) {
                var u = t[o];
                0 === u.diffValue_ && Ni(u, e), (u.diffValue_ = 0);
              }
              for (; i--; ) {
                var l = r[i];
                1 === l.diffValue_ && ((l.diffValue_ = 0), Ei(l, e));
              }
              n !== di.UP_TO_DATE_ &&
                ((e.dependenciesState_ = n), e.onBecomeStale_());
            })(e),
            Ai(n),
            i
          );
        }
        function yi(e) {
          var t = e.observing_;
          e.observing_ = [];
          for (var r = t.length; r--; ) Ni(t[r], e);
          e.dependenciesState_ = di.NOT_TRACKING_;
        }
        function wi(e) {
          var t = Pi();
          try {
            return e();
          } finally {
            Si(t);
          }
        }
        function Pi() {
          var e = Oi.trackingDerivation;
          return (Oi.trackingDerivation = null), e;
        }
        function Si(e) {
          Oi.trackingDerivation = e;
        }
        function Ii(e) {
          var t = Oi.allowStateReads;
          return (Oi.allowStateReads = e), t;
        }
        function Ai(e) {
          Oi.allowStateReads = e;
        }
        function Ci(e) {
          if (e.dependenciesState_ !== di.UP_TO_DATE_) {
            e.dependenciesState_ = di.UP_TO_DATE_;
            for (var t = e.observing_, r = t.length; r--; )
              t[r].lowestObserverState_ = di.UP_TO_DATE_;
          }
        }
        var xi = function () {
            (this.version = 6),
              (this.UNCHANGED = {}),
              (this.trackingDerivation = null),
              (this.trackingContext = null),
              (this.runId = 0),
              (this.mobxGuid = 0),
              (this.inBatch = 0),
              (this.pendingUnobservations = []),
              (this.pendingReactions = []),
              (this.isRunningReactions = !1),
              (this.allowStateChanges = !1),
              (this.allowStateReads = !0),
              (this.enforceActions = !0),
              (this.spyListeners = []),
              (this.globalReactionErrorHandlers = []),
              (this.computedRequiresReaction = !1),
              (this.reactionRequiresObservable = !1),
              (this.observableRequiresReaction = !1),
              (this.disableErrorBoundaries = !1),
              (this.suppressReactionErrors = !1),
              (this.useProxies = !0),
              (this.verifyProxies = !1),
              (this.safeDescriptors = !0);
          },
          Ri = !0,
          Mi = !1,
          Oi = (function () {
            var e = _r();
            return (
              e.__mobxInstanceCount > 0 && !e.__mobxGlobals && (Ri = !1),
              e.__mobxGlobals &&
                e.__mobxGlobals.version !== new xi().version &&
                (Ri = !1),
              Ri
                ? e.__mobxGlobals
                  ? ((e.__mobxInstanceCount += 1),
                    e.__mobxGlobals.UNCHANGED ||
                      (e.__mobxGlobals.UNCHANGED = {}),
                    e.__mobxGlobals)
                  : ((e.__mobxInstanceCount = 1), (e.__mobxGlobals = new xi()))
                : (setTimeout(function () {
                    Mi || mr(35);
                  }, 1),
                  new xi())
            );
          })();
        function Ei(e, t) {
          e.observers_.add(t),
            e.lowestObserverState_ > t.dependenciesState_ &&
              (e.lowestObserverState_ = t.dependenciesState_);
        }
        function Ni(e, t) {
          e.observers_.delete(t), 0 === e.observers_.size && Di(e);
        }
        function Di(e) {
          !1 === e.isPendingUnobservation_ &&
            ((e.isPendingUnobservation_ = !0),
            Oi.pendingUnobservations.push(e));
        }
        function Ui() {
          Oi.inBatch++;
        }
        function Ti() {
          if (0 == --Oi.inBatch) {
            Vi();
            for (var e = Oi.pendingUnobservations, t = 0; t < e.length; t++) {
              var r = e[t];
              (r.isPendingUnobservation_ = !1),
                0 === r.observers_.size &&
                  (r.isBeingObserved_ && ((r.isBeingObserved_ = !1), r.onBUO()),
                  r instanceof fi && r.suspend_());
            }
            Oi.pendingUnobservations = [];
          }
        }
        function Li(e) {
          var t = Oi.trackingDerivation;
          return null !== t
            ? (t.runId_ !== e.lastAccessedBy_ &&
                ((e.lastAccessedBy_ = t.runId_),
                (t.newObserving_[t.unboundDepsCount_++] = e),
                !e.isBeingObserved_ &&
                  Oi.trackingContext &&
                  ((e.isBeingObserved_ = !0), e.onBO())),
              e.isBeingObserved_)
            : (0 === e.observers_.size && Oi.inBatch > 0 && Di(e), !1);
        }
        function ki(e) {
          e.lowestObserverState_ !== di.STALE_ &&
            ((e.lowestObserverState_ = di.STALE_),
            e.observers_.forEach(function (e) {
              e.dependenciesState_ === di.UP_TO_DATE_ && e.onBecomeStale_(),
                (e.dependenciesState_ = di.STALE_);
            }));
        }
        var ji = (function () {
          function e(e, t, r, n) {
            void 0 === e && (e = "Reaction"),
              (this.name_ = void 0),
              (this.onInvalidate_ = void 0),
              (this.errorHandler_ = void 0),
              (this.requiresObservable_ = void 0),
              (this.observing_ = []),
              (this.newObserving_ = []),
              (this.dependenciesState_ = di.NOT_TRACKING_),
              (this.diffValue_ = 0),
              (this.runId_ = 0),
              (this.unboundDepsCount_ = 0),
              (this.isDisposed_ = !1),
              (this.isScheduled_ = !1),
              (this.isTrackPending_ = !1),
              (this.isRunning_ = !1),
              (this.isTracing_ = pi.NONE),
              (this.name_ = e),
              (this.onInvalidate_ = t),
              (this.errorHandler_ = r),
              (this.requiresObservable_ = n);
          }
          var t = e.prototype;
          return (
            (t.onBecomeStale_ = function () {
              this.schedule_();
            }),
            (t.schedule_ = function () {
              this.isScheduled_ ||
                ((this.isScheduled_ = !0),
                Oi.pendingReactions.push(this),
                Vi());
            }),
            (t.isScheduled = function () {
              return this.isScheduled_;
            }),
            (t.runReaction_ = function () {
              if (!this.isDisposed_) {
                Ui(), (this.isScheduled_ = !1);
                var e = Oi.trackingContext;
                if (((Oi.trackingContext = this), mi(this))) {
                  this.isTrackPending_ = !0;
                  try {
                    this.onInvalidate_();
                  } catch (e) {
                    this.reportExceptionInDerivation_(e);
                  }
                }
                (Oi.trackingContext = e), Ti();
              }
            }),
            (t.track = function (e) {
              if (!this.isDisposed_) {
                Ui();
                0, (this.isRunning_ = !0);
                var t = Oi.trackingContext;
                Oi.trackingContext = this;
                var r = _i(this, e, void 0);
                (Oi.trackingContext = t),
                  (this.isRunning_ = !1),
                  (this.isTrackPending_ = !1),
                  this.isDisposed_ && yi(this),
                  vi(r) && this.reportExceptionInDerivation_(r.cause),
                  Ti();
              }
            }),
            (t.reportExceptionInDerivation_ = function (e) {
              var t = this;
              if (this.errorHandler_) this.errorHandler_(e, this);
              else {
                if (Oi.disableErrorBoundaries) throw e;
                var r = "[mobx] uncaught error in '" + this + "'";
                Oi.suppressReactionErrors || console.error(r, e),
                  Oi.globalReactionErrorHandlers.forEach(function (r) {
                    return r(e, t);
                  });
              }
            }),
            (t.dispose = function () {
              this.isDisposed_ ||
                ((this.isDisposed_ = !0),
                this.isRunning_ || (Ui(), yi(this), Ti()));
            }),
            (t.getDisposer_ = function (e) {
              var t = this,
                r = function r() {
                  t.dispose(),
                    null == e ||
                      null == e.removeEventListener ||
                      e.removeEventListener("abort", r);
                };
              return (
                null == e ||
                  null == e.addEventListener ||
                  e.addEventListener("abort", r),
                (r[on] = this),
                r
              );
            }),
            (t.toString = function () {
              return "Reaction[" + this.name_ + "]";
            }),
            (t.trace = function (e) {
              void 0 === e && (e = !1);
            }),
            e
          );
        })();
        var Bi = 100,
          Fi = function (e) {
            return e();
          };
        function Vi() {
          Oi.inBatch > 0 || Oi.isRunningReactions || Fi($i);
        }
        function $i() {
          Oi.isRunningReactions = !0;
          for (var e = Oi.pendingReactions, t = 0; e.length > 0; ) {
            ++t === Bi &&
              (console.error("[mobx] cycle in reaction: " + e[0]), e.splice(0));
            for (var r = e.splice(0), n = 0, i = r.length; n < i; n++)
              r[n].runReaction_();
          }
          Oi.isRunningReactions = !1;
        }
        var Wi = jr("Reaction", ji);
        var Ki = "action",
          Gi = "autoAction",
          Ji = "<unnamed action>",
          Hi = fn(Ki),
          qi = fn("action.bound", { bound: !0 }),
          zi = fn(Gi, { autoAction: !0 }),
          Xi = fn("autoAction.bound", { autoAction: !0, bound: !0 });
        function Yi(e) {
          return function (t, r) {
            return Er(t)
              ? ii(t.name || Ji, t, e)
              : Er(r)
              ? ii(t, r, e)
              : nn(r)
              ? (e ? zi : Hi).decorate_20223_(t, r)
              : Nr(r)
              ? rn(t, r, e ? zi : Hi)
              : Nr(t)
              ? tn(fn(e ? Gi : Ki, { name: t, autoAction: e }))
              : void 0;
          };
        }
        var Zi = Yi(!1);
        Object.assign(Zi, Hi);
        var Qi = Yi(!0);
        function eo(e) {
          return Er(e) && !0 === e.isMobxAction;
        }
        function to(e, t) {
          var r, n, i, o, s;
          void 0 === t && (t = Ar);
          var a,
            u = null != (r = null == (n = t) ? void 0 : n.name) ? r : "Autorun";
          if (!t.scheduler && !t.delay)
            a = new ji(
              u,
              function () {
                this.track(d);
              },
              t.onError,
              t.requiresObservable
            );
          else {
            var l = no(t),
              c = !1;
            a = new ji(
              u,
              function () {
                c ||
                  ((c = !0),
                  l(function () {
                    (c = !1), a.isDisposed_ || a.track(d);
                  }));
              },
              t.onError,
              t.requiresObservable
            );
          }
          function d() {
            e(a);
          }
          return (
            (null != (i = t) && null != (o = i.signal) && o.aborted) ||
              a.schedule_(),
            a.getDisposer_(null == (s = t) ? void 0 : s.signal)
          );
        }
        Object.assign(Qi, zi), (Zi.bound = tn(qi)), (Qi.bound = tn(Xi));
        var ro = function (e) {
          return e();
        };
        function no(e) {
          return e.scheduler
            ? e.scheduler
            : e.delay
            ? function (t) {
                return setTimeout(t, e.delay);
              }
            : ro;
        }
        var io = "onBO",
          oo = "onBUO";
        function so(e, t, r) {
          return ao(oo, e, t, r);
        }
        function ao(e, t, r, n) {
          var i = "function" == typeof n ? ws(t, r) : ws(t),
            o = Er(n) ? n : r,
            s = e + "L";
          return (
            i[s] ? i[s].add(o) : (i[s] = new Set([o])),
            function () {
              var e = i[s];
              e && (e.delete(o), 0 === e.size && delete i[s]);
            }
          );
        }
        var uo = "always";
        function lo(e) {
          !0 === e.isolateGlobalState &&
            (function () {
              if (
                ((Oi.pendingReactions.length ||
                  Oi.inBatch ||
                  Oi.isRunningReactions) &&
                  mr(36),
                (Mi = !0),
                Ri)
              ) {
                var e = _r();
                0 == --e.__mobxInstanceCount && (e.__mobxGlobals = void 0),
                  (Oi = new xi());
              }
            })();
          var t,
            r,
            n = e.useProxies,
            i = e.enforceActions;
          if (
            (void 0 !== n &&
              (Oi.useProxies =
                n === uo || ("never" !== n && "undefined" != typeof Proxy)),
            "ifavailable" === n && (Oi.verifyProxies = !0),
            void 0 !== i)
          ) {
            var o = i === uo ? uo : "observed" === i;
            (Oi.enforceActions = o),
              (Oi.allowStateChanges = !0 !== o && o !== uo);
          }
          [
            "computedRequiresReaction",
            "reactionRequiresObservable",
            "observableRequiresReaction",
            "disableErrorBoundaries",
            "safeDescriptors",
          ].forEach(function (t) {
            t in e && (Oi[t] = !!e[t]);
          }),
            (Oi.allowStateReads = !Oi.observableRequiresReaction),
            e.reactionScheduler &&
              ((t = e.reactionScheduler),
              (r = Fi),
              (Fi = function (e) {
                return t(function () {
                  return r(e);
                });
              }));
        }
        function co(e, t, r, n) {
          var i = Gr(t);
          return (
            Is(function () {
              var t = is(e, n)[on];
              $r(i).forEach(function (e) {
                t.extend_(e, i[e], !r || !(e in r) || r[e]);
              });
            }),
            e
          );
        }
        var po = 0;
        function fo() {
          this.message = "FLOW_CANCELLED";
        }
        fo.prototype = Object.create(Error.prototype);
        var ho = bn("flow"),
          go = bn("flow.bound", { bound: !0 }),
          vo = Object.assign(function (e, t) {
            if (nn(t)) return ho.decorate_20223_(e, t);
            if (Nr(t)) return rn(e, t, ho);
            var r = e,
              n = r.name || "<unnamed flow>",
              i = function () {
                var e,
                  t = arguments,
                  i = ++po,
                  o = Zi(n + " - runid: " + i + " - init", r).apply(this, t),
                  s = void 0,
                  a = new Promise(function (t, r) {
                    var a = 0;
                    function u(e) {
                      var t;
                      s = void 0;
                      try {
                        t = Zi(
                          n + " - runid: " + i + " - yield " + a++,
                          o.next
                        ).call(o, e);
                      } catch (e) {
                        return r(e);
                      }
                      c(t);
                    }
                    function l(e) {
                      var t;
                      s = void 0;
                      try {
                        t = Zi(
                          n + " - runid: " + i + " - yield " + a++,
                          o.throw
                        ).call(o, e);
                      } catch (e) {
                        return r(e);
                      }
                      c(t);
                    }
                    function c(e) {
                      if (!Er(null == e ? void 0 : e.then))
                        return e.done
                          ? t(e.value)
                          : (s = Promise.resolve(e.value)).then(u, l);
                      e.then(c, r);
                    }
                    (e = r), u(void 0);
                  });
                return (
                  (a.cancel = Zi(
                    n + " - runid: " + i + " - cancel",
                    function () {
                      try {
                        s && mo(s);
                        var t = o.return(void 0),
                          r = Promise.resolve(t.value);
                        r.then(Or, Or), mo(r), e(new fo());
                      } catch (t) {
                        e(t);
                      }
                    }
                  )),
                  a
                );
              };
            return (i.isMobXFlow = !0), i;
          }, ho);
        function mo(e) {
          Er(e.cancel) && e.cancel();
        }
        function bo(e) {
          return !0 === (null == e ? void 0 : e.isMobXFlow);
        }
        function _o(e, t) {
          return (
            !!e &&
            (void 0 !== t
              ? !!as(e) && e[on].values_.has(t)
              : as(e) || !!e[on] || an(e) || Wi(e) || hi(e))
          );
        }
        function yo(e) {
          return _o(e);
        }
        function wo(e, t) {
          void 0 === t && (t = void 0), Ui();
          try {
            return e.apply(t);
          } finally {
            Ti();
          }
        }
        function Po(e) {
          return e[on];
        }
        vo.bound = tn(go);
        var So = {
          has: function (e, t) {
            return Po(e).has_(t);
          },
          get: function (e, t) {
            return Po(e).get_(t);
          },
          set: function (e, t, r) {
            var n;
            return !!Nr(t) && (null == (n = Po(e).set_(t, r, !0)) || n);
          },
          deleteProperty: function (e, t) {
            var r;
            return !!Nr(t) && (null == (r = Po(e).delete_(t, !0)) || r);
          },
          defineProperty: function (e, t, r) {
            var n;
            return null == (n = Po(e).defineProperty_(t, r)) || n;
          },
          ownKeys: function (e) {
            return Po(e).ownKeys_();
          },
          preventExtensions: function (e) {
            mr(13);
          },
        };
        function Io(e) {
          return void 0 !== e.interceptors_ && e.interceptors_.length > 0;
        }
        function Ao(e, t) {
          var r = e.interceptors_ || (e.interceptors_ = []);
          return (
            r.push(t),
            Mr(function () {
              var e = r.indexOf(t);
              -1 !== e && r.splice(e, 1);
            })
          );
        }
        function Co(e, t) {
          var r = Pi();
          try {
            for (
              var n = [].concat(e.interceptors_ || []), i = 0, o = n.length;
              i < o && ((t = n[i](t)) && !t.type && mr(14), t);
              i++
            );
            return t;
          } finally {
            Si(r);
          }
        }
        function xo(e) {
          return void 0 !== e.changeListeners_ && e.changeListeners_.length > 0;
        }
        function Ro(e, t) {
          var r = e.changeListeners_ || (e.changeListeners_ = []);
          return (
            r.push(t),
            Mr(function () {
              var e = r.indexOf(t);
              -1 !== e && r.splice(e, 1);
            })
          );
        }
        function Mo(e, t) {
          var r = Pi(),
            n = e.changeListeners_;
          if (n) {
            for (var i = 0, o = (n = n.slice()).length; i < o; i++) n[i](t);
            Si(r);
          }
        }
        function Oo(e, t, r) {
          return (
            Is(function () {
              var n = is(e, r)[on];
              null != t ||
                (t = (function (e) {
                  return Kr(e, en) || Lr(e, en, qr({}, e[en])), e[en];
                })(e)),
                $r(t).forEach(function (e) {
                  return n.make_(e, t[e]);
                });
            }),
            e
          );
        }
        var Eo = "splice",
          No = "update",
          Do = {
            get: function (e, t) {
              var r = e[on];
              return t === on
                ? r
                : "length" === t
                ? r.getArrayLength_()
                : "string" != typeof t || isNaN(t)
                ? Kr(Lo, t)
                  ? Lo[t]
                  : e[t]
                : r.get_(parseInt(t));
            },
            set: function (e, t, r) {
              var n = e[on];
              return (
                "length" === t && n.setArrayLength_(r),
                "symbol" == typeof t || isNaN(t)
                  ? (e[t] = r)
                  : n.set_(parseInt(t), r),
                !0
              );
            },
            preventExtensions: function () {
              mr(15);
            },
          },
          Uo = (function () {
            function e(e, t, r, n) {
              void 0 === e && (e = "ObservableArray"),
                (this.owned_ = void 0),
                (this.legacyMode_ = void 0),
                (this.atom_ = void 0),
                (this.values_ = []),
                (this.interceptors_ = void 0),
                (this.changeListeners_ = void 0),
                (this.enhancer_ = void 0),
                (this.dehancer = void 0),
                (this.proxy_ = void 0),
                (this.lastKnownLength_ = 0),
                (this.owned_ = r),
                (this.legacyMode_ = n),
                (this.atom_ = new sn(e)),
                (this.enhancer_ = function (e, r) {
                  return t(e, r, "ObservableArray[..]");
                });
            }
            var t = e.prototype;
            return (
              (t.dehanceValue_ = function (e) {
                return void 0 !== this.dehancer ? this.dehancer(e) : e;
              }),
              (t.dehanceValues_ = function (e) {
                return void 0 !== this.dehancer && e.length > 0
                  ? e.map(this.dehancer)
                  : e;
              }),
              (t.intercept_ = function (e) {
                return Ao(this, e);
              }),
              (t.observe_ = function (e, t) {
                return (
                  void 0 === t && (t = !1),
                  t &&
                    e({
                      observableKind: "array",
                      object: this.proxy_,
                      debugObjectName: this.atom_.name_,
                      type: "splice",
                      index: 0,
                      added: this.values_.slice(),
                      addedCount: this.values_.length,
                      removed: [],
                      removedCount: 0,
                    }),
                  Ro(this, e)
                );
              }),
              (t.getArrayLength_ = function () {
                return this.atom_.reportObserved(), this.values_.length;
              }),
              (t.setArrayLength_ = function (e) {
                ("number" != typeof e || isNaN(e) || e < 0) &&
                  mr("Out of range: " + e);
                var t = this.values_.length;
                if (e !== t)
                  if (e > t) {
                    for (var r = new Array(e - t), n = 0; n < e - t; n++)
                      r[n] = void 0;
                    this.spliceWithArray_(t, 0, r);
                  } else this.spliceWithArray_(e, t - e);
              }),
              (t.updateArrayLength_ = function (e, t) {
                e !== this.lastKnownLength_ && mr(16),
                  (this.lastKnownLength_ += t),
                  this.legacyMode_ && t > 0 && _s(e + t + 1);
              }),
              (t.spliceWithArray_ = function (e, t, r) {
                var n = this;
                this.atom_;
                var i = this.values_.length;
                if (
                  (void 0 === e
                    ? (e = 0)
                    : e > i
                    ? (e = i)
                    : e < 0 && (e = Math.max(0, i + e)),
                  (t =
                    1 === arguments.length
                      ? i - e
                      : null == t
                      ? 0
                      : Math.max(0, Math.min(t, i - e))),
                  void 0 === r && (r = Ir),
                  Io(this))
                ) {
                  var o = Co(this, {
                    object: this.proxy_,
                    type: Eo,
                    index: e,
                    removedCount: t,
                    added: r,
                  });
                  if (!o) return Ir;
                  (t = o.removedCount), (r = o.added);
                }
                if (
                  ((r =
                    0 === r.length
                      ? r
                      : r.map(function (e) {
                          return n.enhancer_(e, void 0);
                        })),
                  this.legacyMode_)
                ) {
                  var s = r.length - t;
                  this.updateArrayLength_(i, s);
                }
                var a = this.spliceItemsIntoValues_(e, t, r);
                return (
                  (0 === t && 0 === r.length) ||
                    this.notifyArraySplice_(e, r, a),
                  this.dehanceValues_(a)
                );
              }),
              (t.spliceItemsIntoValues_ = function (e, t, r) {
                var n;
                if (r.length < 1e4)
                  return (n = this.values_).splice.apply(n, [e, t].concat(r));
                var i = this.values_.slice(e, e + t),
                  o = this.values_.slice(e + t);
                this.values_.length += r.length - t;
                for (var s = 0; s < r.length; s++) this.values_[e + s] = r[s];
                for (var a = 0; a < o.length; a++)
                  this.values_[e + r.length + a] = o[a];
                return i;
              }),
              (t.notifyArrayChildUpdate_ = function (e, t, r) {
                var n = !this.owned_ && !1,
                  i = xo(this),
                  o =
                    i || n
                      ? {
                          observableKind: "array",
                          object: this.proxy_,
                          type: No,
                          debugObjectName: this.atom_.name_,
                          index: e,
                          newValue: t,
                          oldValue: r,
                        }
                      : null;
                this.atom_.reportChanged(), i && Mo(this, o);
              }),
              (t.notifyArraySplice_ = function (e, t, r) {
                var n = !this.owned_ && !1,
                  i = xo(this),
                  o =
                    i || n
                      ? {
                          observableKind: "array",
                          object: this.proxy_,
                          debugObjectName: this.atom_.name_,
                          type: Eo,
                          index: e,
                          removed: r,
                          added: t,
                          removedCount: r.length,
                          addedCount: t.length,
                        }
                      : null;
                this.atom_.reportChanged(), i && Mo(this, o);
              }),
              (t.get_ = function (e) {
                if (!(this.legacyMode_ && e >= this.values_.length))
                  return (
                    this.atom_.reportObserved(),
                    this.dehanceValue_(this.values_[e])
                  );
                console.warn("[mobx] Out of bounds read: " + e);
              }),
              (t.set_ = function (e, t) {
                var r = this.values_;
                if (
                  (this.legacyMode_ && e > r.length && mr(17, e, r.length),
                  e < r.length)
                ) {
                  this.atom_;
                  var n = r[e];
                  if (Io(this)) {
                    var i = Co(this, {
                      type: No,
                      object: this.proxy_,
                      index: e,
                      newValue: t,
                    });
                    if (!i) return;
                    t = i.newValue;
                  }
                  (t = this.enhancer_(t, n)) !== n &&
                    ((r[e] = t), this.notifyArrayChildUpdate_(e, t, n));
                } else {
                  for (
                    var o = new Array(e + 1 - r.length), s = 0;
                    s < o.length - 1;
                    s++
                  )
                    o[s] = void 0;
                  (o[o.length - 1] = t), this.spliceWithArray_(r.length, 0, o);
                }
              }),
              e
            );
          })();
        function To(e, t, r, n) {
          return (
            void 0 === r && (r = "ObservableArray"),
            void 0 === n && (n = !1),
            Rr(),
            Is(function () {
              var i = new Uo(r, t, n, !1);
              kr(i.values_, on, i);
              var o = new Proxy(i.values_, Do);
              return (
                (i.proxy_ = o), e && e.length && i.spliceWithArray_(0, 0, e), o
              );
            })
          );
        }
        var Lo = {
          clear: function () {
            return this.splice(0);
          },
          replace: function (e) {
            var t = this[on];
            return t.spliceWithArray_(0, t.values_.length, e);
          },
          toJSON: function () {
            return this.slice();
          },
          splice: function (e, t) {
            for (
              var r = arguments.length, n = new Array(r > 2 ? r - 2 : 0), i = 2;
              i < r;
              i++
            )
              n[i - 2] = arguments[i];
            var o = this[on];
            switch (arguments.length) {
              case 0:
                return [];
              case 1:
                return o.spliceWithArray_(e);
              case 2:
                return o.spliceWithArray_(e, t);
            }
            return o.spliceWithArray_(e, t, n);
          },
          spliceWithArray: function (e, t, r) {
            return this[on].spliceWithArray_(e, t, r);
          },
          push: function () {
            for (
              var e = this[on], t = arguments.length, r = new Array(t), n = 0;
              n < t;
              n++
            )
              r[n] = arguments[n];
            return e.spliceWithArray_(e.values_.length, 0, r), e.values_.length;
          },
          pop: function () {
            return this.splice(Math.max(this[on].values_.length - 1, 0), 1)[0];
          },
          shift: function () {
            return this.splice(0, 1)[0];
          },
          unshift: function () {
            for (
              var e = this[on], t = arguments.length, r = new Array(t), n = 0;
              n < t;
              n++
            )
              r[n] = arguments[n];
            return e.spliceWithArray_(0, 0, r), e.values_.length;
          },
          reverse: function () {
            return (
              Oi.trackingDerivation && mr(37, "reverse"),
              this.replace(this.slice().reverse()),
              this
            );
          },
          sort: function () {
            Oi.trackingDerivation && mr(37, "sort");
            var e = this.slice();
            return e.sort.apply(e, arguments), this.replace(e), this;
          },
          remove: function (e) {
            var t = this[on],
              r = t.dehanceValues_(t.values_).indexOf(e);
            return r > -1 && (this.splice(r, 1), !0);
          },
        };
        function ko(e, t) {
          "function" == typeof Array.prototype[e] && (Lo[e] = t(e));
        }
        function jo(e) {
          return function () {
            var t = this[on];
            t.atom_.reportObserved();
            var r = t.dehanceValues_(t.values_);
            return r[e].apply(r, arguments);
          };
        }
        function Bo(e) {
          return function (t, r) {
            var n = this,
              i = this[on];
            return (
              i.atom_.reportObserved(),
              i.dehanceValues_(i.values_)[e](function (e, i) {
                return t.call(r, e, i, n);
              })
            );
          };
        }
        function Fo(e) {
          return function () {
            var t = this,
              r = this[on];
            r.atom_.reportObserved();
            var n = r.dehanceValues_(r.values_),
              i = arguments[0];
            return (
              (arguments[0] = function (e, r, n) {
                return i(e, r, n, t);
              }),
              n[e].apply(n, arguments)
            );
          };
        }
        ko("at", jo),
          ko("concat", jo),
          ko("flat", jo),
          ko("includes", jo),
          ko("indexOf", jo),
          ko("join", jo),
          ko("lastIndexOf", jo),
          ko("slice", jo),
          ko("toString", jo),
          ko("toLocaleString", jo),
          ko("toSorted", jo),
          ko("toSpliced", jo),
          ko("with", jo),
          ko("every", Bo),
          ko("filter", Bo),
          ko("find", Bo),
          ko("findIndex", Bo),
          ko("findLast", Bo),
          ko("findLastIndex", Bo),
          ko("flatMap", Bo),
          ko("forEach", Bo),
          ko("map", Bo),
          ko("some", Bo),
          ko("toReversed", Bo),
          ko("reduce", Fo),
          ko("reduceRight", Fo);
        var Vo,
          $o,
          Wo = jr("ObservableArrayAdministration", Uo);
        function Ko(e) {
          return Dr(e) && Wo(e[on]);
        }
        var Go = {},
          Jo = "add",
          Ho = "delete";
        (Vo = Symbol.iterator), ($o = Symbol.toStringTag);
        var qo,
          zo,
          Xo = (function () {
            function e(e, t, r) {
              var n = this;
              void 0 === t && (t = cn),
                void 0 === r && (r = "ObservableMap"),
                (this.enhancer_ = void 0),
                (this.name_ = void 0),
                (this[on] = Go),
                (this.data_ = void 0),
                (this.hasMap_ = void 0),
                (this.keysAtom_ = void 0),
                (this.interceptors_ = void 0),
                (this.changeListeners_ = void 0),
                (this.dehancer = void 0),
                (this.enhancer_ = t),
                (this.name_ = r),
                Er(Map) || mr(18),
                Is(function () {
                  (n.keysAtom_ = un("ObservableMap.keys()")),
                    (n.data_ = new Map()),
                    (n.hasMap_ = new Map()),
                    e && n.merge(e);
                });
            }
            var t = e.prototype;
            return (
              (t.has_ = function (e) {
                return this.data_.has(e);
              }),
              (t.has = function (e) {
                var t = this;
                if (!Oi.trackingDerivation) return this.has_(e);
                var r = this.hasMap_.get(e);
                if (!r) {
                  var n = (r = new ci(
                    this.has_(e),
                    dn,
                    "ObservableMap.key?",
                    !1
                  ));
                  this.hasMap_.set(e, n),
                    so(n, function () {
                      return t.hasMap_.delete(e);
                    });
                }
                return r.get();
              }),
              (t.set = function (e, t) {
                var r = this.has_(e);
                if (Io(this)) {
                  var n = Co(this, {
                    type: r ? No : Jo,
                    object: this,
                    newValue: t,
                    name: e,
                  });
                  if (!n) return this;
                  t = n.newValue;
                }
                return r ? this.updateValue_(e, t) : this.addValue_(e, t), this;
              }),
              (t.delete = function (e) {
                var t = this;
                if (
                  (this.keysAtom_, Io(this)) &&
                  !Co(this, { type: Ho, object: this, name: e })
                )
                  return !1;
                if (this.has_(e)) {
                  var r = xo(this),
                    n = r
                      ? {
                          observableKind: "map",
                          debugObjectName: this.name_,
                          type: Ho,
                          object: this,
                          oldValue: this.data_.get(e).value_,
                          name: e,
                        }
                      : null;
                  return (
                    wo(function () {
                      var r;
                      t.keysAtom_.reportChanged(),
                        null == (r = t.hasMap_.get(e)) || r.setNewValue_(!1),
                        t.data_.get(e).setNewValue_(void 0),
                        t.data_.delete(e);
                    }),
                    r && Mo(this, n),
                    !0
                  );
                }
                return !1;
              }),
              (t.updateValue_ = function (e, t) {
                var r = this.data_.get(e);
                if ((t = r.prepareNewValue_(t)) !== Oi.UNCHANGED) {
                  var n = xo(this),
                    i = n
                      ? {
                          observableKind: "map",
                          debugObjectName: this.name_,
                          type: No,
                          object: this,
                          oldValue: r.value_,
                          name: e,
                          newValue: t,
                        }
                      : null;
                  0, r.setNewValue_(t), n && Mo(this, i);
                }
              }),
              (t.addValue_ = function (e, t) {
                var r = this;
                this.keysAtom_,
                  wo(function () {
                    var n,
                      i = new ci(t, r.enhancer_, "ObservableMap.key", !1);
                    r.data_.set(e, i),
                      (t = i.value_),
                      null == (n = r.hasMap_.get(e)) || n.setNewValue_(!0),
                      r.keysAtom_.reportChanged();
                  });
                var n = xo(this),
                  i = n
                    ? {
                        observableKind: "map",
                        debugObjectName: this.name_,
                        type: Jo,
                        object: this,
                        name: e,
                        newValue: t,
                      }
                    : null;
                n && Mo(this, i);
              }),
              (t.get = function (e) {
                return this.has(e)
                  ? this.dehanceValue_(this.data_.get(e).get())
                  : this.dehanceValue_(void 0);
              }),
              (t.dehanceValue_ = function (e) {
                return void 0 !== this.dehancer ? this.dehancer(e) : e;
              }),
              (t.keys = function () {
                return this.keysAtom_.reportObserved(), this.data_.keys();
              }),
              (t.values = function () {
                var e = this,
                  t = this.keys();
                return Ms({
                  next: function () {
                    var r = t.next(),
                      n = r.done,
                      i = r.value;
                    return { done: n, value: n ? void 0 : e.get(i) };
                  },
                });
              }),
              (t.entries = function () {
                var e = this,
                  t = this.keys();
                return Ms({
                  next: function () {
                    var r = t.next(),
                      n = r.done,
                      i = r.value;
                    return { done: n, value: n ? void 0 : [i, e.get(i)] };
                  },
                });
              }),
              (t[Vo] = function () {
                return this.entries();
              }),
              (t.forEach = function (e, t) {
                for (var r, n = Qr(this); !(r = n()).done; ) {
                  var i = r.value,
                    o = i[0],
                    s = i[1];
                  e.call(t, s, o, this);
                }
              }),
              (t.merge = function (e) {
                var t = this;
                return (
                  Yo(e) && (e = new Map(e)),
                  wo(function () {
                    Ur(e)
                      ? (function (e) {
                          var t = Object.keys(e);
                          if (!Vr) return t;
                          var r = Object.getOwnPropertySymbols(e);
                          return r.length
                            ? [].concat(
                                t,
                                r.filter(function (t) {
                                  return Sr.propertyIsEnumerable.call(e, t);
                                })
                              )
                            : t;
                        })(e).forEach(function (r) {
                          return t.set(r, e[r]);
                        })
                      : Array.isArray(e)
                      ? e.forEach(function (e) {
                          var r = e[0],
                            n = e[1];
                          return t.set(r, n);
                        })
                      : Br(e)
                      ? (e.constructor !== Map && mr(19, e),
                        e.forEach(function (e, r) {
                          return t.set(r, e);
                        }))
                      : null != e && mr(20, e);
                  }),
                  this
                );
              }),
              (t.clear = function () {
                var e = this;
                wo(function () {
                  wi(function () {
                    for (var t, r = Qr(e.keys()); !(t = r()).done; ) {
                      var n = t.value;
                      e.delete(n);
                    }
                  });
                });
              }),
              (t.replace = function (e) {
                var t = this;
                return (
                  wo(function () {
                    for (
                      var r,
                        n = (function (e) {
                          if (Br(e) || Yo(e)) return e;
                          if (Array.isArray(e)) return new Map(e);
                          if (Ur(e)) {
                            var t = new Map();
                            for (var r in e) t.set(r, e[r]);
                            return t;
                          }
                          return mr(21, e);
                        })(e),
                        i = new Map(),
                        o = !1,
                        s = Qr(t.data_.keys());
                      !(r = s()).done;

                    ) {
                      var a = r.value;
                      if (!n.has(a))
                        if (t.delete(a)) o = !0;
                        else {
                          var u = t.data_.get(a);
                          i.set(a, u);
                        }
                    }
                    for (var l, c = Qr(n.entries()); !(l = c()).done; ) {
                      var d = l.value,
                        p = d[0],
                        f = d[1],
                        h = t.data_.has(p);
                      if ((t.set(p, f), t.data_.has(p))) {
                        var g = t.data_.get(p);
                        i.set(p, g), h || (o = !0);
                      }
                    }
                    if (!o)
                      if (t.data_.size !== i.size) t.keysAtom_.reportChanged();
                      else
                        for (
                          var v = t.data_.keys(),
                            m = i.keys(),
                            b = v.next(),
                            _ = m.next();
                          !b.done;

                        ) {
                          if (b.value !== _.value) {
                            t.keysAtom_.reportChanged();
                            break;
                          }
                          (b = v.next()), (_ = m.next());
                        }
                    t.data_ = i;
                  }),
                  this
                );
              }),
              (t.toString = function () {
                return "[object ObservableMap]";
              }),
              (t.toJSON = function () {
                return Array.from(this);
              }),
              (t.observe_ = function (e, t) {
                return Ro(this, e);
              }),
              (t.intercept_ = function (e) {
                return Ao(this, e);
              }),
              Hr(e, [
                {
                  key: "size",
                  get: function () {
                    return this.keysAtom_.reportObserved(), this.data_.size;
                  },
                },
                {
                  key: $o,
                  get: function () {
                    return "Map";
                  },
                },
              ]),
              e
            );
          })(),
          Yo = jr("ObservableMap", Xo);
        var Zo = {};
        (qo = Symbol.iterator), (zo = Symbol.toStringTag);
        var Qo = (function () {
            function e(e, t, r) {
              var n = this;
              void 0 === t && (t = cn),
                void 0 === r && (r = "ObservableSet"),
                (this.name_ = void 0),
                (this[on] = Zo),
                (this.data_ = new Set()),
                (this.atom_ = void 0),
                (this.changeListeners_ = void 0),
                (this.interceptors_ = void 0),
                (this.dehancer = void 0),
                (this.enhancer_ = void 0),
                (this.name_ = r),
                Er(Set) || mr(22),
                (this.enhancer_ = function (e, n) {
                  return t(e, n, r);
                }),
                Is(function () {
                  (n.atom_ = un(n.name_)), e && n.replace(e);
                });
            }
            var t = e.prototype;
            return (
              (t.dehanceValue_ = function (e) {
                return void 0 !== this.dehancer ? this.dehancer(e) : e;
              }),
              (t.clear = function () {
                var e = this;
                wo(function () {
                  wi(function () {
                    for (var t, r = Qr(e.data_.values()); !(t = r()).done; ) {
                      var n = t.value;
                      e.delete(n);
                    }
                  });
                });
              }),
              (t.forEach = function (e, t) {
                for (var r, n = Qr(this); !(r = n()).done; ) {
                  var i = r.value;
                  e.call(t, i, i, this);
                }
              }),
              (t.add = function (e) {
                var t = this;
                if (
                  (this.atom_, Io(this)) &&
                  !Co(this, { type: Jo, object: this, newValue: e })
                )
                  return this;
                if (!this.has(e)) {
                  wo(function () {
                    t.data_.add(t.enhancer_(e, void 0)),
                      t.atom_.reportChanged();
                  });
                  var r = !1,
                    n = xo(this),
                    i = n
                      ? {
                          observableKind: "set",
                          debugObjectName: this.name_,
                          type: Jo,
                          object: this,
                          newValue: e,
                        }
                      : null;
                  r, n && Mo(this, i);
                }
                return this;
              }),
              (t.delete = function (e) {
                var t = this;
                if (
                  Io(this) &&
                  !Co(this, { type: Ho, object: this, oldValue: e })
                )
                  return !1;
                if (this.has(e)) {
                  var r = xo(this),
                    n = r
                      ? {
                          observableKind: "set",
                          debugObjectName: this.name_,
                          type: Ho,
                          object: this,
                          oldValue: e,
                        }
                      : null;
                  return (
                    wo(function () {
                      t.atom_.reportChanged(), t.data_.delete(e);
                    }),
                    r && Mo(this, n),
                    !0
                  );
                }
                return !1;
              }),
              (t.has = function (e) {
                return (
                  this.atom_.reportObserved(),
                  this.data_.has(this.dehanceValue_(e))
                );
              }),
              (t.entries = function () {
                var e = 0,
                  t = Array.from(this.keys()),
                  r = Array.from(this.values());
                return Ms({
                  next: function () {
                    var n = e;
                    return (
                      (e += 1),
                      n < r.length
                        ? { value: [t[n], r[n]], done: !1 }
                        : { done: !0 }
                    );
                  },
                });
              }),
              (t.keys = function () {
                return this.values();
              }),
              (t.values = function () {
                this.atom_.reportObserved();
                var e = this,
                  t = 0,
                  r = Array.from(this.data_.values());
                return Ms({
                  next: function () {
                    return t < r.length
                      ? { value: e.dehanceValue_(r[t++]), done: !1 }
                      : { done: !0 };
                  },
                });
              }),
              (t.replace = function (e) {
                var t = this;
                return (
                  es(e) && (e = new Set(e)),
                  wo(function () {
                    Array.isArray(e) || Fr(e)
                      ? (t.clear(),
                        e.forEach(function (e) {
                          return t.add(e);
                        }))
                      : null != e && mr("Cannot initialize set from " + e);
                  }),
                  this
                );
              }),
              (t.observe_ = function (e, t) {
                return Ro(this, e);
              }),
              (t.intercept_ = function (e) {
                return Ao(this, e);
              }),
              (t.toJSON = function () {
                return Array.from(this);
              }),
              (t.toString = function () {
                return "[object ObservableSet]";
              }),
              (t[qo] = function () {
                return this.values();
              }),
              Hr(e, [
                {
                  key: "size",
                  get: function () {
                    return this.atom_.reportObserved(), this.data_.size;
                  },
                },
                {
                  key: zo,
                  get: function () {
                    return "Set";
                  },
                },
              ]),
              e
            );
          })(),
          es = jr("ObservableSet", Qo),
          ts = Object.create(null),
          rs = "remove",
          ns = (function () {
            function e(e, t, r, n) {
              void 0 === t && (t = new Map()),
                void 0 === n && (n = Nn),
                (this.target_ = void 0),
                (this.values_ = void 0),
                (this.name_ = void 0),
                (this.defaultAnnotation_ = void 0),
                (this.keysAtom_ = void 0),
                (this.changeListeners_ = void 0),
                (this.interceptors_ = void 0),
                (this.proxy_ = void 0),
                (this.isPlainObject_ = void 0),
                (this.appliedAnnotations_ = void 0),
                (this.pendingKeys_ = void 0),
                (this.target_ = e),
                (this.values_ = t),
                (this.name_ = r),
                (this.defaultAnnotation_ = n),
                (this.keysAtom_ = new sn("ObservableObject.keys")),
                (this.isPlainObject_ = Ur(this.target_));
            }
            var t = e.prototype;
            return (
              (t.getObservablePropValue_ = function (e) {
                return this.values_.get(e).get();
              }),
              (t.setObservablePropValue_ = function (e, t) {
                var r = this.values_.get(e);
                if (r instanceof fi) return r.set(t), !0;
                if (Io(this)) {
                  var n = Co(this, {
                    type: No,
                    object: this.proxy_ || this.target_,
                    name: e,
                    newValue: t,
                  });
                  if (!n) return null;
                  t = n.newValue;
                }
                if ((t = r.prepareNewValue_(t)) !== Oi.UNCHANGED) {
                  var i = xo(this),
                    o = i
                      ? {
                          type: No,
                          observableKind: "object",
                          debugObjectName: this.name_,
                          object: this.proxy_ || this.target_,
                          oldValue: r.value_,
                          name: e,
                          newValue: t,
                        }
                      : null;
                  0, r.setNewValue_(t), i && Mo(this, o);
                }
                return !0;
              }),
              (t.get_ = function (e) {
                return (
                  Oi.trackingDerivation && !Kr(this.target_, e) && this.has_(e),
                  this.target_[e]
                );
              }),
              (t.set_ = function (e, t, r) {
                return (
                  void 0 === r && (r = !1),
                  Kr(this.target_, e)
                    ? this.values_.has(e)
                      ? this.setObservablePropValue_(e, t)
                      : r
                      ? Reflect.set(this.target_, e, t)
                      : ((this.target_[e] = t), !0)
                    : this.extend_(
                        e,
                        {
                          value: t,
                          enumerable: !0,
                          writable: !0,
                          configurable: !0,
                        },
                        this.defaultAnnotation_,
                        r
                      )
                );
              }),
              (t.has_ = function (e) {
                if (!Oi.trackingDerivation) return e in this.target_;
                this.pendingKeys_ || (this.pendingKeys_ = new Map());
                var t = this.pendingKeys_.get(e);
                return (
                  t ||
                    ((t = new ci(
                      e in this.target_,
                      dn,
                      "ObservableObject.key?",
                      !1
                    )),
                    this.pendingKeys_.set(e, t)),
                  t.get()
                );
              }),
              (t.make_ = function (e, t) {
                if ((!0 === t && (t = this.defaultAnnotation_), !1 !== t)) {
                  if ((ls(this, t, e), !(e in this.target_))) {
                    var r;
                    if (null != (r = this.target_[en]) && r[e]) return;
                    mr(1, t.annotationType_, this.name_ + "." + e.toString());
                  }
                  for (var n = this.target_; n && n !== Sr; ) {
                    var i = wr(n, e);
                    if (i) {
                      var o = t.make_(this, e, i, n);
                      if (0 === o) return;
                      if (1 === o) break;
                    }
                    n = Object.getPrototypeOf(n);
                  }
                  us(this, t, e);
                }
              }),
              (t.extend_ = function (e, t, r, n) {
                if (
                  (void 0 === n && (n = !1),
                  !0 === r && (r = this.defaultAnnotation_),
                  !1 === r)
                )
                  return this.defineProperty_(e, t, n);
                ls(this, r, e);
                var i = r.extend_(this, e, t, n);
                return i && us(this, r, e), i;
              }),
              (t.defineProperty_ = function (e, t, r) {
                void 0 === r && (r = !1), this.keysAtom_;
                try {
                  Ui();
                  var n = this.delete_(e);
                  if (!n) return n;
                  if (Io(this)) {
                    var i = Co(this, {
                      object: this.proxy_ || this.target_,
                      name: e,
                      type: Jo,
                      newValue: t.value,
                    });
                    if (!i) return null;
                    var o = i.newValue;
                    t.value !== o && (t = qr({}, t, { value: o }));
                  }
                  if (r) {
                    if (!Reflect.defineProperty(this.target_, e, t)) return !1;
                  } else Pr(this.target_, e, t);
                  this.notifyPropertyAddition_(e, t.value);
                } finally {
                  Ti();
                }
                return !0;
              }),
              (t.defineObservableProperty_ = function (e, t, r, n) {
                void 0 === n && (n = !1), this.keysAtom_;
                try {
                  Ui();
                  var i = this.delete_(e);
                  if (!i) return i;
                  if (Io(this)) {
                    var o = Co(this, {
                      object: this.proxy_ || this.target_,
                      name: e,
                      type: Jo,
                      newValue: t,
                    });
                    if (!o) return null;
                    t = o.newValue;
                  }
                  var s = ss(e),
                    a = {
                      configurable: !Oi.safeDescriptors || this.isPlainObject_,
                      enumerable: !0,
                      get: s.get,
                      set: s.set,
                    };
                  if (n) {
                    if (!Reflect.defineProperty(this.target_, e, a)) return !1;
                  } else Pr(this.target_, e, a);
                  var u = new ci(t, r, "ObservableObject.key", !1);
                  this.values_.set(e, u),
                    this.notifyPropertyAddition_(e, u.value_);
                } finally {
                  Ti();
                }
                return !0;
              }),
              (t.defineComputedProperty_ = function (e, t, r) {
                void 0 === r && (r = !1), this.keysAtom_;
                try {
                  Ui();
                  var n = this.delete_(e);
                  if (!n) return n;
                  if (Io(this))
                    if (
                      !Co(this, {
                        object: this.proxy_ || this.target_,
                        name: e,
                        type: Jo,
                        newValue: void 0,
                      })
                    )
                      return null;
                  t.name || (t.name = "ObservableObject.key"),
                    (t.context = this.proxy_ || this.target_);
                  var i = ss(e),
                    o = {
                      configurable: !Oi.safeDescriptors || this.isPlainObject_,
                      enumerable: !1,
                      get: i.get,
                      set: i.set,
                    };
                  if (r) {
                    if (!Reflect.defineProperty(this.target_, e, o)) return !1;
                  } else Pr(this.target_, e, o);
                  this.values_.set(e, new fi(t)),
                    this.notifyPropertyAddition_(e, void 0);
                } finally {
                  Ti();
                }
                return !0;
              }),
              (t.delete_ = function (e, t) {
                if (
                  (void 0 === t && (t = !1),
                  this.keysAtom_,
                  !Kr(this.target_, e))
                )
                  return !0;
                if (
                  Io(this) &&
                  !Co(this, {
                    object: this.proxy_ || this.target_,
                    name: e,
                    type: rs,
                  })
                )
                  return null;
                try {
                  var r, n;
                  Ui();
                  var i,
                    o = xo(this),
                    s = this.values_.get(e),
                    a = void 0;
                  if (!s && o)
                    a = null == (i = wr(this.target_, e)) ? void 0 : i.value;
                  if (t) {
                    if (!Reflect.deleteProperty(this.target_, e)) return !1;
                  } else delete this.target_[e];
                  if (
                    (s &&
                      (this.values_.delete(e),
                      s instanceof ci && (a = s.value_),
                      ki(s)),
                    this.keysAtom_.reportChanged(),
                    null == (r = this.pendingKeys_) ||
                      null == (n = r.get(e)) ||
                      n.set(e in this.target_),
                    o)
                  ) {
                    var u = {
                      type: rs,
                      observableKind: "object",
                      object: this.proxy_ || this.target_,
                      debugObjectName: this.name_,
                      oldValue: a,
                      name: e,
                    };
                    0, o && Mo(this, u);
                  }
                } finally {
                  Ti();
                }
                return !0;
              }),
              (t.observe_ = function (e, t) {
                return Ro(this, e);
              }),
              (t.intercept_ = function (e) {
                return Ao(this, e);
              }),
              (t.notifyPropertyAddition_ = function (e, t) {
                var r,
                  n,
                  i = xo(this);
                if (i) {
                  var o = i
                    ? {
                        type: Jo,
                        observableKind: "object",
                        debugObjectName: this.name_,
                        object: this.proxy_ || this.target_,
                        name: e,
                        newValue: t,
                      }
                    : null;
                  0, i && Mo(this, o);
                }
                null == (r = this.pendingKeys_) ||
                  null == (n = r.get(e)) ||
                  n.set(!0),
                  this.keysAtom_.reportChanged();
              }),
              (t.ownKeys_ = function () {
                return this.keysAtom_.reportObserved(), $r(this.target_);
              }),
              (t.keys_ = function () {
                return (
                  this.keysAtom_.reportObserved(), Object.keys(this.target_)
                );
              }),
              e
            );
          })();
        function is(e, t) {
          var r;
          if (Kr(e, on)) return e;
          var n =
              null != (r = null == t ? void 0 : t.name)
                ? r
                : "ObservableObject",
            i = new ns(
              e,
              new Map(),
              String(n),
              (function (e) {
                var t;
                return e
                  ? null != (t = e.defaultDecorator)
                    ? t
                    : Dn(e)
                  : void 0;
              })(t)
            );
          return Lr(e, on, i), e;
        }
        var os = jr("ObservableObjectAdministration", ns);
        function ss(e) {
          return (
            ts[e] ||
            (ts[e] = {
              get: function () {
                return this[on].getObservablePropValue_(e);
              },
              set: function (t) {
                return this[on].setObservablePropValue_(e, t);
              },
            })
          );
        }
        function as(e) {
          return !!Dr(e) && os(e[on]);
        }
        function us(e, t, r) {
          var n;
          null == (n = e.target_[en]) || delete n[r];
        }
        function ls(e, t, r) {}
        var cs,
          ds,
          ps = ms(0),
          fs = (function () {
            var e = !1,
              t = {};
            return (
              Object.defineProperty(t, "0", {
                set: function () {
                  e = !0;
                },
              }),
              (Object.create(t)[0] = 1),
              !1 === e
            );
          })(),
          hs = 0,
          gs = function () {};
        (cs = gs),
          (ds = Array.prototype),
          Object.setPrototypeOf
            ? Object.setPrototypeOf(cs.prototype, ds)
            : void 0 !== cs.prototype.__proto__
            ? (cs.prototype.__proto__ = ds)
            : (cs.prototype = ds);
        var vs = (function (e, t, r) {
          function n(t, r, n, i) {
            var o;
            return (
              void 0 === n && (n = "ObservableArray"),
              void 0 === i && (i = !1),
              (o = e.call(this) || this),
              Is(function () {
                var e = new Uo(n, r, i, !0);
                (e.proxy_ = Yr(o)),
                  kr(Yr(o), on, e),
                  t && t.length && o.spliceWithArray(0, 0, t),
                  fs && Object.defineProperty(Yr(o), "0", ps);
              }),
              o
            );
          }
          zr(n, e);
          var i = n.prototype;
          return (
            (i.concat = function () {
              this[on].atom_.reportObserved();
              for (
                var e = arguments.length, t = new Array(e), r = 0;
                r < e;
                r++
              )
                t[r] = arguments[r];
              return Array.prototype.concat.apply(
                this.slice(),
                t.map(function (e) {
                  return Ko(e) ? e.slice() : e;
                })
              );
            }),
            (i[r] = function () {
              var e = this,
                t = 0;
              return Ms({
                next: function () {
                  return t < e.length
                    ? { value: e[t++], done: !1 }
                    : { done: !0, value: void 0 };
                },
              });
            }),
            Hr(n, [
              {
                key: "length",
                get: function () {
                  return this[on].getArrayLength_();
                },
                set: function (e) {
                  this[on].setArrayLength_(e);
                },
              },
              {
                key: t,
                get: function () {
                  return "Array";
                },
              },
            ]),
            n
          );
        })(gs, Symbol.toStringTag, Symbol.iterator);
        function ms(e) {
          return {
            enumerable: !1,
            configurable: !0,
            get: function () {
              return this[on].get_(e);
            },
            set: function (t) {
              this[on].set_(e, t);
            },
          };
        }
        function bs(e) {
          Pr(vs.prototype, "" + e, ms(e));
        }
        function _s(e) {
          if (e > hs) {
            for (var t = hs; t < e + 100; t++) bs(t);
            hs = e;
          }
        }
        function ys(e, t, r) {
          return new vs(e, t, r);
        }
        function ws(e, t) {
          if ("object" == typeof e && null !== e) {
            if (Ko(e)) return void 0 !== t && mr(23), e[on].atom_;
            if (es(e)) return e.atom_;
            if (Yo(e)) {
              if (void 0 === t) return e.keysAtom_;
              var r = e.data_.get(t) || e.hasMap_.get(t);
              return r || mr(25, t, Ss(e)), r;
            }
            if (as(e)) {
              if (!t) return mr(26);
              var n = e[on].values_.get(t);
              return n || mr(27, t, Ss(e)), n;
            }
            if (an(e) || hi(e) || Wi(e)) return e;
          } else if (Er(e) && Wi(e[on])) return e[on];
          mr(28);
        }
        function Ps(e, t) {
          return (
            e || mr(29),
            void 0 !== t
              ? Ps(ws(e, t))
              : an(e) || hi(e) || Wi(e) || Yo(e) || es(e)
              ? e
              : e[on]
              ? e[on]
              : void mr(24, e)
          );
        }
        function Ss(e, t) {
          var r;
          if (void 0 !== t) r = ws(e, t);
          else {
            if (eo(e)) return e.name;
            r = as(e) || Yo(e) || es(e) ? Ps(e) : ws(e);
          }
          return r.name_;
        }
        function Is(e) {
          var t = Pi(),
            r = ai(!0);
          Ui();
          try {
            return e();
          } finally {
            Ti(), ui(r), Si(t);
          }
        }
        Object.entries(Lo).forEach(function (e) {
          var t = e[0],
            r = e[1];
          "concat" !== t && Lr(vs.prototype, t, r);
        }),
          _s(1e3);
        var As = Sr.toString;
        function Cs(e, t, r) {
          return void 0 === r && (r = -1), xs(e, t, r);
        }
        function xs(e, t, r, n, i) {
          if (e === t) return 0 !== e || 1 / e == 1 / t;
          if (null == e || null == t) return !1;
          if (e != e) return t != t;
          var o = typeof e;
          if ("function" !== o && "object" !== o && "object" != typeof t)
            return !1;
          var s = As.call(e);
          if (s !== As.call(t)) return !1;
          switch (s) {
            case "[object RegExp]":
            case "[object String]":
              return "" + e == "" + t;
            case "[object Number]":
              return +e != +e ? +t != +t : 0 == +e ? 1 / +e == 1 / t : +e == +t;
            case "[object Date]":
            case "[object Boolean]":
              return +e == +t;
            case "[object Symbol]":
              return (
                "undefined" != typeof Symbol &&
                Symbol.valueOf.call(e) === Symbol.valueOf.call(t)
              );
            case "[object Map]":
            case "[object Set]":
              r >= 0 && r++;
          }
          (e = Rs(e)), (t = Rs(t));
          var a = "[object Array]" === s;
          if (!a) {
            if ("object" != typeof e || "object" != typeof t) return !1;
            var u = e.constructor,
              l = t.constructor;
            if (
              u !== l &&
              !(Er(u) && u instanceof u && Er(l) && l instanceof l) &&
              "constructor" in e &&
              "constructor" in t
            )
              return !1;
          }
          if (0 === r) return !1;
          r < 0 && (r = -1), (i = i || []);
          for (var c = (n = n || []).length; c--; )
            if (n[c] === e) return i[c] === t;
          if ((n.push(e), i.push(t), a)) {
            if ((c = e.length) !== t.length) return !1;
            for (; c--; ) if (!xs(e[c], t[c], r - 1, n, i)) return !1;
          } else {
            var d,
              p = Object.keys(e);
            if (((c = p.length), Object.keys(t).length !== c)) return !1;
            for (; c--; )
              if (!Kr(t, (d = p[c])) || !xs(e[d], t[d], r - 1, n, i)) return !1;
          }
          return n.pop(), i.pop(), !0;
        }
        function Rs(e) {
          return Ko(e)
            ? e.slice()
            : Br(e) || Yo(e) || Fr(e) || es(e)
            ? Array.from(e.entries())
            : e;
        }
        function Ms(e) {
          return (e[Symbol.iterator] = Os), e;
        }
        function Os() {
          return this;
        }
        ["Symbol", "Map", "Set"].forEach(function (e) {
          void 0 === _r()[e] &&
            mr(
              "MobX requires global '" + e + "' to be available or polyfilled"
            );
        }),
          "object" == typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__ &&
            __MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({
              spy: function (e) {
                return (
                  console.warn("[mobx.spy] Is a no-op in production builds"),
                  function () {}
                );
              },
              extras: { getDebugName: Ss },
              $mobx: on,
            });
        const Es = (e) => e(Oe);
        class Ns {
          constructor(e, t, r) {
            (this.$w = e),
              (this.stateService = t),
              (this.experiments = r),
              Wt()(this, "menuItems", void 0),
              Wt()(this, "menuContext", void 0),
              (this.menuItems = ((e) => Es(e).menuItems)(this.$w)),
              Oo(this, { menuItems: qn });
          }
          setNotificationsCount() {
            var e;
            if (!this.experiments.enabled(me.EnableNotifications)) return;
            const t =
                null == (e = this.stateService.notificationsCounter) ||
                null == (e = e.counters)
                  ? void 0
                  : e.find((e) => "notificationsCount" === e.key),
              r = null == t ? void 0 : t.count;
            this.$w(Oe).forEach((e) => {
              var t;
              null != (t = e.navBarItems) &&
                t.length &&
                (e.navBarItems = [{ ...e.navBarItems[0], displayCount: r }]);
            });
          }
          bindMenuItems() {
            this.$w(Oe).menuItems = this.menuItems;
          }
          filterMenuItemsVisibleForRoles() {
            const { routes: e } = this.menuContext,
              { currentUserRoles: t } = this.menuContext;
            this.menuItems = this.menuItems.filter((r) => {
              var n;
              const i = ((e, t) =>
                e.find((e) => {
                  var r;
                  return null == (r = t.link) ? void 0 : r.includes(e.path);
                }))(e, r);
              return (
                null == i ||
                null == (n = i.vfr) ||
                !n.length ||
                ((e, t) => !t.length || e.some((e) => t.includes(e)))(t, i.vfr)
              );
            });
          }
        }
        const Ds = ["{userName}", "my"];
        class Us extends Ns {
          constructor(e, t, r) {
            super(e, t, r), Oo(this, { initializeMenuItems: Zi });
          }
          initializeMenuItems(e) {
            if (
              ((this.menuContext = e),
              this.menuContext.cacheService.hasLoginMenuItems())
            )
              return (
                (this.menuItems =
                  this.menuContext.cacheService.getLoginMenuItems()),
                void this.bindMenuItems()
              );
            this.filterMenuItemsVisibleForRoles(),
              this.fillMenuItemsWithSlugs(),
              this.setNotificationsCount(),
              this.menuContext.cacheService.setLoginMenuItems(this.menuItems),
              this.bindMenuItems();
          }
          fillMenuItemsWithSlugs() {
            var e;
            const { currentUser: t } = this.menuContext,
              r =
                (null == t || null == (e = t.profile) ? void 0 : e.slug) ??
                (null == t ? void 0 : t.id);
            r &&
              (this.menuItems = this.menuItems.map((e) =>
                this.updateMenuItemWithMemberSlug(e, r)
              ));
          }
          updateMenuItemWithMemberSlug(e, t) {
            const r = this.getSlugPlaceholderFromMenuItem(e);
            return this.isValidSlugPlaceholder(r)
              ? this.replaceLinkInMenuItem(e, t)
              : e;
          }
          isValidSlugPlaceholder(e) {
            return Ds.includes(e);
          }
          replaceLinkInMenuItem(e, t) {
            const r = this.getMemberPageRelativePathItemsFromMenuItem(e);
            if (!r.length) return e;
            const n = e.link.replace(
              r.join("/"),
              this.getMemberPageRelativePathWithMemberSlug(r, t)
            );
            return { ...e, link: n };
          }
          getMemberPageRelativePathWithMemberSlug(e, t) {
            return e.map((e, r) => (1 === r ? t : e)).join("/");
          }
          getSlugPlaceholderFromMenuItem(e) {
            return this.getMemberPageRelativePathItemsFromMenuItem(e)[1] ?? "";
          }
          getMemberPageRelativePathItemsFromMenuItem(e) {
            const { membersAreaPagePrefix: t } = this.menuContext,
              r = e.link.indexOf(t);
            return e.link.slice(r).split("/");
          }
        }
        class Ts {
          constructor(e, t) {
            (this.contextProps = e),
              (this.contextServices = t),
              Wt()(this, "routes", []),
              Wt()(this, "currentUser", null),
              Wt()(this, "currentUserRoles", []),
              Wt()(this, "notificationsCounter", null),
              (this.contextProps = e),
              (this.contextServices = t),
              Oo(this, {
                routes: qn,
                currentUser: qn,
                currentUserRoles: qn,
                notificationsCounter: qn,
                fetchCurrentUser: Zi,
                fetchCurrentUserRoles: Zi,
                fetchRouteConfigurations: Zi,
                fetchNotificationsCounters: Zi,
              });
          }
          async fetchCurrentUser() {
            const { cacheService: e, currentUserService: t } =
              this.contextServices;
            e.hasCurrentUser()
              ? (this.currentUser = e.getCurrentUser())
              : ((this.currentUser = await t.getCurrentUser()),
                e.setCurrentUser(this.currentUser));
          }
          async fetchCurrentUserRoles() {
            var e;
            const { cacheService: t, rolesService: r } = this.contextServices;
            t.hasRoles()
              ? (this.currentUserRoles = t.getRoles())
              : ((this.currentUserRoles = await r.getMemberRoles(
                  (null == (e = this.currentUser) ? void 0 : e.id) ?? null
                )),
                t.setRoles(this.currentUserRoles));
          }
          async fetchRouteConfigurations() {
            var e, t;
            const { experiments: r } = this.contextProps.flowAPI,
              { cacheService: n } = this.contextServices;
            if (n.hasRoutes()) return void (this.routes = n.getRoutes());
            const i = Mt.getGlobalControllerConfig(),
              o = r.enabled(me.EnablePublicAppData),
              s = null == i ? void 0 : i.appParams,
              a = null == i || null == (e = i.config) ? void 0 : e.routes,
              u = o
                ? null == s || null == (t = s.publicData) || null == (t = t.APP)
                  ? void 0
                  : t.routes
                : void 0;
            (this.routes = u ?? a ?? []), n.setRoutes(this.routes);
          }
          async fetchNotificationsCounters() {
            var e, t;
            const { controllerConfig: r, experiments: n } =
              this.contextProps.flowAPI;
            if (!n.enabled(me.EnableNotifications)) return;
            const i = await It({
              memberId: null == (e = this.currentUser) ? void 0 : e.contactId,
              metaSiteId:
                null == (t = r.platformAPIs.bi) ? void 0 : t.metaSiteId,
              flowAPI: this.contextProps.flowAPI,
              wixCodeApi: this.contextProps.wixCodeApi,
            });
            this.notificationsCounter = i;
          }
        }
        class Ls extends Ts {
          constructor(e, t) {
            super(e, t),
              Wt()(this, "membersAreaPagePrefix", ""),
              Oo(this, {
                membersAreaPagePrefix: qn,
                fetchMembersAreaPagePrefix: Zi,
                fetchInitialData: Zi,
              });
          }
          async fetchMembersAreaPagePrefix() {
            const { pageService: e } = this.contextServices,
              t = await e.getMembersAreaPagePrefix();
            this.membersAreaPagePrefix = t.replace("/", "");
          }
          async fetchInitialData() {
            const { isSSR: e } = this.contextProps.flowAPI.environment;
            if (e) {
              await this.fetchDataWrapper();
              const {
                currentUser: e,
                currentUserRoles: t,
                routes: r,
                membersAreaPagePrefix: n,
                notificationsCounter: i,
              } = this;
              return this.contextServices.warmupDataService.setData(
                Ie,
                JSON.stringify({
                  currentUser: e,
                  currentUserRoles: t,
                  routes: r,
                  membersAreaPagePrefix: n,
                  notificationsCounter: i,
                })
              );
            }
            const t = this.contextServices.warmupDataService.getData(Ie),
              r = t ? JSON.parse(t) : null;
            return r
              ? ((this.currentUser = r.currentUser),
                (this.currentUserRoles = r.currentUserRoles),
                (this.routes = r.routes),
                (this.membersAreaPagePrefix = r.membersAreaPagePrefix),
                void (this.notificationsCounter = r.notificationsCounter))
              : this.fetchDataWrapper();
          }
          async fetchDataWrapper() {
            await this.fetchCurrentUser(),
              await Promise.all([
                this.fetchRouteConfigurations(),
                this.fetchCurrentUserRoles(),
                this.fetchMembersAreaPagePrefix(),
                this.fetchNotificationsCounters(),
              ]);
          }
        }
        class ks {
          constructor(e) {
            this.siteAPI = e;
          }
          async getMembersAreaPagePrefix() {
            const { prefixes: e } = await this.siteAPI.getSiteStructure(),
              t = e.find((e) => {
                let { applicationId: t } = e;
                return t === be.rH;
              });
            if (!t)
              throw new Error(
                "Error: missing members area page - failed to find prefix"
              );
            return t.prefix;
          }
        }
        var js,
          Bs,
          Fs,
          Vs,
          $s,
          Ws,
          Ks,
          Gs,
          Js,
          Hs = {},
          qs = { member: "_member" },
          zs = {
            createdDate: "google.protobuf.Timestamp",
            updatedDate: "google.protobuf.Timestamp",
            lastLoginDate: "google.protobuf.Timestamp",
          };
        function Xs(e) {
          return Fe(
            Object.assign(e, {
              domainToMappings: {
                "www.wixapis.com": [
                  { srcPath: "/members/v1/members", destPath: "/v1/members" },
                ],
                "api._api_base_domain_": [
                  { srcPath: "/members-ng-api", destPath: "" },
                ],
                "www._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "manage._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "editor._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "blocks._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "create.editorx": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "editor.wixapps.net": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "*.dev.wix-code.com": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "bo._base_domain_": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "wixbo.ai": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                _: [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
                "members.wixapps.net": [
                  {
                    srcPath: "/_api/members/v1/members",
                    destPath: "/v1/members",
                  },
                ],
              },
            })
          );
        }
        !(function (e) {
          (e.UNKNOWN = "UNKNOWN"),
            (e.PENDING = "PENDING"),
            (e.APPROVED = "APPROVED"),
            (e.BLOCKED = "BLOCKED"),
            (e.OFFLINE = "OFFLINE");
        })(js || (js = {})),
          (function (e) {
            (e.UNKNOWN = "UNKNOWN"),
              (e.PRIVATE = "PRIVATE"),
              (e.PUBLIC = "PUBLIC");
          })(Bs || (Bs = {})),
          (function (e) {
            (e.UNKNOWN = "UNKNOWN"), (e.ACTIVE = "ACTIVE"), (e.MUTED = "MUTED");
          })(Fs || (Fs = {})),
          (function (e) {
            (e.PUBLIC = "PUBLIC"), (e.EXTENDED = "EXTENDED"), (e.FULL = "FULL");
          })(Vs || (Vs = {})),
          (function (e) {
            (e.ASC = "ASC"), (e.DESC = "DESC");
          })($s || ($s = {})),
          (function (e) {
            (e.UNKNOWN = "UNKNOWN"),
              (e.ENABLED = "ENABLED"),
              (e.DISABLED = "DISABLED"),
              (e.PENDING = "PENDING"),
              (e.DEMO = "DEMO");
          })(Ws || (Ws = {})),
          (function (e) {
            (e.OTHER = "OTHER"),
              (e.FROM_TEMPLATE = "FROM_TEMPLATE"),
              (e.DUPLICATE_BY_SITE_TRANSFER = "DUPLICATE_BY_SITE_TRANSFER"),
              (e.DUPLICATE = "DUPLICATE"),
              (e.OLD_SITE_TRANSFER = "OLD_SITE_TRANSFER"),
              (e.FLASH = "FLASH");
          })(Ks || (Ks = {})),
          (function (e) {
            (e.UNKNOWN_NAMESPACE = "UNKNOWN_NAMESPACE"),
              (e.WIX = "WIX"),
              (e.SHOUT_OUT = "SHOUT_OUT"),
              (e.ALBUMS = "ALBUMS"),
              (e.WIX_STORES_TEST_DRIVE = "WIX_STORES_TEST_DRIVE"),
              (e.HOTELS = "HOTELS"),
              (e.CLUBS = "CLUBS"),
              (e.ONBOARDING_DRAFT = "ONBOARDING_DRAFT"),
              (e.DEV_SITE = "DEV_SITE"),
              (e.LOGOS = "LOGOS"),
              (e.VIDEO_MAKER = "VIDEO_MAKER"),
              (e.PARTNER_DASHBOARD = "PARTNER_DASHBOARD"),
              (e.DEV_CENTER_COMPANY = "DEV_CENTER_COMPANY"),
              (e.HTML_DRAFT = "HTML_DRAFT"),
              (e.SITELESS_BUSINESS = "SITELESS_BUSINESS"),
              (e.CREATOR_ECONOMY = "CREATOR_ECONOMY"),
              (e.DASHBOARD_FIRST = "DASHBOARD_FIRST"),
              (e.ANYWHERE = "ANYWHERE"),
              (e.HEADLESS = "HEADLESS"),
              (e.ACCOUNT_MASTER_CMS = "ACCOUNT_MASTER_CMS"),
              (e.RISE = "RISE"),
              (e.BRANDED_FIRST = "BRANDED_FIRST");
          })(Gs || (Gs = {})),
          (function (e) {
            (e.UNKNOWN = "UNKNOWN"),
              (e.TRASH = "TRASH"),
              (e.DELETED = "DELETED"),
              (e.PENDING_PURGE = "PENDING_PURGE");
          })(Js || (Js = {}));
        class Ys {
          constructor(e) {
            this.httpClient = e;
          }
          async getCurrentUser() {
            const { data: e } = await this.httpClient.request(
              (function (e) {
                var t = Qe(Hs, {}),
                  r = t.toJSON,
                  n = t.fromJSON,
                  i = Qe(qs, { _member: zs }).fromJSON;
                function o(t) {
                  var n = t.host,
                    o = r(e);
                  return {
                    entityFqdn: "wix.members.v1.member",
                    method: "GET",
                    methodFqn: "com.wixpress.members.api.Members.GetMyMember",
                    url: Xs({ protoPath: "/v1/members/my", data: o, host: n }),
                    params: We(o),
                    transformResponse: i,
                  };
                }
                return (o.fromReq = n), (o.__isAmbassador = !0), o;
              })({ fieldSet: Vs.FULL })
            );
            return e.member ?? null;
          }
        }
        class Zs {
          constructor(e) {
            this.httpClient = e;
          }
          async getMemberRoles(e) {
            var t;
            const { data: r } = await this.httpClient.request(
              nt({ memberId: e })
            );
            return (
              (null == (t = r.roles)
                ? void 0
                : t.map((e) => {
                    var t;
                    return null == (t = e.roleKey)
                      ? void 0
                      : t.toLocaleLowerCase();
                  })) || []
            );
          }
        }
        class Qs {
          constructor(e, t, r) {
            (this.memoryStorage = e), (this.site = t), (this.appDefId = r);
          }
          hasCurrentUser() {
            const e = this.getCurrentUserCacheKey();
            return this.hasItemInStorage(e);
          }
          getCurrentUser() {
            const e = this.getCurrentUserCacheKey();
            return this.getItemFromStorage(e);
          }
          setCurrentUser(e) {
            const t = this.getCurrentUserCacheKey();
            return this.setItemToStorage(t, e);
          }
          hasRoles() {
            const e = this.getRolesCacheKey();
            return this.hasItemInStorage(e);
          }
          getRoles() {
            const e = this.getRolesCacheKey();
            return this.getItemFromStorage(e) ?? [];
          }
          setRoles(e) {
            const t = this.getRolesCacheKey();
            return this.setItemToStorage(t, e);
          }
          hasRoutes() {
            const e = this.getRoutesCacheKey();
            return this.hasItemInStorage(e);
          }
          getRoutes() {
            const e = this.getRoutesCacheKey();
            return this.getItemFromStorage(e) ?? [];
          }
          setRoutes(e) {
            const t = this.getRoutesCacheKey();
            return this.setItemToStorage(t, e);
          }
          hasLoginMenuItems() {
            const e = this.getLoginBarMenuCacheKey();
            return this.hasItemInStorage(e);
          }
          getLoginMenuItems() {
            const e = this.getLoginBarMenuCacheKey();
            return this.getItemFromStorage(e) ?? [];
          }
          setLoginMenuItems(e) {
            const t = this.getLoginBarMenuCacheKey();
            return this.setItemToStorage(t, e);
          }
          getRoutesCacheKey() {
            var e, t;
            return `members-routes-${
              null == (e = (t = this.site).getAppToken)
                ? void 0
                : e.call(t, this.appDefId)
            }`;
          }
          getRolesCacheKey() {
            var e, t;
            return `members-roles-${
              null == (e = (t = this.site).getAppToken)
                ? void 0
                : e.call(t, this.appDefId)
            }`;
          }
          getCurrentUserCacheKey() {
            var e, t;
            return `members-cu-${
              null == (e = (t = this.site).getAppToken)
                ? void 0
                : e.call(t, this.appDefId)
            }`;
          }
          getLoginBarMenuCacheKey() {
            var e, t;
            return `members-login-bar-${
              null == (e = (t = this.site).getAppToken)
                ? void 0
                : e.call(t, this.appDefId)
            }`;
          }
          hasItemInStorage(e) {
            return !!this.memoryStorage.getItem(e);
          }
          getItemFromStorage(e) {
            const t = this.memoryStorage.getItem(e);
            return t ? JSON.parse(t) : null;
          }
          setItemToStorage(e, t) {
            return this.memoryStorage.setItem(e, JSON.stringify(t));
          }
        }
        class ea {
          constructor(e) {
            (this.viewerWarmupDataService = e), Wt()(this, "callMap", {});
          }
          getData(e) {
            if (this.callMap[e]) return null;
            const t = this.viewerWarmupDataService.get(e);
            return (this.callMap[e] = !0), t;
          }
          setData(e, t) {
            return this.viewerWarmupDataService.set(e, t);
          }
        }
        const ta = (e) => {
            let {
              flowAPI: t,
              controllerConfig: {
                platformAPIs: r,
                wixCodeApi: n,
                appParams: i,
              },
            } = e;
            return {
              currentUserService: new Ys(t.httpClient),
              rolesService: new Zs(t.httpClient),
              cacheService: new Qs(r.storage.memory, n.site, i.appDefinitionId),
              warmupDataService: new ea(n.window.warmupData),
            };
          },
          ra = async (e) => {
            const { contextProps: t, contextServices: r } = ((e) => {
                const { flowAPI: t, controllerConfig: r } = e,
                  { wixCodeApi: n, appParams: i, $w: o } = r,
                  s = { $w: o, flowAPI: t, wixCodeApi: n, appParams: i },
                  {
                    currentUserService: a,
                    rolesService: u,
                    cacheService: l,
                    warmupDataService: c,
                  } = ta({ flowAPI: t, controllerConfig: r }),
                  d = new ks(n.site),
                  p = new Ls(s, {
                    currentUserService: a,
                    cacheService: l,
                    rolesService: u,
                    warmupDataService: c,
                    pageService: d,
                  });
                return {
                  contextProps: s,
                  contextServices: {
                    currentUserService: a,
                    cacheService: l,
                    rolesService: u,
                    menuService: new Us(o, p, t.experiments),
                    stateService: p,
                  },
                };
              })(e),
              { environment: n } = t.flowAPI,
              { user: i } = t.wixCodeApi,
              { stateService: o, cacheService: s, menuService: a } = r,
              u = i.currentUser.loggedIn && !n.isEditor;
            return {
              async pageReady() {
                u &&
                  (await o.fetchInitialData(),
                  a.initializeMenuItems({ ...o, cacheService: s })),
                  ((e, t) => {
                    e.wixCodeApi.user.onLogin(async () => {
                      await t.stateService.fetchInitialData(),
                        t.menuService.initializeMenuItems({
                          ...t.stateService,
                          cacheService: t.cacheService,
                        });
                    });
                  })(t, r),
                  Mt.setMembersLoginWidgets([
                    ...Mt.getMembersLoginWidgets(),
                    ...Es(t.$w),
                  ]);
              },
            };
          };
        class na extends Ns {
          constructor(e, t, r) {
            super(e, t, r), Oo(this, { initializeMenuItems: Zi });
          }
          initializeMenuItems(e) {
            if (
              ((this.menuContext = e),
              this.menuContext.cacheService.hasLoginMenuItems())
            )
              return (
                (this.menuItems =
                  this.menuContext.cacheService.getLoginMenuItems()),
                void this.bindMenuItems()
              );
            this.filterMenuItemsVisibleForRoles(),
              this.setNotificationsCount(),
              this.menuContext.cacheService.setLoginMenuItems(this.menuItems),
              this.bindMenuItems();
          }
        }
        class ia extends Ts {
          constructor(e, t) {
            super(e, t),
              (this.contextProps = e),
              (this.contextServices = t),
              Oo(this, { fetchInitialData: Zi });
          }
          async fetchInitialData() {
            const { isSSR: e } = this.contextProps.flowAPI.environment;
            if (e) {
              await this.fetchDataWrapper();
              const {
                currentUser: e,
                currentUserRoles: t,
                routes: r,
                notificationsCounter: n,
              } = this;
              return this.contextServices.warmupDataService.setData(
                Ie,
                JSON.stringify({
                  currentUser: e,
                  currentUserRoles: t,
                  routes: r,
                  notificationsCounter: n,
                })
              );
            }
            const t = this.contextServices.warmupDataService.getData(Ie),
              r = t ? JSON.parse(t) : null;
            return r
              ? ((this.currentUser = r.currentUser),
                (this.currentUserRoles = r.currentUserRoles),
                (this.routes = r.routes),
                void (this.notificationsCounter = r.notificationsCounter))
              : this.fetchDataWrapper();
          }
          async fetchDataWrapper() {
            await this.fetchCurrentUser(),
              await Promise.all([
                this.fetchRouteConfigurations(),
                this.fetchCurrentUserRoles(),
                this.fetchNotificationsCounters(),
              ]);
          }
        }
        const oa = async (e) => {
            const { contextProps: t, contextServices: r } = ((e) => {
                const { flowAPI: t, controllerConfig: r } = e,
                  { wixCodeApi: n, appParams: i, $w: o } = r,
                  s = { $w: o, flowAPI: t, wixCodeApi: n, appParams: i },
                  {
                    currentUserService: a,
                    rolesService: u,
                    cacheService: l,
                    warmupDataService: c,
                  } = ta({ flowAPI: t, controllerConfig: r }),
                  d = new ia(s, {
                    currentUserService: a,
                    cacheService: l,
                    rolesService: u,
                    warmupDataService: c,
                  });
                return {
                  contextProps: s,
                  contextServices: {
                    currentUserService: a,
                    cacheService: l,
                    rolesService: u,
                    menuService: new na(o, d, t.experiments),
                    stateService: d,
                  },
                };
              })(e),
              { environment: n } = t.flowAPI,
              { user: i } = t.wixCodeApi,
              { stateService: o, cacheService: s, menuService: a } = r,
              u = i.currentUser.loggedIn && !n.isEditor;
            return {
              async pageReady() {
                u &&
                  (await o.fetchInitialData(),
                  a.initializeMenuItems({ ...o, cacheService: s })),
                  ((e, t) => {
                    e.wixCodeApi.user.onLogin(async () => {
                      await t.stateService.fetchInitialData(),
                        t.menuService.initializeMenuItems({
                          ...t.stateService,
                          cacheService: t.cacheService,
                        });
                    });
                  })(t, r),
                  Mt.setMembersLoginWidgets([
                    ...Mt.getMembersLoginWidgets(),
                    ...Es(t.$w),
                  ]);
              },
            };
          },
          sa = async (e) => {
            let { controllerConfig: t, appData: r, flowAPI: n } = e;
            const { wixCodeApi: i, $w: o } = t,
              s = "Editor" === i.window.viewMode,
              a = t;
            return (
              ur(a),
              {
                async pageReady() {
                  const e = await (null == r ? void 0 : r.initApplication());
                  i.user.onLogin((t) =>
                    at("onLogin", () =>
                      lr(t, n.httpClient).then(() => sr(a, e))
                    )()
                  ),
                    s
                      ? n.environment.isMobile && cr(o, i, e.parsedRouters)
                      : sr(a, e);
                },
              }
            );
          },
          aa = async (e) =>
            (
              await (async (e, t) => {
                const [r, n] = await Promise.all([
                  gr(e.controllerConfig.wixCodeApi),
                  hr(e.controllerConfig.wixCodeApi),
                ]);
                return r
                  ? oa
                  : n ||
                    ((e) => {
                      var t;
                      return null == e ||
                        null == (t = e.connections) ||
                        null == (t = t[0]) ||
                        null == (t = t.config)
                        ? void 0
                        : t.isMembersAreaV2;
                    })(t)
                  ? ra
                  : sa;
              })(e.flowAPI, e.controllerConfig)
            )(e),
          ua = async (e) => {
            let { controllerConfig: t, appData: r, flowAPI: n } = e;
            const { wixCodeApi: i, $w: o } = t,
              s = "Editor" === i.window.viewMode,
              a = t;
            return (
              ur(a),
              {
                async pageReady() {
                  const e = await (null == r ? void 0 : r.initApplication());
                  i.user.onLogin((t) =>
                    at("onLogin", () =>
                      lr(t, n.httpClient).then(() => or(a, e, n))
                    )()
                  ),
                    s
                      ? n.environment.isMobile && cr(o, i, e.parsedRouters)
                      : or(a, e, n);
                },
              }
            );
          },
          la = (e, t, r) => {
            const n = new ea(t.window.warmupData);
            let i = null;
            return {
              getAppData: () => (
                i ||
                  (i = (async function (e) {
                    let {
                      wixCodeApi: t,
                      appParams: r,
                      flowAPI: n,
                      warmupDataService: i,
                    } = e;
                    const o = Qt.getCurrentUser(),
                      s = Qt.getRoles(),
                      a = Qt.getViewedUser(),
                      u = o.loggedIn && 0 === Object.keys(s).length,
                      l =
                        null == t.site.getAppToken
                          ? void 0
                          : t.site.getAppToken(r.appDefinitionId),
                      c = "backend" === t.window.rendering.env,
                      d = (r.appRouters || []).map((e) => ({
                        ...e,
                        config: JSON.parse(e.config),
                      })),
                      p = d.map((e) => e.config),
                      f = async () => {
                        const [e, r, i] = await Promise.all([
                          nr(l, c),
                          u ? ir(l, n.httpClient) : {},
                          er.getPermittedPagesMap(Gt(d), t.window.viewMode),
                        ]);
                        return { counters: e, roles: r, permittedPagesMap: i };
                      };
                    let h;
                    n.environment.isSSR
                      ? ((h = await f()), i.setData(Ie, h))
                      : (h = i.getData(Ie) || (await f()));
                    const { counters: g, roles: v, permittedPagesMap: m } = h;
                    u && Qt.setRoles(v);
                    const b = De(r),
                      _ = Qt.getRoles()[o.id] || [],
                      y = Qt.getRoles()[a.id] || [],
                      w = d.find((e) => "public" === e.config.type),
                      P = (null == w ? void 0 : w.prefix) ?? "";
                    return {
                      counters: g,
                      permittedPagesMap: m,
                      parsedRouters: d,
                      parsedRoutersConfigs: p,
                      parsedConfigItems: b,
                      currentUserRoles: _,
                      viewedUserRoles: y,
                      publicRouterPrefix: P,
                    };
                  })({
                    appParams: e,
                    wixCodeApi: t,
                    flowAPI: r,
                    warmupDataService: n,
                  })),
                i
              ),
            };
          };
        var ca, da, pa;
        !(function (e) {
          (e.MemberPage = "member_page"),
            (e.SettingsPage = "member_settings_page"),
            (e.About = "about"),
            (e.MyAccount = "member_info"),
            (e.FollowingFollowers = "following_followers"),
            (e.FollowingFollowersLightbox = "following_followers_modal"),
            (e.MyRewards = "My Rewards"),
            (e.ForumPosts = "member-posts-page"),
            (e.ForumComments = "member-comments-page"),
            (e.Events = "events_members_page"),
            (e.BlogComments = "member-comments-page"),
            (e.BlogLikes = "member-likes-page"),
            (e.BlogPosts = "member-posts-page"),
            (e.BlogDrafts = "member-drafts-page"),
            (e.MyPosts = "My Posts"),
            (e.MyChallenges = "My Challenges"),
            (e.MyPrograms = "My Programs"),
            (e.MySubscriptions = "My Subscriptions"),
            (e.MyBookings = "bookings_member_area"),
            (e.Notifications = "notifications_app"),
            (e.MyAddresses = "my_addresses"),
            (e.MyOrders = "order_history"),
            (e.MyWallet = "my_wallet"),
            (e.Settings = "settings"),
            (e.SharedGallery = "Gallery"),
            (e.FileShare = "wix_file_share_members_page"),
            (e.MyWishlist = "wishlist"),
            (e.ContributorProfile = "contributor-profile"),
            (e.Groups = "groups"),
            (e.TestPublic = "test-vertical-public-widget"),
            (e.TestPrivate = "test-vertical-private-widget"),
            (e.ProfilePageBob = "test-profile-page-bob");
        })(ca || (ca = {})),
          (function (e) {
            (e.About = "14dbef06-cc42-5583-32a7-3abd44da4908"),
              (e.MyAccount = "14cffd81-5215-0a7f-22f8-074b0e2401fb"),
              (e.Members = "14dbefd2-01b4-fb61-32a7-3abd44da4908"),
              (e.Blog = "14bcded7-0066-7c35-14d7-466cb3f09103"),
              (e.FileShare = "1537b24e-29d1-6d8f-b8e1-d6860f2f70b9"),
              (e.Followers = "14ebe801-d78a-daa9-c9e5-0286a891e46f"),
              (e.Forum = "14724f35-6794-cd1a-0244-25fd138f9242"),
              (e.Addresses = "1505b775-e885-eb1b-b665-1e485d9bf90e"),
              (e.Bookings = "13d21c63-b5ec-5912-8397-c3a5ddb27a97"),
              (e.Events = "140603ad-af8d-84a5-2c80-a0f60cb47351"),
              (e.Stores = "1380b703-ce81-ff05-f115-39571d94dfcd"),
              (e.Wallet = "4aebd0cb-fbdb-4da7-b5d1-d05660a30172"),
              (e.Notifications = "14f25924-5664-31b2-9568-f9c5ed98c9b1"),
              (e.Settings = "14f25dc5-6af3-5420-9568-f9c5ed98c9b1"),
              (e.SharedGallery = "476dc2dd-e16e-43b0-a0aa-1a486c78fbe2"),
              (e.Subscriptions = "2bef2abe-7abe-43da-889c-53c1500a328c"),
              (e.ProfilePageBob = "b976560c-3122-4351-878f-453f337b7245"),
              (e.Programs = "2936472a-a1ed-4ae5-9f71-614313a9f4e7"),
              (e.Rewards = "16ed1ac6-01cb-4fb6-a59e-c215cce8fdf6"),
              (e.Groups = "148c2287-c669-d849-d153-463c7486a694"),
              (e.TestVertical = "567d5e7e-4224-4488-a24b-d1ee5f691e54"),
              (e.ContributorProfile = "f9694946-7e53-4ab4-9cc7-21d275993d39");
          })(da || (da = {})),
          (function (e) {
            (e.About = "14dbefb9-3b7b-c4e9-53e8-766defd30587"),
              (e.MyAccount = "14dd1af6-3e02-63db-0ef2-72fbc7cc3136"),
              (e.MyRewards = "c85a2896-9f7c-4cf1-9bf8-95852cc5219a"),
              (e.Groups = "9d55e4f9-fb5a-4d67-aec3-d1139b306308"),
              (e.ForumPosts = "14f0266c-e0a3-afc6-d07c-5be8e20949cd"),
              (e.ForumComments = "14f51b00-3ada-272e-b6db-34d5da9dd623"),
              (e.Events = "405eb115-a694-4e2b-abaa-e4762808bb93"),
              (e.FollowingFollowers = "14ebe825-b273-0d5f-0fd1-e6293322b83b"),
              (e.FollowingFollowersLightbox =
                "a26fd26a-3dd9-42ca-b381-326a9c143e38"),
              (e.BlogComments = "14f260f9-c2eb-50e8-9b3c-4d21861fe58f"),
              (e.BlogLikes = "14f26109-514f-f9a8-9b3c-4d21861fe58f"),
              (e.BlogPosts = "14f26118-b65b-b1c1-b6db-34d5da9dd623"),
              (e.BlogDrafts = "14f260e4-ea13-f861-b0ba-4577df99b961"),
              (e.MyPosts = "e5a2773b-0e6b-4cbb-a012-3b4a69e92046"),
              (e.MyChallenges = "384628b7-c716-4410-8fc5-4e2bd5aad178"),
              (e.MyPrograms = "c88902a1-7fbf-4ff1-b19a-af39c48bc740"),
              (e.MySubscriptions = "b29db04a-a8f2-4bfe-bbad-21c99c1054b5"),
              (e.MyBookings = "14edb332-fdb9-2fe6-0fd1-e6293322b83b"),
              (e.Notifications = "14f2595a-a352-3ff1-9b3c-4d21861fe58f"),
              (e.Settings = "14f25dd2-f9b0-edc2-f38e-eded5da094aa"),
              (e.MyAddresses = "151290e1-62a2-0775-6fbc-02182fad5dec"),
              (e.MyOrders = "14e121c8-00a3-f7cc-6156-2c82a2ba8fcb"),
              (e.MyWallet = "6467c15e-af3c-4e8d-b167-41bfb8efc32a"),
              (e.SharedGallery = "11b7884b-eba1-4a47-b5c8-7afb395f966a"),
              (e.FileShare = "35a4cb97-c8cd-4ee9-ac3c-89c13c8493d6"),
              (e.TestPublic = "eed51e05-c783-4506-9fb3-0f5c47d6dea2"),
              (e.TestPrivate = "cc87eeb5-95a9-4f49-b7c3-5246eb39fee0"),
              (e.MyWishlist = "a63a5215-8aa6-42af-96b1-583bfd74cff5"),
              (e.ContributorProfile = ""),
              (e.ProfileCard = "14cefc05-d163-dbb7-e4ec-cd4f2c4d6ddd"),
              (e.MemberPage = "596a6688-3ad7-46f7-bb9c-00023225876d"),
              (e.SettingsPage = "2f6c5608-393f-4b15-bfd8-d4e15396787a");
          })(pa || (pa = {}));
        pa.About,
          ca.About,
          da.About,
          pa.MyAccount,
          ca.MyAccount,
          da.MyAccount,
          pa.MyRewards,
          ca.MyRewards,
          da.Rewards,
          pa.Groups,
          ca.Groups,
          da.Groups,
          pa.ForumPosts,
          ca.ForumPosts,
          da.Forum,
          pa.ForumComments,
          ca.ForumComments,
          da.Forum,
          pa.Events,
          ca.Events,
          da.Events,
          pa.FollowingFollowers,
          ca.FollowingFollowers,
          da.Followers,
          pa.FollowingFollowersLightbox,
          ca.FollowingFollowersLightbox,
          da.ProfilePageBob,
          pa.BlogComments,
          ca.BlogComments,
          da.Blog,
          pa.BlogLikes,
          ca.BlogLikes,
          da.Blog,
          pa.BlogPosts,
          ca.BlogPosts,
          da.Blog,
          pa.BlogDrafts,
          ca.BlogDrafts,
          da.Blog,
          pa.MyPosts,
          ca.MyPosts,
          da.Blog,
          pa.MyChallenges,
          ca.MyChallenges,
          da.Programs,
          pa.MyPrograms,
          ca.MyPrograms,
          da.Programs,
          pa.MySubscriptions,
          ca.MySubscriptions,
          da.Subscriptions,
          pa.MyBookings,
          ca.MyBookings,
          da.Bookings,
          pa.Notifications,
          ca.Notifications,
          da.Notifications,
          pa.MyAddresses,
          ca.MyAddresses,
          da.Addresses,
          pa.MyOrders,
          ca.MyOrders,
          da.Stores,
          pa.MyWishlist,
          ca.MyWishlist,
          da.Stores,
          pa.MyWallet,
          ca.MyWallet,
          da.Wallet,
          pa.Settings,
          ca.Settings,
          da.Settings,
          pa.SharedGallery,
          ca.SharedGallery,
          da.SharedGallery,
          pa.FileShare,
          ca.FileShare,
          da.FileShare,
          pa.TestPublic,
          ca.TestPublic,
          da.TestVertical,
          pa.TestPrivate,
          ca.TestPrivate,
          da.TestVertical,
          pa.ContributorProfile,
          ca.ContributorProfile,
          da.ContributorProfile,
          pa.ProfileCard,
          ca.MyAccount,
          da.MyAccount,
          pa.MemberPage,
          ca.MemberPage,
          da.ProfilePageBob,
          pa.SettingsPage,
          ca.SettingsPage,
          da.ProfilePageBob,
          pa.About,
          pa.MyAccount,
          be.xA,
          be.dn,
          pa.BlogLikes,
          be.dn,
          pa.BlogComments,
          be.dn,
          pa.BlogPosts,
          pa.ContributorProfile,
          pa.FileShare,
          pa.FollowingFollowers,
          be.rH,
          pa.FollowingFollowersLightbox,
          be.tt,
          pa.ForumComments,
          be.tt,
          pa.ForumPosts,
          pa.MyAddresses,
          be.DI,
          pa.MyBookings,
          be.dn,
          pa.BlogDrafts,
          be.dn,
          pa.MyPosts,
          be.sV,
          pa.Events,
          be.ZJ,
          pa.MyOrders,
          pa.MyWallet,
          be.ZJ,
          pa.MyWishlist,
          be.wn,
          pa.Notifications,
          pa.Settings,
          pa.SharedGallery,
          pa.MySubscriptions,
          pa.MyChallenges,
          pa.MyPrograms,
          pa.MyRewards,
          pa.SettingsPage,
          pa.MemberPage,
          pa.Groups,
          pa.TestPublic,
          pa.TestPrivate;
        var fa;
        !(function (e) {
          (e.Profile = "profile"),
            (e.Settings = "settings"),
            (e.Standalone = "standalone"),
            (e.Lightbox = "lightbox");
        })(fa || (fa = {}));
        class ha {
          constructor(e, t, r, n, i) {
            (this.routes = e),
              (this.settingsRoutes = t),
              (this.location = r),
              (this.site = n),
              (this.window = i);
          }
          async hasSocialPages(e, t) {
            const r = await this.getRoutes(e);
            if (!r.length) return Promise.resolve(!1);
            const n = r.some((e) => !e.private);
            return null == e || e(n), Promise.resolve(n);
          }
          async getRoutes(e) {
            return null == e || e(this.routes), Promise.resolve(this.routes);
          }
          async getSettingsRoutes(e) {
            return (
              null == e || e(this.settingsRoutes),
              Promise.resolve(this.settingsRoutes)
            );
          }
          async navigateToSection(e, t) {
            var r, n;
            let {
              memberId: i = "",
              tpaInnerRoute: o = "",
              widgetId: s,
              appDefinitionId: a,
            } = e;
            if (!s) {
              var u, l;
              const e = await this.getPageUrlByAppDefId(a, t);
              return (
                null == (u = (l = this.location).to) || u.call(l, e),
                Promise.resolve()
              );
            }
            const c = await this.findRouteByWidgetId(s, t);
            if (!c)
              throw (
                (null == t || t(Ae.CannotFindPageToNavigateTo),
                new Error(Ae.CannotFindPageToNavigateTo))
              );
            const d = await this.getMembersAreaSectionURL({
              suffix: c.path,
              memberId: i,
              tpaInnerRoute: o,
              onError: t,
            });
            var p, f;
            return s === pa.FollowingFollowers
              ? (null == (p = (f = this.location).to) ||
                  p.call(f, `${this.location.baseUrl}${d}`),
                Promise.resolve())
              : (null == (r = (n = this.location).to) || r.call(n, d),
                Promise.resolve());
          }
          async navigateToMember(e, t) {
            let { memberId: r, memberSlug: n } = e;
            if (!r)
              throw (
                (null == t || t(Ae.MissingMemberId),
                new Error(Ae.MissingMemberId))
              );
            const i = await this.getNavigableHomePage(t);
            if (!i)
              throw (
                (null == t || t(Ae.CannotNavigateToMemberNoPublicPage),
                new Error(Ae.CannotNavigateToMemberNoPublicPage))
              );
            {
              var o, s;
              const e = await this.getMembersAreaSectionURL({
                suffix: i.suffix,
                memberId: n || r,
                onError: t,
              });
              null == (o = (s = this.location).to) || o.call(s, e);
            }
            return Promise.resolve();
          }
          async getNavigatableRoles(e) {
            const t = await this.getNavigableHomePage(e);
            if (t) {
              return {
                navigatableMembersRoles: t.visibleForRoles ?? [],
                isNavigationAllowed: !0,
              };
            }
            return { navigatableMembersRoles: [], isNavigationAllowed: !1 };
          }
          async getSectionUrl(e, t) {
            let {
              widgetId: r,
              memberId: n = "",
              memberSlug: i = "",
              tpaInnerRoute: o = "",
              appDefinitionId: s,
            } = e;
            if (!r) return this.getPageUrlByAppDefId(s, t);
            let a = this.location.baseUrl;
            "/" === a.slice(-1) && (a = a.slice(0, -1));
            const u = await this.findRouteByWidgetId(r, t);
            if (!u)
              throw (
                (null == t || t(`${Ae.RouteNotFound} ${r}`),
                new Error(`${Ae.RouteNotFound} ${r}`))
              );
            return `${a}${await this.getMembersAreaSectionURL({
              suffix: u.path,
              memberId: n,
              memberSlug: i,
              tpaInnerRoute: o,
              onError: t,
            })}`;
          }
          async getMemberPagePrefix(e, t, r) {
            return { prefix: await this.getMembersAreaPagePrefix(r) };
          }
          setNotificationCount(e) {
            return (
              Mt.getMembersLoginWidgets().forEach((t) => {
                var r;
                null != (r = t.navBarItems) &&
                  r.length &&
                  (t.navBarItems = [
                    { ...t.navBarItems[0], displayCount: e > 0 ? e : null },
                  ]);
              }),
              Promise.resolve()
            );
          }
          getIsMembersAreaSeoEnabled() {
            return Promise.resolve(!0);
          }
          async isAppSectionInstalled(e) {
            let { widgetId: t } = e;
            return !!(await this.findRouteByWidgetId(t));
          }
          async openLightbox(e, t) {
            const r = await this.getLightboxIdByTpaPageId(e);
            if (!r) throw new Error(`Lightbox ${e} is not installed`);
            return this.window.openLightboxById(r, t);
          }
          async getInstalledLightboxes() {
            const { lightboxes: e } = await this.getSiteStructure();
            return e.map((e) => {
              let { tpaPageId: t } = e;
              return t;
            });
          }
          async getPageUrlByAppDefId(e, t) {
            const { pages: r } = await this.getSiteStructure(),
              n = r.find((t) => t.applicationId === e && !t.prefix);
            if (null == n || !n.url)
              throw (
                (null == t || t(Ae.CannotFindPageToNavigateTo),
                new Error(Ae.CannotFindPageToNavigateTo))
              );
            return n.url;
          }
          async getNavigableHomePage(e) {
            const t = (await this.getRoutes()).filter((e) => !e.private);
            if (!t.length) return;
            const r = t.find((e) => e.home),
              n = await this.getMembersAreaPagePrefix(e);
            if (r) return { prefix: n, suffix: r.path, visibleForRoles: r.vfr };
            {
              const e = t[0];
              return { prefix: n, suffix: e.path, visibleForRoles: e.vfr };
            }
          }
          getSiteStructure() {
            return this.site.getSiteStructure({ includePageId: !0 });
          }
          async getMembersAreaPagePrefix(e) {
            const { prefixes: t } = await this.getSiteStructure(),
              r = t.find((e) => {
                let { applicationId: t } = e;
                return t === ye;
              });
            if (!r)
              throw (
                (null == e || e(Ae.MissingMembersAreaPage),
                new Error(Ae.MissingMembersAreaPage))
              );
            return r.prefix;
          }
          async getMembersAreaSectionURL(e) {
            let {
              suffix: t,
              memberId: r,
              memberSlug: n,
              tpaInnerRoute: i,
              onError: o,
            } = e;
            const s = r ? `/${n || r}/${t}` : `/${t}`,
              a = `${await this.getMembersAreaPagePrefix(o)}${s}`;
            if (!i) return a;
            return `${a}${
              "/" !== (null == i ? void 0 : i.charAt(0)) ? `/${i}` : i
            }`;
          }
          async findRouteByWidgetId(e, t) {
            return (await this.getRoutes()).find((t) => t.widgetId === e);
          }
          async getLightboxIdByTpaPageId(e) {
            const { lightboxes: t } = await this.getSiteStructure(),
              r = t.find((t) => t.tpaPageId === e);
            return null == r ? void 0 : r.id;
          }
        }
        const ga = () => Mt.getWixCodeAPI().site.getPublicAPI(ye),
          va = () => {
            const e = (() => {
                var e;
                const t =
                    (null == (e = Mt.getGlobalControllerConfig()) ||
                    null == (e = e.config)
                      ? void 0
                      : e.routes) ?? [],
                  r = Mt.getRoutes();
                return r.length ? r : t;
              })(),
              t = Mt.getSettingsRoutes(),
              r = Mt.getWixCodeAPI();
            if (null == e || !e.length) throw new Error(Ae.MissingRoutes);
            if (!r) throw new Error(Ae.NotInitializedWixCodeApi);
            return new ha(e, t, r.location, r.site, r.window);
          };
        class ma {
          constructor(e, t, r, n, i) {
            (this.routes = e),
              (this.settingsRoutes = t),
              (this.location = r),
              (this.site = n),
              (this.window = i);
          }
          async hasSocialPages(e, t) {
            const r = (await this.getRoutes(e)).length > 0;
            return null == e || e(r), Promise.resolve(r);
          }
          async getRoutes(e) {
            return null == e || e(this.routes), Promise.resolve(this.routes);
          }
          async getSettingsRoutes(e) {
            return (
              null == e || e(this.settingsRoutes),
              Promise.resolve(this.settingsRoutes)
            );
          }
          async navigateToSection(e, t) {
            let {
              memberId: r = "",
              tpaInnerRoute: n = "",
              widgetId: i,
              appDefinitionId: o,
              sectionId: s,
            } = e;
            const a = await this.findRouteByWidgetId(i);
            return a
              ? this.navigateByRoute(
                  { routeData: a, memberId: r, tpaInnerRoute: n, widgetId: i },
                  t
                )
              : this.navigateByPagePath(
                  { appDefinitionId: o, sectionId: s },
                  t
                );
          }
          async navigateToMember(e, t) {
            let { memberId: r, memberSlug: n } = e;
            if (!r)
              throw (
                (null == t || t(Ae.MissingMemberId),
                new Error(Ae.MissingMemberId))
              );
            const i = await this.getNavigableHomePage(t);
            if (!i)
              throw (
                (null == t || t(Ae.CannotNavigateToMemberNoPublicPage),
                new Error(Ae.CannotNavigateToMemberNoPublicPage))
              );
            {
              var o, s;
              const e = await this.getMembersAreaSectionURL(
                { suffix: i.suffix, memberId: n || r },
                t
              );
              null == (o = (s = this.location).to) || o.call(s, e);
            }
            return Promise.resolve();
          }
          async getNavigatableRoles(e) {
            const t = await this.getNavigableHomePage(e);
            if (t) {
              return {
                navigatableMembersRoles: t.visibleForRoles ?? [],
                isNavigationAllowed: !0,
              };
            }
            return { navigatableMembersRoles: [], isNavigationAllowed: !1 };
          }
          async getSectionUrl(e, t) {
            let {
              appDefinitionId: r,
              sectionId: n,
              memberId: i,
              memberSlug: o,
              widgetId: s,
              tpaInnerRoute: a,
            } = e;
            const u = await this.findRouteByWidgetId(s);
            if (u) {
              const e = await this.getMembersAreaSectionURL(
                {
                  suffix: u.route.path,
                  memberId: i,
                  memberSlug: o,
                  tpaInnerRoute: a,
                },
                t
              );
              return this.prependBaseUrl(e);
            }
            const { url: l } = await this.site.getSectionUrl({
              appDefinitionId: r,
              sectionId: n,
            });
            if (!l)
              throw (
                (null == t || t(Ae.SectionUrlNotFound),
                new Error(Ae.SectionUrlNotFound))
              );
            return l;
          }
          async getMemberPagePrefix(e, t, r) {
            return { prefix: await this.getMembersAreaPagePrefix(r) };
          }
          setNotificationCount(e) {
            return (
              Mt.getMembersLoginWidgets().forEach((t) => {
                var r;
                null != (r = t.navBarItems) &&
                  r.length &&
                  (t.navBarItems = [{ ...t.navBarItems[0], displayCount: e }]);
              }),
              Promise.resolve()
            );
          }
          getIsMembersAreaSeoEnabled() {
            return Promise.resolve(!0);
          }
          async isAppSectionInstalled(e) {
            let { appDefinitionId: t, sectionId: r, widgetId: n } = e;
            return !(
              !(await this.findRouteByWidgetId(n)) &&
              !(await this.findPage({ appDefinitionId: t, sectionId: r }))
            );
          }
          async openLightbox(e, t) {
            const r = await this.getLightboxIdByTpaPageId(e);
            if (!r) throw new Error(`Lightbox ${e} is not installed`);
            return this.window.openLightboxById(r, t);
          }
          async getInstalledLightboxes() {
            const { lightboxes: e } = await this.getSiteStructure();
            return e.map((e) => {
              let { tpaPageId: t } = e;
              return t;
            });
          }
          async getPagePath(e) {
            const t = await this.findPage(e);
            return null == t ? void 0 : t.url;
          }
          async findPage(e) {
            let { appDefinitionId: t, sectionId: r } = e;
            const { pages: n } = await this.getSiteStructure();
            return n.find(
              (e) => e.applicationId === t && e.tpaPageId === r && !e.prefix
            );
          }
          async prependBaseUrl(e) {
            let t = this.location.baseUrl;
            return "/" === t.slice(-1) && (t = t.slice(0, -1)), `${t}${e}`;
          }
          async getNavigableHomePage(e) {
            const t = (await this.getRoutes()).filter((e) => !e.private);
            if (!t.length) return;
            const r = t.find((e) => e.home),
              n = await this.getMembersAreaPagePrefix(e);
            if (r) return { prefix: n, suffix: r.path, visibleForRoles: r.vfr };
            {
              const e = t[0];
              return { prefix: n, suffix: e.path, visibleForRoles: e.vfr };
            }
          }
          getSiteStructure() {
            return this.site.getSiteStructure({ includePageId: !0 });
          }
          async getMembersAreaPagePrefix(e) {
            const t = await this.findPage({
              appDefinitionId: ye,
              sectionId: "member_page",
            });
            if (null == t || !t.url)
              throw (
                (null == e || e(Ae.MissingMembersAreaPage),
                new Error(Ae.MissingMembersAreaPage))
              );
            return t.url;
          }
          async getMemberSettingsPagePrefix(e) {
            const t = await this.findPage({
              appDefinitionId: ye,
              sectionId: "member_settings_page",
            });
            if (null == t || !t.url)
              throw (
                (null == e || e(Ae.MissingMembersAreaSettingsPage),
                new Error(Ae.MissingMembersAreaSettingsPage))
              );
            return t.url;
          }
          async getMembersAreaSectionURL(e, t) {
            let { suffix: r, memberId: n, memberSlug: i, tpaInnerRoute: o } = e;
            const s = n ? `/${i || n}/${r}` : `/${r}`,
              a = `${await this.getMembersAreaPagePrefix(t)}${s}`;
            if (!o) return a;
            return `${a}${
              "/" !== (null == o ? void 0 : o.charAt(0)) ? `/${o}` : o
            }`;
          }
          async getMemberSettingsSectionURL(e, t) {
            return `${await this.getMemberSettingsPagePrefix(t)}/${e}`;
          }
          async findRouteByWidgetId(e) {
            const t = (await this.getRoutes()).find((t) => t.widgetId === e);
            if (t) return { route: t, type: Ne.Profile };
            const r = (await this.getSettingsRoutes()).find(
              (t) => t.widgetId === e
            );
            return r ? { route: r, type: Ne.Settings } : null;
          }
          async navigateToMembersAreaSection(e, t) {
            var r, n;
            let { suffix: i, memberId: o, tpaInnerRoute: s, widgetId: a } = e;
            const u = await this.getMembersAreaSectionURL(
              { suffix: i, memberId: o, tpaInnerRoute: s },
              t
            );
            var l, c;
            return a === pa.FollowingFollowers
              ? (null == (l = (c = this.location).to) ||
                  l.call(c, `${this.location.baseUrl}${u}`),
                Promise.resolve())
              : (null == (r = (n = this.location).to) || r.call(n, u),
                Promise.resolve());
          }
          async navigateToMemberSettingsSection(e, t) {
            var r, n;
            const i = await this.getMemberSettingsSectionURL(e, t);
            return (
              null == (r = (n = this.location).to) || r.call(n, i),
              Promise.resolve()
            );
          }
          async navigateByRoute(e, t) {
            let {
              routeData: r,
              memberId: n,
              widgetId: i,
              tpaInnerRoute: o,
            } = e;
            switch (r.type) {
              case Ne.Profile:
                return this.navigateToMembersAreaSection(
                  {
                    suffix: r.route.path,
                    memberId: n,
                    tpaInnerRoute: o,
                    widgetId: i,
                  },
                  t
                );
              case Ne.Settings:
                return this.navigateToMemberSettingsSection(r.route.path, t);
            }
          }
          async navigateByPagePath(e, t) {
            var r, n;
            let { appDefinitionId: i, sectionId: o } = e;
            const s = await this.getPagePath({
              appDefinitionId: i,
              sectionId: o,
            });
            if (!s)
              throw (
                (null == t || t(Ae.CannotFindPageToNavigateTo),
                new Error(Ae.CannotFindPageToNavigateTo))
              );
            return (
              null == (r = (n = this.location).to) || r.call(n, s),
              Promise.resolve()
            );
          }
          async getLightboxIdByTpaPageId(e) {
            const { lightboxes: t } = await this.getSiteStructure(),
              r = t.find((t) => t.tpaPageId === e);
            return null == r ? void 0 : r.id;
          }
        }
        const ba = async () => {
            const e = Mt.getWixCodeAPI();
            return await e.site.getPublicAPI(ye);
          },
          _a = () => {
            const e = Mt.getSettingsRoutes(),
              t = Mt.getRoutes(),
              r = Mt.getWixCodeAPI();
            if (!r) throw new Error(Ae.NotInitializedWixCodeApi);
            return new ma(t, e, r.location, r.site, r.window);
          };
        var ya = (function (e) {
          return (e.V1 = "v1"), (e.V2 = "v2"), (e.V3 = "v3"), e;
        })(ya || {});
        lo({ isolateGlobalState: !0 });
        const wa = {
            [ya.V1]: () => ({
              hasSocialPages: (e, t) =>
                at("publicApi.hasSocialPages", () => Zt.hasSocialPages(e, t))(),
              getViewedUser: (e, t) =>
                at("publicApi.getViewedUser", () => Zt.getViewedUser(e, t))(),
              navigateToSection: (e, t) =>
                at("publicApi.navigateToSection", () =>
                  Zt.navigateToSection(e, t)
                )(),
              navigateToMember: (e, t) =>
                at("publicApi.navigateToMember", () =>
                  Zt.navigateToMember(e, t)
                )(),
              getNavigatableRoles: (e) =>
                at("publicApi.getNavigatableRoles", () =>
                  Zt.getNavigatableRoles(e)
                )(),
              getSectionUrl: (e, t) =>
                at("publicApi.getSectionUrl", () => Zt.getSectionUrl(e, t))(),
              getMemberPagePrefix: (e, t, r) =>
                at("publicApi.getMemberPagePrefix ", () =>
                  Zt.getMemberPagePrefix(e, t, r)
                )(),
              setNotificationCount: (e) =>
                at("publicApi.setNotificationCount", () =>
                  Zt.setNotificationCount({
                    config: Xt,
                    userService: Qt,
                    displayCount: e,
                  })
                )(),
              enterPublicProfilePreviewMode: () =>
                at("publicApi.enterPublicProfilePreviewMode", () =>
                  Zt.enterPublicProfilePreviewMode({
                    userService: Qt,
                    config: Xt,
                  })
                )(),
              leavePublicProfilePreviewMode: () =>
                at("publicApi.leavePublicProfilePreviewMode", () =>
                  Zt.leavePublicProfilePreviewMode({
                    userService: Qt,
                    config: Xt,
                  })
                )(),
              openBlockedMemberEmptyState: async () => {
                throw new Error(
                  "openBlockedMemberEmptyState is only supported in members area v2"
                );
              },
              clearMenus: () =>
                at("publicApi.clearMenus", () =>
                  Zt.clearMenus({ config: Xt })
                )(),
              getRoutes: () => {
                throw new Error(
                  "getRoutes is only supported in members area v2"
                );
              },
              getSettingsRoutes: () => {
                throw new Error(
                  "getRoutes is only supported in members area v3"
                );
              },
              getIsMembersAreaSeoEnabled: () =>
                at("publicApi.getIsMembersAreaSeoEnabled", () =>
                  Zt.getIsMembersAreaSeoEnabled({ config: Yt })
                )(),
              isAppSectionInstalled: (e) =>
                at("publicApi.isAppSectionInstalled", () =>
                  Zt.isAppSectionInstalled(e)
                )(),
              openLightbox: () => {
                throw new Error(
                  "openLightbox is only supported in members area v2 and v3"
                );
              },
              getInstalledLightboxes: () => Promise.resolve([]),
            }),
            [ya.V2]: () => ({
              hasSocialPages: (e, t) =>
                at("publicApi.hasSocialPages", () =>
                  va().hasSocialPages(e, t)
                )(),
              getViewedUser: (e, t) =>
                at("publicApi.getViewedUser", async () =>
                  (await ga()).getViewedUser(e, t)
                )(),
              navigateToSection: (e, t) =>
                at("publicApi.navigateToSection", () =>
                  va().navigateToSection(e, t)
                )(),
              navigateToMember: (e, t) =>
                at("publicApi.navigateToMember", () =>
                  va().navigateToMember(e, t)
                )(),
              getNavigatableRoles: (e) =>
                at("publicApi.getNavigatableRoles", () =>
                  va().getNavigatableRoles(e)
                )(),
              getSectionUrl: (e, t) =>
                at("publicApi.getSectionUrl", () => va().getSectionUrl(e, t))(),
              getMemberPagePrefix: (e, t, r) =>
                at("publicApi.getMemberPagePrefix ", () =>
                  va().getMemberPagePrefix(e, t, r)
                )(),
              setNotificationCount: (e) =>
                at("publicApi.setNotificationCount", () =>
                  va().setNotificationCount(e)
                )(),
              enterPublicProfilePreviewMode: () =>
                at("publicApi.enterPublicProfilePreviewMode", async () =>
                  (await ga()).enterPublicProfilePreviewMode()
                )(),
              leavePublicProfilePreviewMode: () =>
                at("publicApi.leavePublicProfilePreviewMode", async () =>
                  (await ga()).leavePublicProfilePreviewMode()
                )(),
              openBlockedMemberEmptyState: () =>
                at("publicApi.openBlockedMemberEmptyState", async () =>
                  (await ga()).openBlockedMemberEmptyState()
                )(),
              clearMenus: () =>
                at("publicApi.clearMenus", async () =>
                  (await ga()).clearMenus()
                )(),
              getRoutes: (e) =>
                at("publicApi.getRoutes", () => va().getRoutes(e))(),
              getSettingsRoutes: (e) =>
                at("publicApi.getSettingsRoutes", () =>
                  va().getSettingsRoutes(e)
                )(),
              getIsMembersAreaSeoEnabled: () =>
                at("publicApi.getIsMembersAreaSeoEnabled", () =>
                  va().getIsMembersAreaSeoEnabled()
                )(),
              isAppSectionInstalled: (e) =>
                at("publicApi.isAppSectionInstalled", () =>
                  va().isAppSectionInstalled(e)
                )(),
              openLightbox: (e, t) =>
                at("publicApi.openLightbox", () => va().openLightbox(e, t))(),
              getInstalledLightboxes: () =>
                at("publicApi.getInstalledLightboxes", () =>
                  va().getInstalledLightboxes()
                )(),
            }),
            [ya.V3]: () => ({
              hasSocialPages: (e, t) =>
                at("v3.publicApi.hasSocialPages", () =>
                  _a().hasSocialPages(e, t)
                )(),
              getViewedUser: (e, t) =>
                at("v3.publicApi.getViewedUser", async () =>
                  (await ba()).getViewedUser(e, t)
                )(),
              navigateToSection: (e, t) =>
                at("v3.publicApi.navigateToSection", () =>
                  _a().navigateToSection(e, t)
                )(),
              navigateToMember: (e, t) =>
                at("v3.publicApi.navigateToMember", () =>
                  _a().navigateToMember(e, t)
                )(),
              getNavigatableRoles: (e) =>
                at("v3.publicApi.getNavigatableRoles", () =>
                  _a().getNavigatableRoles(e)
                )(),
              getSectionUrl: (e, t) =>
                at("v3.publicApi.getSectionUrl", () =>
                  _a().getSectionUrl(e, t)
                )(),
              getMemberPagePrefix: (e, t, r) =>
                at("v3.publicApi.getMemberPagePrefix ", () =>
                  _a().getMemberPagePrefix(e, t, r)
                )(),
              setNotificationCount: (e) =>
                at("v3.publicApi.setNotificationCount", () =>
                  _a().setNotificationCount(e)
                )(),
              enterPublicProfilePreviewMode: () =>
                at("v3.publicApi.enterPublicProfilePreviewMode", async () =>
                  (await ba()).enterPublicProfilePreviewMode()
                )(),
              leavePublicProfilePreviewMode: () =>
                at("v3.publicApi.leavePublicProfilePreviewMode", async () =>
                  (await ba()).leavePublicProfilePreviewMode()
                )(),
              openBlockedMemberEmptyState: () =>
                at("v3.publicApi.openBlockedMemberEmptyState", async () =>
                  (await ba()).openBlockedMemberEmptyState()
                )(),
              clearMenus: () =>
                at("v3.publicApi.clearMenus", async () =>
                  (await ba()).clearMenus()
                )(),
              getRoutes: (e) =>
                at("v3.publicApi.getRoutes", () => _a().getRoutes(e))(),
              getSettingsRoutes: (e) =>
                at("v3.publicApi.getSettingsRoutes", () =>
                  _a().getSettingsRoutes(e)
                )(),
              getIsMembersAreaSeoEnabled: () =>
                at("v3.publicApi.getIsMembersAreaSeoEnabled", () =>
                  _a().getIsMembersAreaSeoEnabled()
                )(),
              isAppSectionInstalled: (e) =>
                at("v3.publicApi.isAppSectionInstalled", () =>
                  _a().isAppSectionInstalled(e)
                )(),
              openLightbox: (e, t) =>
                at("v3.publicApi.openLightbox", () =>
                  _a().openLightbox(e, t)
                )(),
              getInstalledLightboxes: () =>
                at("v3.publicApi.getInstalledLightboxes", () =>
                  _a().getInstalledLightboxes()
                )(),
            }),
          },
          Pa = async () => {
            const e = await (async () => {
              const e = Mt.getWixCodeAPI(),
                [t, r] = await Promise.all([gr(e), hr(e)]);
              return t ? ya.V3 : r ? ya.V2 : ya.V1;
            })();
            return (0, wa[e])();
          },
          Sa = async (e, t, r, n, i) => {
            var o;
            const s = null == (o = e.publicData) ? void 0 : o.APP,
              a = (null == s ? void 0 : s.routes) ?? [],
              u = (null == s ? void 0 : s.settingsRoutes) ?? [];
            ((e, t) => {
              const r = Math.random();
              (st = 0.1 >= r),
                (it = t.monitoring.createMonitor(
                  "https://fe0974951f45411fbe57fbbd7c30bbf2@sentry.wixpress.com/28"
                )),
                it && it.setUserContext({ msid: t.bi.metaSiteId }),
                (ot = t.fedOpsLoggerFactory.getLoggerForWidget({
                  appName: "santa-members-viewer-app",
                  appId: e.appDefinitionId,
                }));
            })(e, n),
              Mt.setFlowAPI(i),
              Mt.setWixCodeAPI(r),
              Mt.setRoutes(a),
              Mt.setSettingsRoutes(u);
            const l = la(e, r, i),
              c = at("initAppForPage", () => rr(e, t, r, i, n))();
            return { initApplication: async () => (await c, l.getAppData()) };
          },
          Ia = () => Pa();
        var Aa = {
          disabled: { on: "disable", off: "enable" },
          hidden: { on: "hide", off: "show" },
          collapsed: { on: "collapse", off: "expand" },
          deleted: { on: "delete", off: "restore" },
        };
        var Ca,
          xa,
          Ra = function (e, t, r) {
            return (
              void 0 === r && (r = []),
              function (n, i) {
                if (!i) throw new Error("No selector found " + n);
                var o =
                    r.length > 0
                      ? (function (e, t, r) {
                          if (!e || "object" != typeof e) return r;
                          for (var n = e, i = 0, o = t; i < o.length; i++) {
                            var s = o[i];
                            if (!n || "object" != typeof n) return r;
                            n = n[s];
                          }
                          return void 0 !== n ? n : r;
                        })(e(n), r)
                      : e(n),
                  s = [],
                  a = "data" in i;
                a &&
                  (function (e, t, r) {
                    if (void 0 !== t) {
                      var n = {};
                      e.onItemReady(
                        r.action(function (e, i, o) {
                          var s = Ra(e, r),
                            a = t(i, s, o);
                          if (a) {
                            var u = Ma(e, r)(a);
                            n[i._id] = u;
                          }
                        })
                      ),
                        e.onItemRemoved(
                          r.action(function (e) {
                            n[e._id]();
                          })
                        );
                    }
                  })(o, i.item, t);
                var u = (function (e) {
                  return "currentState" in e;
                })(i);
                if (u && i.currentState) {
                  var l = t.reaction(
                    i.currentState,
                    function (e) {
                      o.changeState(e);
                    },
                    { fireImmediately: !0 }
                  );
                  s.push(l);
                }
                for (
                  var c = function (i, l) {
                      if (void 0 === l) return "continue";
                      if (a && "item" === i) return "continue";
                      if (u && "currentState" === i) return "continue";
                      if (i.startsWith("on"))
                        return o[i](t.action(l)), "continue";
                      var c = $(r, [i]);
                      if (
                        (function (e) {
                          return "object" == typeof e;
                        })(l)
                      ) {
                        var d = Ra(e, t, c)(n, l);
                        return s.push(d), "continue";
                      }
                      if (i) {
                        var p = t.reaction(
                          l,
                          function (t) {
                            if (
                              ((s = o),
                              ((a = i) in Aa) &&
                                (Aa[a].on in s) &&
                                (Aa[a].off in s))
                            ) {
                              var r = (function (e) {
                                return Aa[e];
                              })(i)[t ? "on" : "off"];
                              o[r] && o[r]();
                            } else
                              !(function (e, t, r) {
                                if (!e || "object" != typeof e) return e;
                                var n = $(t),
                                  i = n.pop();
                                if (i) {
                                  for (
                                    var o = e, s = 0, a = n;
                                    s < a.length;
                                    s++
                                  ) {
                                    var u = a[s];
                                    (o[u] && "object" == typeof o[u]) ||
                                      (o[u] = {}),
                                      (o = o[u]);
                                  }
                                  o[i] = r;
                                }
                              })(e(n), c, t);
                            var s, a;
                          },
                          { fireImmediately: !0 }
                        );
                        s.push(p);
                      }
                    },
                    d = 0,
                    p = Object.entries(i);
                  d < p.length;
                  d++
                ) {
                  var f = p[d];
                  c(f[0], f[1]);
                }
                return function () {
                  return s.forEach(function (e) {
                    return e();
                  });
                };
              }
            );
          },
          Ma = function (e, t) {
            return function (r) {
              for (
                var n = Ra(e, t), i = [], o = 0, s = Object.entries(r);
                o < s.length;
                o++
              ) {
                var a = s[o],
                  u = a[0],
                  l = a[1];
                if (l) {
                  var c = n(u, l);
                  i.push(c);
                }
              }
              return function () {
                return i.forEach(function (e) {
                  return e();
                });
              };
            };
          },
          Oa = function (e) {
            return function (t) {
              if (!t) throw new Error("Trying to initialize state without $w.");
              return { $bindAll: Ma(t, e), $bind: Ra(t, e) };
            };
          },
          Ea = function (e, t) {
            var r, n;
            return null !==
              (n =
                null === (r = t.observable) || void 0 === r
                  ? void 0
                  : r.call(t, e)) && void 0 !== n
              ? n
              : e;
          },
          Na = function (e) {
            return function (t) {
              if (!t)
                throw new Error(
                  "Trying to initialize state without default state."
                );
              return { state: Ea(t, e) };
            };
          };
        const Da = (e) =>
            function (t) {
              void 0 === t && (t = {});
              const r = "function" == typeof e.factory ? e.factory(t) : e;
              return (function (e, t) {
                return (
                  Object.defineProperty(t, "updateDefaults", {
                    value: function (t) {
                      return e.updateDefaults(t);
                    },
                  }),
                  t
                );
              })(r, r.logger());
            },
          Ua = Da;
        var Ta = e,
          La = t,
          ka = i,
          ja = {
            initState: (Ca = {
              initState: Na(
                (xa = {
                  configure: function () {
                    lo({ isolateGlobalState: !0 });
                  },
                  observable: qn,
                  action: Zi,
                  reaction: function (e, t, r) {
                    var n, i, o, s;
                    void 0 === r && (r = Ar);
                    var a,
                      u,
                      l,
                      c,
                      d = null != (n = r.name) ? n : "Reaction",
                      p = Zi(
                        d,
                        r.onError
                          ? ((a = r.onError),
                            (u = t),
                            function () {
                              try {
                                return u.apply(this, arguments);
                              } catch (e) {
                                a.call(this, e);
                              }
                            })
                          : t
                      ),
                      f = !r.scheduler && !r.delay,
                      h = no(r),
                      g = !0,
                      v = !1,
                      m = r.compareStructural
                        ? ln.structural
                        : r.equals || ln.default,
                      b = new ji(
                        d,
                        function () {
                          g || f ? _() : v || ((v = !0), h(_));
                        },
                        r.onError,
                        r.requiresObservable
                      );
                    function _() {
                      if (((v = !1), !b.isDisposed_)) {
                        var t = !1;
                        b.track(function () {
                          var r = si(!1, function () {
                            return e(b);
                          });
                          (t = g || !m(l, r)), (c = l), (l = r);
                        }),
                          ((g && r.fireImmediately) || (!g && t)) && p(l, c, b),
                          (g = !1);
                      }
                    }
                    return (
                      (null != (i = r) &&
                        null != (o = i.signal) &&
                        o.aborted) ||
                        b.schedule_(),
                      b.getDisposer_(null == (s = r) ? void 0 : s.signal)
                    );
                  },
                })
              ),
              initBind: Oa(xa),
            }).initState,
            initBind: Ca.initBind,
            observable: qn,
          };
        const Ba = !1;
        var Fa = {
            DSN: "https://1447e27dc6864379bd4824d259480b74@sentry-next.wixpress.com/7858",
            id: "undefined",
            projectName: "santa-members-viewer-app",
            teamName: "undefined",
            errorMonitor: !0,
          },
          Va = { enabled: !1, icuEnabled: !1 },
          $a = null,
          Wa = null;
        const Ka = o.exports,
          Ga = (function (e) {
            var t = e.initAppForPage,
              r = e.sentryConfig,
              n = void 0 === r ? null : r,
              i = e.experimentsConfig,
              o = void 0 === i ? null : i,
              s = e.inEditor,
              a = void 0 !== s && s,
              u = e.projectName,
              l = e.defaultTranslations,
              c = e.translationsConfig,
              d = e.biConfig,
              p = e.biLogger,
              f = e.appName,
              h = void 0 === f ? null : f,
              g = e.optionalDeps,
              v = e.localeDistPath,
              m = e.prepopulatedData,
              b = e.shouldUseEssentials;
            return function (e, r, i, s) {
              return k(void 0, void 0, void 0, function () {
                var f, _, y, w;
                return j(this, function (P) {
                  switch (P.label) {
                    case 0:
                      return (
                        (f = new E({
                          experimentsConfig: o,
                          projectName: u,
                          sentryConfig: n,
                          platformBI: s.bi,
                          biLoggerFactory: s.biLoggerFactory,
                          essentials: s.essentials,
                          monitoring: s.monitoring,
                          wixAPI: i,
                          appData: e,
                          translationsConfig: c,
                          defaultTranslations: l,
                          inEditor: a,
                          biConfig: d,
                          biLogger: p,
                          appName: h,
                          optionalDeps: g,
                          localeDistPath: v,
                          prepopulatedData: m,
                          shouldUseEssentials: b,
                        })),
                        D(f),
                        (_ = f.init()),
                        U(_),
                        [4, _]
                      );
                    case 1:
                      if ((P.sent(), !t)) return [3, 5];
                      P.label = 2;
                    case 2:
                      return P.trys.push([2, 4, , 5]), [4, t(e, r, i, s, f)];
                    case 3:
                      return (y = P.sent()), L(y), [3, 5];
                    case 4:
                      throw (
                        ((w = P.sent()),
                        a ||
                          (console.error(
                            '\u2757\ufe0fError \u{1f449} "'.concat(
                              h,
                              '" app \u{1f449} `viewer.app.ts` module \u2757\n'
                            ),
                            w
                          ),
                          f.reportError(w)),
                        w)
                      );
                    case 5:
                      return [2, T()];
                  }
                });
              });
            };
          })({
            initAppForPage: o.initAppForPage,
            sentryConfig: Fa,
            experimentsConfig: { scopes: ["members-area"], centralized: !0 },
            inEditor: !1,
            biLogger: Ua,
            multilingualDisabled: Ba,
            projectName: "santa-members-viewer-app",
            biConfig: null,
            appName: "Members Area Viewer Script",
            appDefinitionId: "14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",
            fedopsConfig: Wa,
            translationsConfig: Va,
            defaultTranslations: $a,
            shouldUseEssentials: !0,
            optionalDeps: {
              initI18n: null,
              createHttpClient: null,
              createExperiments: null,
            },
            localeDistPath: "assets/locales",
          }),
          Ja =
            ((Ha = {
              initI18n: null,
              blocksControllerService: null,
              createHttpClient: null,
              createExperiments: null,
              velocycleMobx: ja,
            }),
            (qa = [
              {
                method: vr,
                wrap: ve,
                exports: Ta,
                widgetType: "PLATFORM_WIDGET",
                translationsConfig: Va,
                multilingualDisabled: Ba,
                experimentsConfig: {
                  scopes: ["members-area"],
                  centralized: !0,
                },
                fedopsConfig: Wa,
                sentryConfig: Fa,
                persistentAcrossPages: !1,
                biLogger: Ua,
                shouldUseEssentials: !0,
                withErrorBoundary: !1,
                biConfig: null,
                controllerFileName:
                  "/home/builduser/work/d58756a41851642f/packages/members-viewer-app/src/components/members/controller.ts",
                appName: "Members Area Viewer Script",
                appDefinitionId: "14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",
                projectName: "santa-members-viewer-app",
                componentName: "members",
                localeDistPath: "assets/locales",
                defaultTranslations: $a,
                id: "members",
              },
              {
                method: aa,
                wrap: ve,
                exports: La,
                widgetType: "PLATFORM_WIDGET",
                translationsConfig: Va,
                multilingualDisabled: Ba,
                experimentsConfig: {
                  scopes: ["members-area"],
                  centralized: !0,
                },
                fedopsConfig: Wa,
                sentryConfig: Fa,
                persistentAcrossPages: !1,
                biLogger: Ua,
                shouldUseEssentials: !0,
                withErrorBoundary: !1,
                biConfig: null,
                controllerFileName:
                  "/home/builduser/work/d58756a41851642f/packages/members-viewer-app/src/components/members-login-bar/controller.ts",
                appName: "Members Area Viewer Script",
                appDefinitionId: "14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",
                projectName: "santa-members-viewer-app",
                componentName: "members-login-bar",
                localeDistPath: "assets/locales",
                defaultTranslations: $a,
                id: "members-login-bar",
              },
              {
                method: ua,
                wrap: ve,
                exports: ka,
                widgetType: "PLATFORM_WIDGET",
                translationsConfig: Va,
                multilingualDisabled: Ba,
                experimentsConfig: {
                  scopes: ["members-area"],
                  centralized: !0,
                },
                fedopsConfig: Wa,
                sentryConfig: Fa,
                persistentAcrossPages: !1,
                biLogger: Ua,
                shouldUseEssentials: !0,
                withErrorBoundary: !1,
                biConfig: null,
                controllerFileName:
                  "/home/builduser/work/d58756a41851642f/packages/members-viewer-app/src/components/members-menu/controller.ts",
                appName: "Members Area Viewer Script",
                appDefinitionId: "14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9",
                projectName: "santa-members-viewer-app",
                componentName: "members-menu",
                localeDistPath: "assets/locales",
                defaultTranslations: $a,
                id: "members-menu",
              },
            ]),
            void 0 === (za = !0) && (za = !1),
            function (e, t) {
              var r = [];
              e.forEach(function (e) {
                var n,
                  i = e.type,
                  o =
                    ((n = i),
                    qa.find(function (e) {
                      return e.id === n;
                    }));
                if (
                  (o ||
                    ((function (e) {
                      var t, r, n;
                      return (
                        (null === (t = e.appParams) || void 0 === t
                          ? void 0
                          : t.blocksData) ||
                        (null ===
                          (n =
                            null === (r = e.appParams) || void 0 === r
                              ? void 0
                              : r.appData) || void 0 === n
                          ? void 0
                          : n.blocksPreviewData)
                      );
                    })(e) &&
                      (o = { widgetType: s, method: null, exports: {} })),
                  (null == o ? void 0 : o.widgetType) !== s && !za)
                ) {
                  var a = null == t ? void 0 : t[i];
                  if (!a) return;
                  if (!o) {
                    var u = (function (e) {
                      return B(e) ? null : e.descriptor;
                    })(a);
                    if (!u)
                      throw new Error(
                        "Can't resolve controller descriptor for \"".concat(
                          i,
                          '" controller.'
                        )
                      );
                    o = u;
                  }
                  (o.method = (function (e) {
                    if (B(e)) return e;
                    var t =
                      e[
                        Object.keys(e).find(function (e) {
                          return e.toLowerCase().includes("controller");
                        }) || "default"
                      ];
                    if ("function" != typeof t)
                      throw new Error(
                        "Seems like a bundle you have registered as Controller URL in Dev Center doesn't contain exported controller.\nPlease, verify you are using relevant controller bundle generated by editor flow."
                      );
                    return t;
                  })(a)),
                    (o.wrap =
                      (function (e) {
                        return B(e) ? null : e.wrap;
                      })(a) || void 0),
                    (o.exports = a);
                }
                o && r.push({ controllerDescriptor: o, controllerConfig: e });
              });
              var n = r.map(function (e) {
                var t = e.controllerDescriptor,
                  r = e.controllerConfig;
                if (t.wrap) return t.wrap(Ha, t, r, I, A, T);
              });
              return n;
            });
        var Ha, qa, za;
        const Xa = Ja;
      })(),
      n
    );
  })()
);
//# sourceMappingURL=viewerScript.bundle.min.js.map
//# sourceURL=https://static.parastorage.com/services/santa-members-viewer-app/1.2590.0/viewerScript.bundle.min.js
